(self.webpackChunkclientpanel=self.webpackChunkclientpanel||[]).push([[179],{8255:Je=>{function Te(j){return Promise.resolve().then(()=>{var T=new Error("Cannot find module '"+j+"'");throw T.code="MODULE_NOT_FOUND",T})}Te.keys=()=>[],Te.resolve=Te,Te.id=8255,Je.exports=Te},8583:(Je,Te,j)=>{"use strict";j.r(Te),j.d(Te,{APP_BASE_HREF:()=>Ae,AsyncPipe:()=>ko,CommonModule:()=>Fl,CurrencyPipe:()=>Eu,DOCUMENT:()=>Se,DatePipe:()=>Ml,DecimalPipe:()=>xi,FormStyle:()=>ye,FormatWidth:()=>ge,HashLocationStrategy:()=>Be,I18nPluralPipe:()=>sf,I18nSelectPipe:()=>Ze,JsonPipe:()=>zs,KeyValuePipe:()=>Fo,LOCATION_INITIALIZED:()=>B,Location:()=>qe,LocationStrategy:()=>re,LowerCasePipe:()=>cd,NgClass:()=>ct,NgComponentOutlet:()=>hn,NgForOf:()=>qi,NgForOfContext:()=>Ti,NgIf:()=>Si,NgIfContext:()=>yn,NgLocaleLocalization:()=>gs,NgLocalization:()=>Ur,NgPlural:()=>Oo,NgPluralCase:()=>Ai,NgStyle:()=>Rn,NgSwitch:()=>vu,NgSwitchCase:()=>ft,NgSwitchDefault:()=>ys,NgTemplateOutlet:()=>Ni,NumberFormatStyle:()=>ve,NumberSymbol:()=>se,PathLocationStrategy:()=>Oe,PercentPipe:()=>Lo,PlatformLocation:()=>Ee,Plural:()=>fe,SlicePipe:()=>kl,TitleCasePipe:()=>Wt,TranslationWidth:()=>we,UpperCasePipe:()=>xl,VERSION:()=>Ks,ViewportScroller:()=>Uo,WeekDay:()=>xe,XhrFactory:()=>ba,formatCurrency:()=>Nl,formatDate:()=>gr,formatNumber:()=>ze,formatPercent:()=>ei,getCurrencySymbol:()=>Gr,getLocaleCurrencyCode:()=>So,getLocaleCurrencyName:()=>an,getLocaleCurrencySymbol:()=>pr,getLocaleDateFormat:()=>cn,getLocaleDateTimeFormat:()=>Rt,getLocaleDayNames:()=>tt,getLocaleDayPeriods:()=>Dt,getLocaleDirection:()=>Di,getLocaleEraNames:()=>nn,getLocaleExtraDayPeriodRules:()=>Gs,getLocaleExtraDayPeriods:()=>fs,getLocaleFirstDayOfWeek:()=>An,getLocaleId:()=>it,getLocaleMonthNames:()=>wt,getLocaleNumberFormat:()=>hs,getLocaleNumberSymbol:()=>fr,getLocalePluralCase:()=>Gn,getLocaleTimeFormat:()=>Tt,getLocaleWeekEndRange:()=>fi,getNumberOfCurrencyDigits:()=>ke,isPlatformBrowser:()=>Ar,isPlatformServer:()=>Ia,isPlatformWorkerApp:()=>of,isPlatformWorkerUi:()=>Cu,registerLocaleData:()=>wr,\u0275BrowserPlatformLocation:()=>$,\u0275DomAdapter:()=>ce,\u0275NullViewportScroller:()=>rn,\u0275PLATFORM_BROWSER_ID:()=>zn,\u0275PLATFORM_SERVER_ID:()=>Ki,\u0275PLATFORM_WORKER_APP_ID:()=>Zi,\u0275PLATFORM_WORKER_UI_ID:()=>Vo,\u0275angular_packages_common_common_a:()=>J,\u0275angular_packages_common_common_b:()=>G,\u0275angular_packages_common_common_c:()=>$e,\u0275angular_packages_common_common_d:()=>Me,\u0275angular_packages_common_common_e:()=>Un,\u0275angular_packages_common_common_f:()=>_n,\u0275getDOM:()=>K,\u0275parseCookieValue:()=>Ye,\u0275setRootDomAdapter:()=>he});var T=j(3018);let y=null;function K(){return y}function he(N){y||(y=N)}class ce{}const Se=new T.InjectionToken("DocumentToken");let Ee=(()=>{class N{historyGo(R){throw new Error("Not implemented")}}return N.\u0275fac=function(R){return new(R||N)},N.\u0275prov=(0,T.\u0275\u0275defineInjectable)({factory:J,token:N,providedIn:"platform"}),N})();function J(){return(0,T.\u0275\u0275inject)($)}const B=new T.InjectionToken("Location Initialized");let $=(()=>{class N extends Ee{constructor(R){super(),this._doc=R,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return K().getBaseHref(this._doc)}onPopState(R){const F=K().getGlobalEventTarget(this._doc,"window");return F.addEventListener("popstate",R,!1),()=>F.removeEventListener("popstate",R)}onHashChange(R){const F=K().getGlobalEventTarget(this._doc,"window");return F.addEventListener("hashchange",R,!1),()=>F.removeEventListener("hashchange",R)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(R){this.location.pathname=R}pushState(R,F,Q){Z()?this._history.pushState(R,F,Q):this.location.hash=Q}replaceState(R,F,Q){Z()?this._history.replaceState(R,F,Q):this.location.hash=Q}forward(){this._history.forward()}back(){this._history.back()}historyGo(R=0){this._history.go(R)}getState(){return this._history.state}}return N.\u0275fac=function(R){return new(R||N)(T.\u0275\u0275inject(Se))},N.\u0275prov=(0,T.\u0275\u0275defineInjectable)({factory:G,token:N,providedIn:"platform"}),N})();function Z(){return!!window.history.pushState}function G(){return new $((0,T.\u0275\u0275inject)(Se))}function z(N,O){if(0==N.length)return O;if(0==O.length)return N;let R=0;return N.endsWith("/")&&R++,O.startsWith("/")&&R++,2==R?N+O.substring(1):1==R?N+O:N+"/"+O}function te(N){const O=N.match(/#|\?|$/),R=O&&O.index||N.length;return N.slice(0,R-("/"===N[R-1]?1:0))+N.slice(R)}function ne(N){return N&&"?"!==N[0]?"?"+N:N}let re=(()=>{class N{historyGo(R){throw new Error("Not implemented")}}return N.\u0275fac=function(R){return new(R||N)},N.\u0275prov=(0,T.\u0275\u0275defineInjectable)({factory:Me,token:N,providedIn:"root"}),N})();function Me(N){const O=(0,T.\u0275\u0275inject)(Se).location;return new Oe((0,T.\u0275\u0275inject)(Ee),O&&O.origin||"")}const Ae=new T.InjectionToken("appBaseHref");let Oe=(()=>{class N extends re{constructor(R,F){if(super(),this._platformLocation=R,this._removeListenerFns=[],null==F&&(F=this._platformLocation.getBaseHrefFromDOM()),null==F)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=F}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}prepareExternalUrl(R){return z(this._baseHref,R)}path(R=!1){const F=this._platformLocation.pathname+ne(this._platformLocation.search),Q=this._platformLocation.hash;return Q&&R?`${F}${Q}`:F}pushState(R,F,Q,de){const Le=this.prepareExternalUrl(Q+ne(de));this._platformLocation.pushState(R,F,Le)}replaceState(R,F,Q,de){const Le=this.prepareExternalUrl(Q+ne(de));this._platformLocation.replaceState(R,F,Le)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(R=0){var F,Q;null===(Q=(F=this._platformLocation).historyGo)||void 0===Q||Q.call(F,R)}}return N.\u0275fac=function(R){return new(R||N)(T.\u0275\u0275inject(Ee),T.\u0275\u0275inject(Ae,8))},N.\u0275prov=T.\u0275\u0275defineInjectable({token:N,factory:N.\u0275fac}),N})(),Be=(()=>{class N extends re{constructor(R,F){super(),this._platformLocation=R,this._baseHref="",this._removeListenerFns=[],null!=F&&(this._baseHref=F)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}path(R=!1){let F=this._platformLocation.hash;return null==F&&(F="#"),F.length>0?F.substring(1):F}prepareExternalUrl(R){const F=z(this._baseHref,R);return F.length>0?"#"+F:F}pushState(R,F,Q,de){let Le=this.prepareExternalUrl(Q+ne(de));0==Le.length&&(Le=this._platformLocation.pathname),this._platformLocation.pushState(R,F,Le)}replaceState(R,F,Q,de){let Le=this.prepareExternalUrl(Q+ne(de));0==Le.length&&(Le=this._platformLocation.pathname),this._platformLocation.replaceState(R,F,Le)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(R=0){var F,Q;null===(Q=(F=this._platformLocation).historyGo)||void 0===Q||Q.call(F,R)}}return N.\u0275fac=function(R){return new(R||N)(T.\u0275\u0275inject(Ee),T.\u0275\u0275inject(Ae,8))},N.\u0275prov=T.\u0275\u0275defineInjectable({token:N,factory:N.\u0275fac}),N})(),qe=(()=>{class N{constructor(R,F){this._subject=new T.EventEmitter,this._urlChangeListeners=[],this._platformStrategy=R;const Q=this._platformStrategy.getBaseHref();this._platformLocation=F,this._baseHref=te(Ht(Q)),this._platformStrategy.onPopState(de=>{this._subject.emit({url:this.path(!0),pop:!0,state:de.state,type:de.type})})}path(R=!1){return this.normalize(this._platformStrategy.path(R))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(R,F=""){return this.path()==this.normalize(R+ne(F))}normalize(R){return N.stripTrailingSlash(function(N,O){return N&&O.startsWith(N)?O.substring(N.length):O}(this._baseHref,Ht(R)))}prepareExternalUrl(R){return R&&"/"!==R[0]&&(R="/"+R),this._platformStrategy.prepareExternalUrl(R)}go(R,F="",Q=null){this._platformStrategy.pushState(Q,"",R,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+ne(F)),Q)}replaceState(R,F="",Q=null){this._platformStrategy.replaceState(Q,"",R,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+ne(F)),Q)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(R=0){var F,Q;null===(Q=(F=this._platformStrategy).historyGo)||void 0===Q||Q.call(F,R)}onUrlChange(R){this._urlChangeListeners.push(R),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(F=>{this._notifyUrlChangeListeners(F.url,F.state)}))}_notifyUrlChangeListeners(R="",F){this._urlChangeListeners.forEach(Q=>Q(R,F))}subscribe(R,F,Q){return this._subject.subscribe({next:R,error:F,complete:Q})}}return N.\u0275fac=function(R){return new(R||N)(T.\u0275\u0275inject(re),T.\u0275\u0275inject(Ee))},N.normalizeQueryParams=ne,N.joinWithSlash=z,N.stripTrailingSlash=te,N.\u0275prov=(0,T.\u0275\u0275defineInjectable)({factory:$e,token:N,providedIn:"root"}),N})();function $e(){return new qe((0,T.\u0275\u0275inject)(re),(0,T.\u0275\u0275inject)(Ee))}function Ht(N){return N.replace(/\/index.html$/,"")}const vt={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var ve=(()=>((ve=ve||{})[ve.Decimal=0]="Decimal",ve[ve.Percent=1]="Percent",ve[ve.Currency=2]="Currency",ve[ve.Scientific=3]="Scientific",ve))(),fe=(()=>((fe=fe||{})[fe.Zero=0]="Zero",fe[fe.One=1]="One",fe[fe.Two=2]="Two",fe[fe.Few=3]="Few",fe[fe.Many=4]="Many",fe[fe.Other=5]="Other",fe))(),ye=(()=>((ye=ye||{})[ye.Format=0]="Format",ye[ye.Standalone=1]="Standalone",ye))(),we=(()=>((we=we||{})[we.Narrow=0]="Narrow",we[we.Abbreviated=1]="Abbreviated",we[we.Wide=2]="Wide",we[we.Short=3]="Short",we))(),ge=(()=>((ge=ge||{})[ge.Short=0]="Short",ge[ge.Medium=1]="Medium",ge[ge.Long=2]="Long",ge[ge.Full=3]="Full",ge))(),se=(()=>((se=se||{})[se.Decimal=0]="Decimal",se[se.Group=1]="Group",se[se.List=2]="List",se[se.PercentSign=3]="PercentSign",se[se.PlusSign=4]="PlusSign",se[se.MinusSign=5]="MinusSign",se[se.Exponential=6]="Exponential",se[se.SuperscriptingExponent=7]="SuperscriptingExponent",se[se.PerMille=8]="PerMille",se[se.Infinity=9]="Infinity",se[se.NaN=10]="NaN",se[se.TimeSeparator=11]="TimeSeparator",se[se.CurrencyDecimal=12]="CurrencyDecimal",se[se.CurrencyGroup=13]="CurrencyGroup",se))(),xe=(()=>((xe=xe||{})[xe.Sunday=0]="Sunday",xe[xe.Monday=1]="Monday",xe[xe.Tuesday=2]="Tuesday",xe[xe.Wednesday=3]="Wednesday",xe[xe.Thursday=4]="Thursday",xe[xe.Friday=5]="Friday",xe[xe.Saturday=6]="Saturday",xe))();function it(N){return(0,T.\u0275findLocaleData)(N)[T.\u0275LocaleDataIndex.LocaleId]}function Dt(N,O,R){const F=(0,T.\u0275findLocaleData)(N),de=Nn([F[T.\u0275LocaleDataIndex.DayPeriodsFormat],F[T.\u0275LocaleDataIndex.DayPeriodsStandalone]],O);return Nn(de,R)}function tt(N,O,R){const F=(0,T.\u0275findLocaleData)(N),de=Nn([F[T.\u0275LocaleDataIndex.DaysFormat],F[T.\u0275LocaleDataIndex.DaysStandalone]],O);return Nn(de,R)}function wt(N,O,R){const F=(0,T.\u0275findLocaleData)(N),de=Nn([F[T.\u0275LocaleDataIndex.MonthsFormat],F[T.\u0275LocaleDataIndex.MonthsStandalone]],O);return Nn(de,R)}function nn(N,O){return Nn((0,T.\u0275findLocaleData)(N)[T.\u0275LocaleDataIndex.Eras],O)}function An(N){return(0,T.\u0275findLocaleData)(N)[T.\u0275LocaleDataIndex.FirstDayOfWeek]}function fi(N){return(0,T.\u0275findLocaleData)(N)[T.\u0275LocaleDataIndex.WeekendRange]}function cn(N,O){return Nn((0,T.\u0275findLocaleData)(N)[T.\u0275LocaleDataIndex.DateFormat],O)}function Tt(N,O){return Nn((0,T.\u0275findLocaleData)(N)[T.\u0275LocaleDataIndex.TimeFormat],O)}function Rt(N,O){return Nn((0,T.\u0275findLocaleData)(N)[T.\u0275LocaleDataIndex.DateTimeFormat],O)}function fr(N,O){const R=(0,T.\u0275findLocaleData)(N),F=R[T.\u0275LocaleDataIndex.NumberSymbols][O];if(void 0===F){if(O===se.CurrencyDecimal)return R[T.\u0275LocaleDataIndex.NumberSymbols][se.Decimal];if(O===se.CurrencyGroup)return R[T.\u0275LocaleDataIndex.NumberSymbols][se.Group]}return F}function hs(N,O){return(0,T.\u0275findLocaleData)(N)[T.\u0275LocaleDataIndex.NumberFormats][O]}function pr(N){return(0,T.\u0275findLocaleData)(N)[T.\u0275LocaleDataIndex.CurrencySymbol]||null}function an(N){return(0,T.\u0275findLocaleData)(N)[T.\u0275LocaleDataIndex.CurrencyName]||null}function So(N){return(0,T.\u0275getLocaleCurrencyCode)(N)}const Gn=T.\u0275getLocalePluralCase;function Ws(N){if(!N[T.\u0275LocaleDataIndex.ExtraData])throw new Error(`Missing extra locale data for the locale "${N[T.\u0275LocaleDataIndex.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Gs(N){const O=(0,T.\u0275findLocaleData)(N);return Ws(O),(O[T.\u0275LocaleDataIndex.ExtraData][2]||[]).map(F=>"string"==typeof F?Wr(F):[Wr(F[0]),Wr(F[1])])}function fs(N,O,R){const F=(0,T.\u0275findLocaleData)(N);Ws(F);const de=Nn([F[T.\u0275LocaleDataIndex.ExtraData][0],F[T.\u0275LocaleDataIndex.ExtraData][1]],O)||[];return Nn(de,R)||[]}function Di(N){return(0,T.\u0275findLocaleData)(N)[T.\u0275LocaleDataIndex.Directionality]}function Nn(N,O){for(let R=O;R>-1;R--)if(void 0!==N[R])return N[R];throw new Error("Locale data API: locale data undefined")}function Wr(N){const[O,R]=N.split(":");return{hours:+O,minutes:+R}}function Gr(N,O,R="en"){const F=function(N){return(0,T.\u0275findLocaleData)(N)[T.\u0275LocaleDataIndex.Currencies]}(R)[N]||vt[N]||[],Q=F[1];return"narrow"===O&&"string"==typeof Q?Q:F[0]||N}function ke(N){let O;const R=vt[N];return R&&(O=R[2]),"number"==typeof O?O:2}const Jt=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,dn={},En=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Xt=(()=>((Xt=Xt||{})[Xt.Short=0]="Short",Xt[Xt.ShortGMT=1]="ShortGMT",Xt[Xt.Long=2]="Long",Xt[Xt.Extended=3]="Extended",Xt))(),Qe=(()=>((Qe=Qe||{})[Qe.FullYear=0]="FullYear",Qe[Qe.Month=1]="Month",Qe[Qe.Date=2]="Date",Qe[Qe.Hours=3]="Hours",Qe[Qe.Minutes=4]="Minutes",Qe[Qe.Seconds=5]="Seconds",Qe[Qe.FractionalSeconds=6]="FractionalSeconds",Qe[Qe.Day=7]="Day",Qe))(),Xe=(()=>((Xe=Xe||{})[Xe.DayPeriods=0]="DayPeriods",Xe[Xe.Days=1]="Days",Xe[Xe.Months=2]="Months",Xe[Xe.Eras=3]="Eras",Xe))();function gr(N,O,R,F){let Q=function(N){if(Al(N))return N;if("number"==typeof N&&!isNaN(N))return new Date(N);if("string"==typeof N){if(N=N.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(N)){const[Q,de=1,Le=1]=N.split("-").map(ot=>+ot);return Fn(Q,de-1,Le)}const R=parseFloat(N);if(!isNaN(N-R))return new Date(R);let F;if(F=N.match(Jt))return function(N){const O=new Date(0);let R=0,F=0;const Q=N[8]?O.setUTCFullYear:O.setFullYear,de=N[8]?O.setUTCHours:O.setHours;N[9]&&(R=Number(N[9]+N[10]),F=Number(N[9]+N[11])),Q.call(O,Number(N[1]),Number(N[2])-1,Number(N[3]));const Le=Number(N[4]||0)-R,ot=Number(N[5]||0)-F,Ut=Number(N[6]||0),mt=Math.floor(1e3*parseFloat("0."+(N[7]||0)));return de.call(O,Le,ot,Ut,mt),O}(F)}const O=new Date(N);if(!Al(O))throw new Error(`Unable to convert "${N}" into a date`);return O}(N);O=pi(R,O)||O;let ot,Le=[];for(;O;){if(ot=En.exec(O),!ot){Le.push(O);break}{Le=Le.concat(ot.slice(1));const un=Le.pop();if(!un)break;O=un}}let Ut=Q.getTimezoneOffset();F&&(Ut=qn(F,Ut),Q=function(N,O,R){const Q=N.getTimezoneOffset();return function(N,O){return(N=new Date(N.getTime())).setMinutes(N.getMinutes()+O),N}(N,-1*(qn(O,Q)-Q))}(Q,F));let mt="";return Le.forEach(un=>{const jt=function(N){if(Ln[N])return Ln[N];let O;switch(N){case"G":case"GG":case"GGG":O=H(Xe.Eras,we.Abbreviated);break;case"GGGG":O=H(Xe.Eras,we.Wide);break;case"GGGGG":O=H(Xe.Eras,we.Narrow);break;case"y":O=gn(Qe.FullYear,1,0,!1,!0);break;case"yy":O=gn(Qe.FullYear,2,0,!0,!0);break;case"yyy":O=gn(Qe.FullYear,3,0,!1,!0);break;case"yyyy":O=gn(Qe.FullYear,4,0,!1,!0);break;case"Y":O=xt(1);break;case"YY":O=xt(2,!0);break;case"YYY":O=xt(3);break;case"YYYY":O=xt(4);break;case"M":case"L":O=gn(Qe.Month,1,1);break;case"MM":case"LL":O=gn(Qe.Month,2,1);break;case"MMM":O=H(Xe.Months,we.Abbreviated);break;case"MMMM":O=H(Xe.Months,we.Wide);break;case"MMMMM":O=H(Xe.Months,we.Narrow);break;case"LLL":O=H(Xe.Months,we.Abbreviated,ye.Standalone);break;case"LLLL":O=H(Xe.Months,we.Wide,ye.Standalone);break;case"LLLLL":O=H(Xe.Months,we.Narrow,ye.Standalone);break;case"w":O=Ot(1);break;case"ww":O=Ot(2);break;case"W":O=Ot(1,!0);break;case"d":O=gn(Qe.Date,1);break;case"dd":O=gn(Qe.Date,2);break;case"c":case"cc":O=gn(Qe.Day,1);break;case"ccc":O=H(Xe.Days,we.Abbreviated,ye.Standalone);break;case"cccc":O=H(Xe.Days,we.Wide,ye.Standalone);break;case"ccccc":O=H(Xe.Days,we.Narrow,ye.Standalone);break;case"cccccc":O=H(Xe.Days,we.Short,ye.Standalone);break;case"E":case"EE":case"EEE":O=H(Xe.Days,we.Abbreviated);break;case"EEEE":O=H(Xe.Days,we.Wide);break;case"EEEEE":O=H(Xe.Days,we.Narrow);break;case"EEEEEE":O=H(Xe.Days,we.Short);break;case"a":case"aa":case"aaa":O=H(Xe.DayPeriods,we.Abbreviated);break;case"aaaa":O=H(Xe.DayPeriods,we.Wide);break;case"aaaaa":O=H(Xe.DayPeriods,we.Narrow);break;case"b":case"bb":case"bbb":O=H(Xe.DayPeriods,we.Abbreviated,ye.Standalone,!0);break;case"bbbb":O=H(Xe.DayPeriods,we.Wide,ye.Standalone,!0);break;case"bbbbb":O=H(Xe.DayPeriods,we.Narrow,ye.Standalone,!0);break;case"B":case"BB":case"BBB":O=H(Xe.DayPeriods,we.Abbreviated,ye.Format,!0);break;case"BBBB":O=H(Xe.DayPeriods,we.Wide,ye.Format,!0);break;case"BBBBB":O=H(Xe.DayPeriods,we.Narrow,ye.Format,!0);break;case"h":O=gn(Qe.Hours,1,-12);break;case"hh":O=gn(Qe.Hours,2,-12);break;case"H":O=gn(Qe.Hours,1);break;case"HH":O=gn(Qe.Hours,2);break;case"m":O=gn(Qe.Minutes,1);break;case"mm":O=gn(Qe.Minutes,2);break;case"s":O=gn(Qe.Seconds,1);break;case"ss":O=gn(Qe.Seconds,2);break;case"S":O=gn(Qe.FractionalSeconds,1);break;case"SS":O=gn(Qe.FractionalSeconds,2);break;case"SSS":O=gn(Qe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":O=me(Xt.Short);break;case"ZZZZZ":O=me(Xt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":O=me(Xt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":O=me(Xt.Long);break;default:return null}return Ln[N]=O,O}(un);mt+=jt?jt(Q,R,Ut):"''"===un?"'":un.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),mt}function Fn(N,O,R){const F=new Date(0);return F.setFullYear(N,O,R),F.setHours(0,0,0),F}function pi(N,O){const R=it(N);if(dn[R]=dn[R]||{},dn[R][O])return dn[R][O];let F="";switch(O){case"shortDate":F=cn(N,ge.Short);break;case"mediumDate":F=cn(N,ge.Medium);break;case"longDate":F=cn(N,ge.Long);break;case"fullDate":F=cn(N,ge.Full);break;case"shortTime":F=Tt(N,ge.Short);break;case"mediumTime":F=Tt(N,ge.Medium);break;case"longTime":F=Tt(N,ge.Long);break;case"fullTime":F=Tt(N,ge.Full);break;case"short":const Q=pi(N,"shortTime"),de=pi(N,"shortDate");F=pn(Rt(N,ge.Short),[Q,de]);break;case"medium":const Le=pi(N,"mediumTime"),ot=pi(N,"mediumDate");F=pn(Rt(N,ge.Medium),[Le,ot]);break;case"long":const Ut=pi(N,"longTime"),mt=pi(N,"longDate");F=pn(Rt(N,ge.Long),[Ut,mt]);break;case"full":const un=pi(N,"fullTime"),jt=pi(N,"fullDate");F=pn(Rt(N,ge.Full),[un,jt])}return F&&(dn[R][O]=F),F}function pn(N,O){return O&&(N=N.replace(/\{([^}]+)}/g,function(R,F){return null!=O&&F in O?O[F]:R})),N}function qr(N,O,R="-",F,Q){let de="";(N<0||Q&&N<=0)&&(Q?N=1-N:(N=-N,de=R));let Le=String(N);for(;Le.length<O;)Le="0"+Le;return F&&(Le=Le.substr(Le.length-O)),de+Le}function gn(N,O,R=0,F=!1,Q=!1){return function(de,Le){let ot=function(N,O){switch(N){case Qe.FullYear:return O.getFullYear();case Qe.Month:return O.getMonth();case Qe.Date:return O.getDate();case Qe.Hours:return O.getHours();case Qe.Minutes:return O.getMinutes();case Qe.Seconds:return O.getSeconds();case Qe.FractionalSeconds:return O.getMilliseconds();case Qe.Day:return O.getDay();default:throw new Error(`Unknown DateType value "${N}".`)}}(N,de);if((R>0||ot>-R)&&(ot+=R),N===Qe.Hours)0===ot&&-12===R&&(ot=12);else if(N===Qe.FractionalSeconds)return function(N,O){return qr(N,3).substr(0,O)}(ot,O);const Ut=fr(Le,se.MinusSign);return qr(ot,O,Ut,F,Q)}}function H(N,O,R=ye.Format,F=!1){return function(Q,de){return function(N,O,R,F,Q,de){switch(R){case Xe.Months:return wt(O,Q,F)[N.getMonth()];case Xe.Days:return tt(O,Q,F)[N.getDay()];case Xe.DayPeriods:const Le=N.getHours(),ot=N.getMinutes();if(de){const mt=Gs(O),un=fs(O,Q,F),jt=mt.findIndex(Kn=>{if(Array.isArray(Kn)){const[Mt,sr]=Kn,gi=Le>=Mt.hours&&ot>=Mt.minutes,yr=Le<sr.hours||Le===sr.hours&&ot<sr.minutes;if(Mt.hours<sr.hours){if(gi&&yr)return!0}else if(gi||yr)return!0}else if(Kn.hours===Le&&Kn.minutes===ot)return!0;return!1});if(-1!==jt)return un[jt]}return Dt(O,Q,F)[Le<12?0:1];case Xe.Eras:return nn(O,F)[N.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${R}`)}}(Q,de,N,O,R,F)}}function me(N){return function(O,R,F){const Q=-1*F,de=fr(R,se.MinusSign),Le=Q>0?Math.floor(Q/60):Math.ceil(Q/60);switch(N){case Xt.Short:return(Q>=0?"+":"")+qr(Le,2,de)+qr(Math.abs(Q%60),2,de);case Xt.ShortGMT:return"GMT"+(Q>=0?"+":"")+qr(Le,1,de);case Xt.Long:return"GMT"+(Q>=0?"+":"")+qr(Le,2,de)+":"+qr(Math.abs(Q%60),2,de);case Xt.Extended:return 0===F?"Z":(Q>=0?"+":"")+qr(Le,2,de)+":"+qr(Math.abs(Q%60),2,de);default:throw new Error(`Unknown zone width "${N}"`)}}}function Vt(N){return Fn(N.getFullYear(),N.getMonth(),N.getDate()+(4-N.getDay()))}function Ot(N,O=!1){return function(R,F){let Q;if(O){const de=new Date(R.getFullYear(),R.getMonth(),1).getDay()-1,Le=R.getDate();Q=1+Math.floor((Le+de)/7)}else{const de=Vt(R),Le=function(N){const O=Fn(N,0,1).getDay();return Fn(N,0,1+(O<=4?4:11)-O)}(de.getFullYear()),ot=de.getTime()-Le.getTime();Q=1+Math.round(ot/6048e5)}return qr(Q,N,fr(F,se.MinusSign))}}function xt(N,O=!1){return function(R,F){return qr(Vt(R).getFullYear(),N,fr(F,se.MinusSign),O)}}const Ln={};function qn(N,O){N=N.replace(/:/g,"");const R=Date.parse("Jan 01, 1970 00:00:00 "+N)/6e4;return isNaN(R)?O:R}function Al(N){return N instanceof Date&&!isNaN(N.valueOf())}const ud=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Kt(N,O,R,F,Q,de,Le=!1){let ot="",Ut=!1;if(isFinite(N)){let mt=function(N){let F,Q,de,Le,ot,O=Math.abs(N)+"",R=0;for((Q=O.indexOf("."))>-1&&(O=O.replace(".","")),(de=O.search(/e/i))>0?(Q<0&&(Q=de),Q+=+O.slice(de+1),O=O.substring(0,de)):Q<0&&(Q=O.length),de=0;"0"===O.charAt(de);de++);if(de===(ot=O.length))F=[0],Q=1;else{for(ot--;"0"===O.charAt(ot);)ot--;for(Q-=de,F=[],Le=0;de<=ot;de++,Le++)F[Le]=Number(O.charAt(de))}return Q>22&&(F=F.splice(0,21),R=Q-1,Q=1),{digits:F,exponent:R,integerLen:Q}}(N);Le&&(mt=function(N){if(0===N.digits[0])return N;const O=N.digits.length-N.integerLen;return N.exponent?N.exponent+=2:(0===O?N.digits.push(0,0):1===O&&N.digits.push(0),N.integerLen+=2),N}(mt));let un=O.minInt,jt=O.minFrac,Kn=O.maxFrac;if(de){const Mi=de.match(ud);if(null===Mi)throw new Error(`${de} is not a valid digit info`);const Iu=Mi[1],Zs=Mi[3],Oi=Mi[5];null!=Iu&&(un=Vn(Iu)),null!=Zs&&(jt=Vn(Zs)),null!=Oi?Kn=Vn(Oi):null!=Zs&&jt>Kn&&(Kn=jt)}!function(N,O,R){if(O>R)throw new Error(`The minimum number of digits after fraction (${O}) is higher than the maximum (${R}).`);let F=N.digits,Q=F.length-N.integerLen;const de=Math.min(Math.max(O,Q),R);let Le=de+N.integerLen,ot=F[Le];if(Le>0){F.splice(Math.max(N.integerLen,Le));for(let jt=Le;jt<F.length;jt++)F[jt]=0}else{Q=Math.max(0,Q),N.integerLen=1,F.length=Math.max(1,Le=de+1),F[0]=0;for(let jt=1;jt<Le;jt++)F[jt]=0}if(ot>=5)if(Le-1<0){for(let jt=0;jt>Le;jt--)F.unshift(0),N.integerLen++;F.unshift(1),N.integerLen++}else F[Le-1]++;for(;Q<Math.max(0,de);Q++)F.push(0);let Ut=0!==de;const mt=O+N.integerLen,un=F.reduceRight(function(jt,Kn,Mt,sr){return sr[Mt]=(Kn+=jt)<10?Kn:Kn-10,Ut&&(0===sr[Mt]&&Mt>=mt?sr.pop():Ut=!1),Kn>=10?1:0},0);un&&(F.unshift(un),N.integerLen++)}(mt,jt,Kn);let Mt=mt.digits,sr=mt.integerLen;const gi=mt.exponent;let yr=[];for(Ut=Mt.every(Mi=>!Mi);sr<un;sr++)Mt.unshift(0);for(;sr<0;sr++)Mt.unshift(0);sr>0?yr=Mt.splice(sr,Mt.length):(yr=Mt,Mt=[0]);const jn=[];for(Mt.length>=O.lgSize&&jn.unshift(Mt.splice(-O.lgSize,Mt.length).join(""));Mt.length>O.gSize;)jn.unshift(Mt.splice(-O.gSize,Mt.length).join(""));Mt.length&&jn.unshift(Mt.join("")),ot=jn.join(fr(R,F)),yr.length&&(ot+=fr(R,Q)+yr.join("")),gi&&(ot+=fr(R,se.Exponential)+"+"+gi)}else ot=fr(R,se.Infinity);return ot=N<0&&!Ut?O.negPre+ot+O.negSuf:O.posPre+ot+O.posSuf,ot}function Nl(N,O,R,F,Q){const Le=Nt(hs(O,ve.Currency),fr(O,se.MinusSign));return Le.minFrac=ke(F),Le.maxFrac=Le.minFrac,Kt(N,Le,O,se.CurrencyGroup,se.CurrencyDecimal,Q).replace("\xa4",R).replace("\xa4","").trim()}function ei(N,O,R){return Kt(N,Nt(hs(O,ve.Percent),fr(O,se.MinusSign)),O,se.Group,se.Decimal,R,!0).replace(new RegExp("%","g"),fr(O,se.PercentSign))}function ze(N,O,R){return Kt(N,Nt(hs(O,ve.Decimal),fr(O,se.MinusSign)),O,se.Group,se.Decimal,R)}function Nt(N,O="-"){const R={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},F=N.split(";"),Q=F[0],de=F[1],Le=-1!==Q.indexOf(".")?Q.split("."):[Q.substring(0,Q.lastIndexOf("0")+1),Q.substring(Q.lastIndexOf("0")+1)],ot=Le[0],Ut=Le[1]||"";R.posPre=ot.substr(0,ot.indexOf("#"));for(let un=0;un<Ut.length;un++){const jt=Ut.charAt(un);"0"===jt?R.minFrac=R.maxFrac=un+1:"#"===jt?R.maxFrac=un+1:R.posSuf+=jt}const mt=ot.split(",");if(R.gSize=mt[1]?mt[1].length:0,R.lgSize=mt[2]||mt[1]?(mt[2]||mt[1]).length:0,de){const un=Q.length-R.posPre.length-R.posSuf.length,jt=de.indexOf("#");R.negPre=de.substr(0,jt).replace(/'/g,""),R.negSuf=de.substr(jt+un).replace(/'/g,"")}else R.negPre=O+R.posPre,R.negSuf=R.posSuf;return R}function Vn(N){const O=parseInt(N);if(isNaN(O))throw new Error("Invalid integer literal when parsing "+N);return O}class Ur{}function Gt(N,O,R,F){let Q=`=${N}`;if(O.indexOf(Q)>-1||(Q=R.getPluralCategory(N,F),O.indexOf(Q)>-1))return Q;if(O.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${N}"`)}let gs=(()=>{class N extends Ur{constructor(R){super(),this.locale=R}getPluralCategory(R,F){switch(Gn(F||this.locale)(R)){case fe.Zero:return"zero";case fe.One:return"one";case fe.Two:return"two";case fe.Few:return"few";case fe.Many:return"many";default:return"other"}}}return N.\u0275fac=function(R){return new(R||N)(T.\u0275\u0275inject(T.LOCALE_ID))},N.\u0275prov=T.\u0275\u0275defineInjectable({token:N,factory:N.\u0275fac}),N})();function wr(N,O,R){return(0,T.\u0275registerLocaleData)(N,O,R)}function Ye(N,O){O=encodeURIComponent(O);for(const R of N.split(";")){const F=R.indexOf("="),[Q,de]=-1==F?[R,""]:[R.slice(0,F),R.slice(F+1)];if(Q.trim()===O)return decodeURIComponent(de)}return null}let ct=(()=>{class N{constructor(R,F,Q,de){this._iterableDiffers=R,this._keyValueDiffers=F,this._ngEl=Q,this._renderer=de,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(R){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof R?R.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(R){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof R?R.split(/\s+/):R,this._rawClass&&((0,T.\u0275isListLikeIterable)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const R=this._iterableDiffer.diff(this._rawClass);R&&this._applyIterableChanges(R)}else if(this._keyValueDiffer){const R=this._keyValueDiffer.diff(this._rawClass);R&&this._applyKeyValueChanges(R)}}_applyKeyValueChanges(R){R.forEachAddedItem(F=>this._toggleClass(F.key,F.currentValue)),R.forEachChangedItem(F=>this._toggleClass(F.key,F.currentValue)),R.forEachRemovedItem(F=>{F.previousValue&&this._toggleClass(F.key,!1)})}_applyIterableChanges(R){R.forEachAddedItem(F=>{if("string"!=typeof F.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,T.\u0275stringify)(F.item)}`);this._toggleClass(F.item,!0)}),R.forEachRemovedItem(F=>this._toggleClass(F.item,!1))}_applyClasses(R){R&&(Array.isArray(R)||R instanceof Set?R.forEach(F=>this._toggleClass(F,!0)):Object.keys(R).forEach(F=>this._toggleClass(F,!!R[F])))}_removeClasses(R){R&&(Array.isArray(R)||R instanceof Set?R.forEach(F=>this._toggleClass(F,!1)):Object.keys(R).forEach(F=>this._toggleClass(F,!1)))}_toggleClass(R,F){(R=R.trim())&&R.split(/\s+/g).forEach(Q=>{F?this._renderer.addClass(this._ngEl.nativeElement,Q):this._renderer.removeClass(this._ngEl.nativeElement,Q)})}}return N.\u0275fac=function(R){return new(R||N)(T.\u0275\u0275directiveInject(T.IterableDiffers),T.\u0275\u0275directiveInject(T.KeyValueDiffers),T.\u0275\u0275directiveInject(T.ElementRef),T.\u0275\u0275directiveInject(T.Renderer2))},N.\u0275dir=T.\u0275\u0275defineDirective({type:N,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),N})(),hn=(()=>{class N{constructor(R){this._viewContainerRef=R,this._componentRef=null,this._moduleRef=null}ngOnChanges(R){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const F=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(R.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const Le=F.get(T.NgModuleRef);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(Le.injector)}else this._moduleRef=null;const de=(this._moduleRef?this._moduleRef.componentFactoryResolver:F.get(T.ComponentFactoryResolver)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(de,this._viewContainerRef.length,F,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}return N.\u0275fac=function(R){return new(R||N)(T.\u0275\u0275directiveInject(T.ViewContainerRef))},N.\u0275dir=T.\u0275\u0275defineDirective({type:N,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},features:[T.\u0275\u0275NgOnChangesFeature]}),N})();class Ti{constructor(O,R,F,Q){this.$implicit=O,this.ngForOf=R,this.index=F,this.count=Q}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qi=(()=>{class N{constructor(R,F,Q){this._viewContainer=R,this._template=F,this._differs=Q,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(R){this._ngForOf=R,this._ngForOfDirty=!0}set ngForTrackBy(R){this._trackByFn=R}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(R){R&&(this._template=R)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const R=this._ngForOf;if(!this._differ&&R)try{this._differ=this._differs.find(R).create(this.ngForTrackBy)}catch(F){throw new Error(`Cannot find a differ supporting object '${R}' of type '${function(N){return N.name||typeof N}(R)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const R=this._differ.diff(this._ngForOf);R&&this._applyChanges(R)}}_applyChanges(R){const F=[];R.forEachOperation((Q,de,Le)=>{if(null==Q.previousIndex){const ot=this._viewContainer.createEmbeddedView(this._template,new Ti(null,this._ngForOf,-1,-1),null===Le?void 0:Le),Ut=new mr(Q,ot);F.push(Ut)}else if(null==Le)this._viewContainer.remove(null===de?void 0:de);else if(null!==de){const ot=this._viewContainer.get(de);this._viewContainer.move(ot,Le);const Ut=new mr(Q,ot);F.push(Ut)}});for(let Q=0;Q<F.length;Q++)this._perViewChange(F[Q].view,F[Q].record);for(let Q=0,de=this._viewContainer.length;Q<de;Q++){const Le=this._viewContainer.get(Q);Le.context.index=Q,Le.context.count=de,Le.context.ngForOf=this._ngForOf}R.forEachIdentityChange(Q=>{this._viewContainer.get(Q.currentIndex).context.$implicit=Q.item})}_perViewChange(R,F){R.context.$implicit=F.item}static ngTemplateContextGuard(R,F){return!0}}return N.\u0275fac=function(R){return new(R||N)(T.\u0275\u0275directiveInject(T.ViewContainerRef),T.\u0275\u0275directiveInject(T.TemplateRef),T.\u0275\u0275directiveInject(T.IterableDiffers))},N.\u0275dir=T.\u0275\u0275defineDirective({type:N,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),N})();class mr{constructor(O,R){this.record=O,this.view=R}}let Si=(()=>{class N{constructor(R,F){this._viewContainer=R,this._context=new yn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=F}set ngIf(R){this._context.$implicit=this._context.ngIf=R,this._updateView()}set ngIfThen(R){en("ngIfThen",R),this._thenTemplateRef=R,this._thenViewRef=null,this._updateView()}set ngIfElse(R){en("ngIfElse",R),this._elseTemplateRef=R,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(R,F){return!0}}return N.\u0275fac=function(R){return new(R||N)(T.\u0275\u0275directiveInject(T.ViewContainerRef),T.\u0275\u0275directiveInject(T.TemplateRef))},N.\u0275dir=T.\u0275\u0275defineDirective({type:N,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),N})();class yn{constructor(){this.$implicit=null,this.ngIf=null}}function en(N,O){if(O&&!O.createEmbeddedView)throw new Error(`${N} must be a TemplateRef, but received '${(0,T.\u0275stringify)(O)}'.`)}class Ca{constructor(O,R){this._viewContainerRef=O,this._templateRef=R,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(O){O&&!this._created?this.create():!O&&this._created&&this.destroy()}}let vu=(()=>{class N{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(R){this._ngSwitch=R,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(R){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(R)}_matchCase(R){const F=R==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||F,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),F}_updateDefaultCases(R){if(this._defaultViews&&R!==this._defaultUsed){this._defaultUsed=R;for(let F=0;F<this._defaultViews.length;F++)this._defaultViews[F].enforceState(R)}}}return N.\u0275fac=function(R){return new(R||N)},N.\u0275dir=T.\u0275\u0275defineDirective({type:N,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),N})(),ft=(()=>{class N{constructor(R,F,Q){this.ngSwitch=Q,Q._addCase(),this._view=new Ca(R,F)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return N.\u0275fac=function(R){return new(R||N)(T.\u0275\u0275directiveInject(T.ViewContainerRef),T.\u0275\u0275directiveInject(T.TemplateRef),T.\u0275\u0275directiveInject(vu,9))},N.\u0275dir=T.\u0275\u0275defineDirective({type:N,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),N})(),ys=(()=>{class N{constructor(R,F,Q){Q._addDefault(new Ca(R,F))}}return N.\u0275fac=function(R){return new(R||N)(T.\u0275\u0275directiveInject(T.ViewContainerRef),T.\u0275\u0275directiveInject(T.TemplateRef),T.\u0275\u0275directiveInject(vu,9))},N.\u0275dir=T.\u0275\u0275defineDirective({type:N,selectors:[["","ngSwitchDefault",""]]}),N})(),Oo=(()=>{class N{constructor(R){this._localization=R,this._caseViews={}}set ngPlural(R){this._switchValue=R,this._updateView()}addCase(R,F){this._caseViews[R]=F}_updateView(){this._clearViews();const R=Object.keys(this._caseViews),F=Gt(this._switchValue,R,this._localization);this._activateView(this._caseViews[F])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(R){R&&(this._activeView=R,this._activeView.create())}}return N.\u0275fac=function(R){return new(R||N)(T.\u0275\u0275directiveInject(Ur))},N.\u0275dir=T.\u0275\u0275defineDirective({type:N,selectors:[["","ngPlural",""]],inputs:{ngPlural:"ngPlural"}}),N})(),Ai=(()=>{class N{constructor(R,F,Q,de){this.value=R;const Le=!isNaN(Number(R));de.addCase(Le?`=${R}`:R,new Ca(Q,F))}}return N.\u0275fac=function(R){return new(R||N)(T.\u0275\u0275injectAttribute("ngPluralCase"),T.\u0275\u0275directiveInject(T.TemplateRef),T.\u0275\u0275directiveInject(T.ViewContainerRef),T.\u0275\u0275directiveInject(Oo,1))},N.\u0275dir=T.\u0275\u0275defineDirective({type:N,selectors:[["","ngPluralCase",""]]}),N})(),Rn=(()=>{class N{constructor(R,F,Q){this._ngEl=R,this._differs=F,this._renderer=Q,this._ngStyle=null,this._differ=null}set ngStyle(R){this._ngStyle=R,!this._differ&&R&&(this._differ=this._differs.find(R).create())}ngDoCheck(){if(this._differ){const R=this._differ.diff(this._ngStyle);R&&this._applyChanges(R)}}_setStyle(R,F){const[Q,de]=R.split(".");null!=(F=null!=F&&de?`${F}${de}`:F)?this._renderer.setStyle(this._ngEl.nativeElement,Q,F):this._renderer.removeStyle(this._ngEl.nativeElement,Q)}_applyChanges(R){R.forEachRemovedItem(F=>this._setStyle(F.key,null)),R.forEachAddedItem(F=>this._setStyle(F.key,F.currentValue)),R.forEachChangedItem(F=>this._setStyle(F.key,F.currentValue))}}return N.\u0275fac=function(R){return new(R||N)(T.\u0275\u0275directiveInject(T.ElementRef),T.\u0275\u0275directiveInject(T.KeyValueDiffers),T.\u0275\u0275directiveInject(T.Renderer2))},N.\u0275dir=T.\u0275\u0275defineDirective({type:N,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),N})(),Ni=(()=>{class N{constructor(R){this._viewContainerRef=R,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(R){if(R.ngTemplateOutlet){const F=this._viewContainerRef;this._viewRef&&F.remove(F.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?F.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&R.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return N.\u0275fac=function(R){return new(R||N)(T.\u0275\u0275directiveInject(T.ViewContainerRef))},N.\u0275dir=T.\u0275\u0275defineDirective({type:N,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[T.\u0275\u0275NgOnChangesFeature]}),N})();const Un=[ct,hn,qi,Si,Ni,Rn,vu,ft,ys,Oo,Ai];function xn(N,O){return Error(`InvalidPipeArgument: '${O}' for pipe '${(0,T.\u0275stringify)(N)}'`)}class ri{createSubscription(O,R){return O.subscribe({next:R,error:F=>{throw F}})}dispose(O){O.unsubscribe()}onDestroy(O){O.unsubscribe()}}class Rl{createSubscription(O,R){return O.then(R,F=>{throw F})}dispose(O){}onDestroy(O){}}const Po=new Rl,be=new ri;let ko=(()=>{class N{constructor(R){this._ref=R,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(R){return this._obj?R!==this._obj?(this._dispose(),this.transform(R)):this._latestValue:(R&&this._subscribe(R),this._latestValue)}_subscribe(R){this._obj=R,this._strategy=this._selectStrategy(R),this._subscription=this._strategy.createSubscription(R,F=>this._updateLatestValue(R,F))}_selectStrategy(R){if((0,T.\u0275isPromise)(R))return Po;if((0,T.\u0275isSubscribable)(R))return be;throw xn(N,R)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(R,F){R===this._obj&&(this._latestValue=F,this._ref.markForCheck())}}return N.\u0275fac=function(R){return new(R||N)(T.\u0275\u0275directiveInject(T.ChangeDetectorRef,16))},N.\u0275pipe=T.\u0275\u0275definePipe({name:"async",type:N,pure:!1}),N})(),cd=(()=>{class N{transform(R){if(null==R)return null;if("string"!=typeof R)throw xn(N,R);return R.toLowerCase()}}return N.\u0275fac=function(R){return new(R||N)},N.\u0275pipe=T.\u0275\u0275definePipe({name:"lowercase",type:N,pure:!0}),N})();const zi=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;let Wt=(()=>{class N{transform(R){if(null==R)return null;if("string"!=typeof R)throw xn(N,R);return R.replace(zi,F=>F[0].toUpperCase()+F.substr(1).toLowerCase())}}return N.\u0275fac=function(R){return new(R||N)},N.\u0275pipe=T.\u0275\u0275definePipe({name:"titlecase",type:N,pure:!0}),N})(),xl=(()=>{class N{transform(R){if(null==R)return null;if("string"!=typeof R)throw xn(N,R);return R.toUpperCase()}}return N.\u0275fac=function(R){return new(R||N)},N.\u0275pipe=T.\u0275\u0275definePipe({name:"uppercase",type:N,pure:!0}),N})(),Ml=(()=>{class N{constructor(R){this.locale=R}transform(R,F="mediumDate",Q,de){if(null==R||""===R||R!=R)return null;try{return gr(R,F,de||this.locale,Q)}catch(Le){throw xn(N,Le.message)}}}return N.\u0275fac=function(R){return new(R||N)(T.\u0275\u0275directiveInject(T.LOCALE_ID,16))},N.\u0275pipe=T.\u0275\u0275definePipe({name:"date",type:N,pure:!0}),N})();const qs=/#/g;let sf=(()=>{class N{constructor(R){this._localization=R}transform(R,F,Q){if(null==R)return"";if("object"!=typeof F||null===F)throw xn(N,F);return F[Gt(R,Object.keys(F),this._localization,Q)].replace(qs,R.toString())}}return N.\u0275fac=function(R){return new(R||N)(T.\u0275\u0275directiveInject(Ur,16))},N.\u0275pipe=T.\u0275\u0275definePipe({name:"i18nPlural",type:N,pure:!0}),N})(),Ze=(()=>{class N{transform(R,F){if(null==R)return"";if("object"!=typeof F||"string"!=typeof R)throw xn(N,F);return F.hasOwnProperty(R)?F[R]:F.hasOwnProperty("other")?F.other:""}}return N.\u0275fac=function(R){return new(R||N)},N.\u0275pipe=T.\u0275\u0275definePipe({name:"i18nSelect",type:N,pure:!0}),N})(),zs=(()=>{class N{transform(R){return JSON.stringify(R,null,2)}}return N.\u0275fac=function(R){return new(R||N)},N.\u0275pipe=T.\u0275\u0275definePipe({name:"json",type:N,pure:!1}),N})(),Fo=(()=>{class N{constructor(R){this.differs=R,this.keyValues=[],this.compareFn=Ri}transform(R,F=Ri){if(!R||!(R instanceof Map)&&"object"!=typeof R)return null;this.differ||(this.differ=this.differs.find(R).create());const Q=this.differ.diff(R),de=F!==this.compareFn;return Q&&(this.keyValues=[],Q.forEachItem(Le=>{this.keyValues.push(function(N,O){return{key:N,value:O}}(Le.key,Le.currentValue))})),(Q||de)&&(this.keyValues.sort(F),this.compareFn=F),this.keyValues}}return N.\u0275fac=function(R){return new(R||N)(T.\u0275\u0275directiveInject(T.KeyValueDiffers,16))},N.\u0275pipe=T.\u0275\u0275definePipe({name:"keyvalue",type:N,pure:!1}),N})();function Ri(N,O){const R=N.key,F=O.key;if(R===F)return 0;if(void 0===R)return 1;if(void 0===F)return-1;if(null===R)return 1;if(null===F)return-1;if("string"==typeof R&&"string"==typeof F)return R<F?-1:1;if("number"==typeof R&&"number"==typeof F)return R-F;if("boolean"==typeof R&&"boolean"==typeof F)return R<F?-1:1;const Q=String(R),de=String(F);return Q==de?0:Q<de?-1:1}let xi=(()=>{class N{constructor(R){this._locale=R}transform(R,F,Q){if(!Ol(R))return null;Q=Q||this._locale;try{return ze(Pl(R),Q,F)}catch(de){throw xn(N,de.message)}}}return N.\u0275fac=function(R){return new(R||N)(T.\u0275\u0275directiveInject(T.LOCALE_ID,16))},N.\u0275pipe=T.\u0275\u0275definePipe({name:"number",type:N,pure:!0}),N})(),Lo=(()=>{class N{constructor(R){this._locale=R}transform(R,F,Q){if(!Ol(R))return null;Q=Q||this._locale;try{return ei(Pl(R),Q,F)}catch(de){throw xn(N,de.message)}}}return N.\u0275fac=function(R){return new(R||N)(T.\u0275\u0275directiveInject(T.LOCALE_ID,16))},N.\u0275pipe=T.\u0275\u0275definePipe({name:"percent",type:N,pure:!0}),N})(),Eu=(()=>{class N{constructor(R,F="USD"){this._locale=R,this._defaultCurrencyCode=F}transform(R,F=this._defaultCurrencyCode,Q="symbol",de,Le){if(!Ol(R))return null;Le=Le||this._locale,"boolean"==typeof Q&&(Q=Q?"symbol":"code");let ot=F||this._defaultCurrencyCode;"code"!==Q&&(ot="symbol"===Q||"symbol-narrow"===Q?Gr(ot,"symbol"===Q?"wide":"narrow",Le):Q);try{return Nl(Pl(R),Le,ot,F,de)}catch(Ut){throw xn(N,Ut.message)}}}return N.\u0275fac=function(R){return new(R||N)(T.\u0275\u0275directiveInject(T.LOCALE_ID,16),T.\u0275\u0275directiveInject(T.DEFAULT_CURRENCY_CODE,16))},N.\u0275pipe=T.\u0275\u0275definePipe({name:"currency",type:N,pure:!0}),N})();function Ol(N){return!(null==N||""===N||N!=N)}function Pl(N){if("string"==typeof N&&!isNaN(Number(N)-parseFloat(N)))return Number(N);if("number"!=typeof N)throw new Error(`${N} is not a number`);return N}let kl=(()=>{class N{transform(R,F,Q){if(null==R)return null;if(!this.supports(R))throw xn(N,R);return R.slice(F,Q)}supports(R){return"string"==typeof R||Array.isArray(R)}}return N.\u0275fac=function(R){return new(R||N)},N.\u0275pipe=T.\u0275\u0275definePipe({name:"slice",type:N,pure:!1}),N})();const _n=[ko,xl,cd,zs,kl,xi,Lo,Wt,Eu,Ml,sf,Ze,Fo];let Fl=(()=>{class N{}return N.\u0275fac=function(R){return new(R||N)},N.\u0275mod=T.\u0275\u0275defineNgModule({type:N}),N.\u0275inj=T.\u0275\u0275defineInjector({providers:[{provide:Ur,useClass:gs}]}),N})();const zn="browser",Ki="server",Zi="browserWorkerApp",Vo="browserWorkerUi";function Ar(N){return N===zn}function Ia(N){return N===Ki}function of(N){return N===Zi}function Cu(N){return N===Vo}const Ks=new T.Version("12.2.4");let Uo=(()=>{class N{}return N.\u0275prov=(0,T.\u0275\u0275defineInjectable)({token:N,providedIn:"root",factory:()=>new Ll((0,T.\u0275\u0275inject)(Se),window)}),N})();class Ll{constructor(O,R){this.document=O,this.window=R,this.offset=()=>[0,0]}setOffset(O){this.offset=Array.isArray(O)?()=>O:O}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(O){this.supportsScrolling()&&this.window.scrollTo(O[0],O[1])}scrollToAnchor(O){if(!this.supportsScrolling())return;const R=function(N,O){const R=N.getElementById(O)||N.getElementsByName(O)[0];if(R)return R;if("function"==typeof N.createTreeWalker&&N.body&&(N.body.createShadowRoot||N.body.attachShadow)){const F=N.createTreeWalker(N.body,NodeFilter.SHOW_ELEMENT);let Q=F.currentNode;for(;Q;){const de=Q.shadowRoot;if(de){const Le=de.getElementById(O)||de.querySelector(`[name="${O}"]`);if(Le)return Le}Q=F.nextNode()}}return null}(this.document,O);R&&(this.scrollToElement(R),this.attemptFocus(R))}setHistoryScrollRestoration(O){if(this.supportScrollRestoration()){const R=this.window.history;R&&R.scrollRestoration&&(R.scrollRestoration=O)}}scrollToElement(O){const R=O.getBoundingClientRect(),F=R.left+this.window.pageXOffset,Q=R.top+this.window.pageYOffset,de=this.offset();this.window.scrollTo(F-de[0],Q-de[1])}attemptFocus(O){return O.focus(),this.document.activeElement===O}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const O=ir(this.window.history)||ir(Object.getPrototypeOf(this.window.history));return!(!O||!O.writable&&!O.set)}catch(O){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(O){return!1}}}function ir(N){return Object.getOwnPropertyDescriptor(N,"scrollRestoration")}class rn{setOffset(O){}getScrollPosition(){return[0,0]}scrollToPosition(O){}scrollToAnchor(O){}setHistoryScrollRestoration(O){}}class ba{}},3018:(Je,Te,j)=>{"use strict";j.r(Te),j.d(Te,{ANALYZE_FOR_ENTRY_COMPONENTS:()=>ea,APP_BOOTSTRAP_LISTENER:()=>Ab,APP_ID:()=>Db,APP_INITIALIZER:()=>Vy,ApplicationInitStatus:()=>gu,ApplicationModule:()=>Ke,ApplicationRef:()=>ng,Attribute:()=>Zl,COMPILER_OPTIONS:()=>Pb,CUSTOM_ELEMENTS_SCHEMA:()=>rt,ChangeDetectionStrategy:()=>gr,ChangeDetectorRef:()=>Lh,Compiler:()=>eg,CompilerFactory:()=>kb,Component:()=>mb,ComponentFactory:()=>Vs,ComponentFactoryResolver:()=>Gc,ComponentRef:()=>ny,ContentChild:()=>kd,ContentChildren:()=>Ef,DEFAULT_CURRENCY_CODE:()=>Rb,DebugElement:()=>f,DebugEventListener:()=>rD,DebugNode:()=>d,DefaultIterableDiffer:()=>sy,Directive:()=>gb,ElementRef:()=>Us,EmbeddedViewRef:()=>rg,ErrorHandler:()=>He,EventEmitter:()=>Hi,Host:()=>ec,HostBinding:()=>ky,HostListener:()=>OS,INJECTOR:()=>eu,Inject:()=>La,InjectFlags:()=>ke,Injectable:()=>YD,InjectionToken:()=>Mn,Injector:()=>Yt,Input:()=>Hs,IterableDiffers:()=>Pp,KeyValueDiffers:()=>Eo,LOCALE_ID:()=>Uy,MissingTranslationStrategy:()=>_a,ModuleWithComponentFactories:()=>TC,NO_ERRORS_SCHEMA:()=>_t,NgModule:()=>FS,NgModuleFactory:()=>Vp,NgModuleFactoryLoader:()=>XS,NgModuleRef:()=>Cl,NgProbeToken:()=>Wb,NgZone:()=>cs,Optional:()=>ai,Output:()=>_b,PACKAGE_ROOT_URL:()=>Jp,PLATFORM_ID:()=>Sb,PLATFORM_INITIALIZER:()=>ef,Pipe:()=>xS,PlatformRef:()=>FC,Query:()=>xa,QueryList:()=>Do,ReflectiveInjector:()=>Th,ReflectiveKey:()=>ru,Renderer2:()=>AE,RendererFactory2:()=>Op,RendererStyleFlags2:()=>rs,ResolvedReflectiveFactory:()=>Om,Sanitizer:()=>ry,SecurityContext:()=>kt,Self:()=>Va,SimpleChange:()=>Vo,SkipSelf:()=>bs,SystemJsNgModuleLoader:()=>nA,SystemJsNgModuleLoaderConfig:()=>eD,TRANSLATIONS:()=>VS,TRANSLATIONS_FORMAT:()=>US,TemplateRef:()=>zc,Testability:()=>MC,TestabilityRegistry:()=>OC,Type:()=>Ql,VERSION:()=>iy,Version:()=>xE,ViewChild:()=>vg,ViewChildren:()=>eo,ViewContainerRef:()=>Vh,ViewEncapsulation:()=>pn,ViewRef:()=>nD,WrappedValue:()=>os,asNativeElements:()=>rA,assertPlatform:()=>zb,createPlatform:()=>Gb,createPlatformFactory:()=>qb,defineInjectable:()=>So,destroyPlatform:()=>Kb,enableProdMode:()=>nf,forwardRef:()=>ne,getDebugNode:()=>Vr,getModuleFactory:()=>pN,getPlatform:()=>kC,inject:()=>Ig,isDevMode:()=>$s,platformCore:()=>w,resolveForwardRef:()=>re,setTestabilityGetter:()=>nr,\u02750:()=>Lu,\u0275ALLOW_MULTIPLE_PLATFORMS:()=>mu,\u0275APP_ID_RANDOM_PROVIDER:()=>Yp,\u0275CREATE_ATTRIBUTE_DECORATOR__POST_R3__:()=>Xi,\u0275ChangeDetectorStatus:()=>Fn,\u0275CodegenComponentFactoryResolver:()=>LT,\u0275Compiler_compileModuleAndAllComponentsAsync__POST_R3__:()=>Ob,\u0275Compiler_compileModuleAndAllComponentsSync__POST_R3__:()=>By,\u0275Compiler_compileModuleAsync__POST_R3__:()=>SC,\u0275Compiler_compileModuleSync__POST_R3__:()=>jy,\u0275ComponentFactory:()=>Vs,\u0275Console:()=>Nb,\u0275DEFAULT_LOCALE_ID:()=>jc,\u0275EMPTY_ARRAY:()=>Re,\u0275EMPTY_MAP:()=>yw,\u0275INJECTOR_IMPL__POST_R3__:()=>FI,\u0275INJECTOR_SCOPE:()=>wc,\u0275LifecycleHooksFeature:()=>WI,\u0275LocaleDataIndex:()=>gt,\u0275NG_COMP_DEF:()=>at,\u0275NG_DIR_DEF:()=>Vt,\u0275NG_ELEMENT_ID:()=>qn,\u0275NG_INJ_DEF:()=>Wr,\u0275NG_MOD_DEF:()=>xt,\u0275NG_PIPE_DEF:()=>Ot,\u0275NG_PROV_DEF:()=>Nn,\u0275NOT_FOUND_CHECK_ONLY_ELEMENT_INJECTOR:()=>td,\u0275NO_CHANGE:()=>pt,\u0275NgModuleFactory:()=>qp,\u0275NoopNgZone:()=>Vb,\u0275ReflectionCapabilities:()=>Pa,\u0275Render3ComponentFactory:()=>nC,\u0275Render3ComponentRef:()=>kw,\u0275Render3NgModuleRef:()=>jw,\u0275RuntimeError:()=>Oe,\u0275SWITCH_CHANGE_DETECTOR_REF_FACTORY__POST_R3__:()=>qc,\u0275SWITCH_COMPILE_COMPONENT__POST_R3__:()=>vb,\u0275SWITCH_COMPILE_DIRECTIVE__POST_R3__:()=>Eb,\u0275SWITCH_COMPILE_INJECTABLE__POST_R3__:()=>YI,\u0275SWITCH_COMPILE_NGMODULE__POST_R3__:()=>wb,\u0275SWITCH_COMPILE_PIPE__POST_R3__:()=>Qp,\u0275SWITCH_ELEMENT_REF_FACTORY__POST_R3__:()=>lu,\u0275SWITCH_IVY_ENABLED__POST_R3__:()=>xb,\u0275SWITCH_RENDERER2_FACTORY__POST_R3__:()=>NE,\u0275SWITCH_TEMPLATE_REF_FACTORY__POST_R3__:()=>WT,\u0275SWITCH_VIEW_CONTAINER_REF_FACTORY__POST_R3__:()=>Up,\u0275_sanitizeHtml:()=>oc,\u0275_sanitizeUrl:()=>sc,\u0275allowSanitizationBypassAndThrow:()=>ts,\u0275and:()=>ut,\u0275angular_packages_core_core_a:()=>Me,\u0275angular_packages_core_core_b:()=>Xl,\u0275angular_packages_core_core_ba:()=>Ue,\u0275angular_packages_core_core_bb:()=>sE,\u0275angular_packages_core_core_bc:()=>_y,\u0275angular_packages_core_core_bd:()=>BE,\u0275angular_packages_core_core_be:()=>Ia,\u0275angular_packages_core_core_bf:()=>qh,\u0275angular_packages_core_core_bg:()=>Ji,\u0275angular_packages_core_core_bh:()=>Pe,\u0275angular_packages_core_core_bi:()=>br,\u0275angular_packages_core_core_bj:()=>t_,\u0275angular_packages_core_core_bl:()=>Ey,\u0275angular_packages_core_core_bm:()=>Gw,\u0275angular_packages_core_core_bn:()=>Fr,\u0275angular_packages_core_core_bo:()=>js,\u0275angular_packages_core_core_bp:()=>oC,\u0275angular_packages_core_core_bq:()=>lc,\u0275angular_packages_core_core_br:()=>Xs,\u0275angular_packages_core_core_bs:()=>Xo,\u0275angular_packages_core_core_bv:()=>$,\u0275angular_packages_core_core_bw:()=>dm,\u0275angular_packages_core_core_bx:()=>dn,\u0275angular_packages_core_core_bz:()=>Mt,\u0275angular_packages_core_core_c:()=>Fa,\u0275angular_packages_core_core_cb:()=>aa,\u0275angular_packages_core_core_cc:()=>q0,\u0275angular_packages_core_core_d:()=>Ev,\u0275angular_packages_core_core_e:()=>Mc,\u0275angular_packages_core_core_f:()=>mv,\u0275angular_packages_core_core_g:()=>Tb,\u0275angular_packages_core_core_h:()=>RE,\u0275angular_packages_core_core_i:()=>TE,\u0275angular_packages_core_core_j:()=>dr,\u0275angular_packages_core_core_k:()=>Yb,\u0275angular_packages_core_core_l:()=>Lp,\u0275angular_packages_core_core_m:()=>El,\u0275angular_packages_core_core_n:()=>tw,\u0275angular_packages_core_core_o:()=>ig,\u0275angular_packages_core_core_p:()=>Lr,\u0275angular_packages_core_core_q:()=>aA,\u0275angular_packages_core_core_r:()=>ew,\u0275angular_packages_core_core_s:()=>ME,\u0275angular_packages_core_core_t:()=>oy,\u0275angular_packages_core_core_u:()=>uy,\u0275angular_packages_core_core_v:()=>Qr,\u0275angular_packages_core_core_w:()=>A,\u0275angular_packages_core_core_x:()=>P,\u0275angular_packages_core_core_y:()=>V,\u0275angular_packages_core_core_z:()=>pe,\u0275bypassSanitizationTrustHtml:()=>ar,\u0275bypassSanitizationTrustResourceUrl:()=>Ag,\u0275bypassSanitizationTrustScript:()=>Sg,\u0275bypassSanitizationTrustStyle:()=>At,\u0275bypassSanitizationTrustUrl:()=>ao,\u0275ccf:()=>nS,\u0275clearOverrides:()=>xR,\u0275clearResolutionOfComponentResourcesQueue:()=>Wd,\u0275cmf:()=>MR,\u0275compileComponent:()=>Ny,\u0275compileDirective:()=>EC,\u0275compileNgModule:()=>by,\u0275compileNgModuleDefs:()=>_C,\u0275compileNgModuleFactory__POST_R3__:()=>jb,\u0275compilePipe:()=>Dl,\u0275createInjector:()=>fm,\u0275crt:()=>hu,\u0275defaultIterableDiffers:()=>HT,\u0275defaultKeyValueDiffers:()=>$T,\u0275detectChanges:()=>NI,\u0275devModeEqual:()=>wm,\u0275did:()=>lS,\u0275eld:()=>on,\u0275findLocaleData:()=>iE,\u0275flushModuleScopingQueueAsMuchAsPossible:()=>Kp,\u0275getComponentViewDefinitionFactory:()=>Gp,\u0275getDebugNodeR2:()=>s,\u0275getDebugNode__POST_R3__:()=>ag,\u0275getDirectives:()=>UI,\u0275getHostElement:()=>_m,\u0275getInjectableDef:()=>Gn,\u0275getLContext:()=>Br,\u0275getLocaleCurrencyCode:()=>dT,\u0275getLocalePluralCase:()=>R0,\u0275getModuleFactory__POST_R3__:()=>Jb,\u0275getSanitizationBypassType:()=>Rf,\u0275global:()=>H,\u0275initServicesIfNeeded:()=>$C,\u0275inlineInterpolate:()=>mw,\u0275interpolate:()=>qE,\u0275isBoundToModule__POST_R3__:()=>QS,\u0275isDefaultChangeDetectionStrategy:()=>pi,\u0275isListLikeIterable:()=>ap,\u0275isObservable:()=>wn,\u0275isPromise:()=>Pc,\u0275isSubscribable:()=>l0,\u0275ivyEnabled:()=>Xp,\u0275makeDecorator:()=>xu,\u0275markDirty:()=>RI,\u0275mod:()=>JT,\u0275mpd:()=>YT,\u0275ncd:()=>HN,\u0275noSideEffects:()=>Xe,\u0275nov:()=>JA,\u0275overrideComponentView:()=>RR,\u0275overrideProvider:()=>NR,\u0275pad:()=>GN,\u0275patchComponentDefWithScope:()=>Xh,\u0275pid:()=>Nw,\u0275pod:()=>qN,\u0275ppd:()=>WN,\u0275prd:()=>cS,\u0275publishDefaultGlobalUtils:()=>vh,\u0275publishGlobalUtil:()=>Pr,\u0275qud:()=>VN,\u0275registerLocaleData:()=>cT,\u0275registerModuleFactory:()=>Lw,\u0275registerNgModuleType:()=>Vw,\u0275renderComponent:()=>Eh,\u0275resetCompiledComponents:()=>bS,\u0275resetJitOptions:()=>wS,\u0275resolveComponentResources:()=>Sf,\u0275setClassMetadata:()=>Fw,\u0275setCurrentInjector:()=>es,\u0275setDocument:()=>R,\u0275setLocaleId:()=>Dp,\u0275store:()=>zI,\u0275stringify:()=>G,\u0275ted:()=>QN,\u0275transitiveScopesFor:()=>pu,\u0275unregisterLocaleData:()=>hT,\u0275unv:()=>zT,\u0275unwrapSafeValue:()=>yt,\u0275vid:()=>eR,\u0275whenRendered:()=>X_,\u0275\u0275CopyDefinitionFeature:()=>qI,\u0275\u0275FactoryTarget:()=>Yn,\u0275\u0275InheritDefinitionFeature:()=>sp,\u0275\u0275NgOnChangesFeature:()=>Ar,\u0275\u0275ProvidersFeature:()=>Mp,\u0275\u0275advance:()=>gc,\u0275\u0275attribute:()=>up,\u0275\u0275attributeInterpolate1:()=>sv,\u0275\u0275attributeInterpolate2:()=>lp,\u0275\u0275attributeInterpolate3:()=>cp,\u0275\u0275attributeInterpolate4:()=>dp,\u0275\u0275attributeInterpolate5:()=>dl,\u0275\u0275attributeInterpolate6:()=>bm,\u0275\u0275attributeInterpolate7:()=>hp,\u0275\u0275attributeInterpolate8:()=>ov,\u0275\u0275attributeInterpolateV:()=>fp,\u0275\u0275classMap:()=>_0,\u0275\u0275classMapInterpolate1:()=>I0,\u0275\u0275classMapInterpolate2:()=>w0,\u0275\u0275classMapInterpolate3:()=>$v,\u0275\u0275classMapInterpolate4:()=>b0,\u0275\u0275classMapInterpolate5:()=>D0,\u0275\u0275classMapInterpolate6:()=>Wv,\u0275\u0275classMapInterpolate7:()=>T0,\u0275\u0275classMapInterpolate8:()=>S0,\u0275\u0275classMapInterpolateV:()=>Gv,\u0275\u0275classProp:()=>Um,\u0275\u0275contentQuery:()=>zp,\u0275\u0275defineComponent:()=>Ao,\u0275\u0275defineDirective:()=>ld,\u0275\u0275defineInjectable:()=>an,\u0275\u0275defineInjector:()=>$i,\u0275\u0275defineNgModule:()=>Wi,\u0275\u0275definePipe:()=>Ea,\u0275\u0275directiveInject:()=>gp,\u0275\u0275disableBindings:()=>jl,\u0275\u0275element:()=>wv,\u0275\u0275elementContainer:()=>bv,\u0275\u0275elementContainerEnd:()=>qt,\u0275\u0275elementContainerStart:()=>Ah,\u0275\u0275elementEnd:()=>mp,\u0275\u0275elementStart:()=>Pm,\u0275\u0275enableBindings:()=>Da,\u0275\u0275getCurrentView:()=>Dv,\u0275\u0275getInheritedFactory:()=>yg,\u0275\u0275hostProperty:()=>nE,\u0275\u0275i18n:()=>_E,\u0275\u0275i18nApply:()=>z0,\u0275\u0275i18nAttributes:()=>vE,\u0275\u0275i18nEnd:()=>yE,\u0275\u0275i18nExp:()=>ey,\u0275\u0275i18nPostprocess:()=>EE,\u0275\u0275i18nStart:()=>xp,\u0275\u0275inject:()=>Hn,\u0275\u0275injectAttribute:()=>Na,\u0275\u0275invalidFactory:()=>a0,\u0275\u0275invalidFactoryDep:()=>so,\u0275\u0275listener:()=>$r,\u0275\u0275loadQuery:()=>Xw,\u0275\u0275namespaceHTML:()=>fg,\u0275\u0275namespaceMathML:()=>hg,\u0275\u0275namespaceSVG:()=>Wl,\u0275\u0275nextContext:()=>Tv,\u0275\u0275ngDeclareClassMetadata:()=>FR,\u0275\u0275ngDeclareComponent:()=>LR,\u0275\u0275ngDeclareDirective:()=>kR,\u0275\u0275ngDeclareFactory:()=>VR,\u0275\u0275ngDeclareInjectable:()=>jR,\u0275\u0275ngDeclareInjector:()=>BR,\u0275\u0275ngDeclareNgModule:()=>HR,\u0275\u0275ngDeclarePipe:()=>$R,\u0275\u0275pipe:()=>qw,\u0275\u0275pipeBind1:()=>aC,\u0275\u0275pipeBind2:()=>Kw,\u0275\u0275pipeBind3:()=>uC,\u0275\u0275pipeBind4:()=>Zw,\u0275\u0275pipeBindV:()=>lC,\u0275\u0275projection:()=>h0,\u0275\u0275projectionDef:()=>Fm,\u0275\u0275property:()=>Cv,\u0275\u0275propertyInterpolate:()=>Sv,\u0275\u0275propertyInterpolate1:()=>Pn,\u0275\u0275propertyInterpolate2:()=>f0,\u0275\u0275propertyInterpolate3:()=>p0,\u0275\u0275propertyInterpolate4:()=>Ir,\u0275\u0275propertyInterpolate5:()=>Lm,\u0275\u0275propertyInterpolate6:()=>Av,\u0275\u0275propertyInterpolate7:()=>Nv,\u0275\u0275propertyInterpolate8:()=>Vm,\u0275\u0275propertyInterpolateV:()=>Rv,\u0275\u0275pureFunction0:()=>Lt,\u0275\u0275pureFunction1:()=>Bw,\u0275\u0275pureFunction2:()=>nd,\u0275\u0275pureFunction3:()=>iC,\u0275\u0275pureFunction4:()=>vy,\u0275\u0275pureFunction5:()=>Hw,\u0275\u0275pureFunction6:()=>$w,\u0275\u0275pureFunction7:()=>Ww,\u0275\u0275pureFunction8:()=>bo,\u0275\u0275pureFunctionV:()=>sC,\u0275\u0275queryRefresh:()=>Yw,\u0275\u0275reference:()=>Tm,\u0275\u0275resolveBody:()=>Lf,\u0275\u0275resolveDocument:()=>oa,\u0275\u0275resolveWindow:()=>dc,\u0275\u0275restoreView:()=>hd,\u0275\u0275sanitizeHtml:()=>ac,\u0275\u0275sanitizeResourceUrl:()=>uc,\u0275\u0275sanitizeScript:()=>zu,\u0275\u0275sanitizeStyle:()=>Ft,\u0275\u0275sanitizeUrl:()=>Ba,\u0275\u0275sanitizeUrlOrResourceUrl:()=>xr,\u0275\u0275setComponentScope:()=>ad,\u0275\u0275setNgModuleScope:()=>Xr,\u0275\u0275styleMap:()=>as,\u0275\u0275styleMapInterpolate1:()=>qv,\u0275\u0275styleMapInterpolate2:()=>zv,\u0275\u0275styleMapInterpolate3:()=>Kv,\u0275\u0275styleMapInterpolate4:()=>$m,\u0275\u0275styleMapInterpolate5:()=>wp,\u0275\u0275styleMapInterpolate6:()=>A0,\u0275\u0275styleMapInterpolate7:()=>Zv,\u0275\u0275styleMapInterpolate8:()=>au,\u0275\u0275styleMapInterpolateV:()=>N0,\u0275\u0275styleProp:()=>Fc,\u0275\u0275stylePropInterpolate1:()=>uu,\u0275\u0275stylePropInterpolate2:()=>Qv,\u0275\u0275stylePropInterpolate3:()=>Yv,\u0275\u0275stylePropInterpolate4:()=>Jv,\u0275\u0275stylePropInterpolate5:()=>Xv,\u0275\u0275stylePropInterpolate6:()=>eE,\u0275\u0275stylePropInterpolate7:()=>Wm,\u0275\u0275stylePropInterpolate8:()=>Gm,\u0275\u0275stylePropInterpolateV:()=>tE,\u0275\u0275syntheticHostListener:()=>Fs,\u0275\u0275syntheticHostProperty:()=>qm,\u0275\u0275template:()=>Dm,\u0275\u0275templateRefExtractor:()=>wy,\u0275\u0275text:()=>ou,\u0275\u0275textInterpolate:()=>Vv,\u0275\u0275textInterpolate1:()=>Ip,\u0275\u0275textInterpolate2:()=>Bm,\u0275\u0275textInterpolate3:()=>Vc,\u0275\u0275textInterpolate4:()=>fa,\u0275\u0275textInterpolate5:()=>Uv,\u0275\u0275textInterpolate6:()=>jv,\u0275\u0275textInterpolate7:()=>Bv,\u0275\u0275textInterpolate8:()=>Hv,\u0275\u0275textInterpolateV:()=>Hm,\u0275\u0275trustConstantHtml:()=>Qd,\u0275\u0275trustConstantResourceUrl:()=>Ha,\u0275\u0275viewQuery:()=>Jw});var T=j(9765),y=j(5319),K=j(7574),le=j(6682),he=j(2441);var Ee=j(1307);function J(){return new T.xQ}function $(o){for(let a in o)if(o[a]===$)return a;throw Error("Could not find renamed property on target object.")}function Z(o,a){for(const l in a)a.hasOwnProperty(l)&&!o.hasOwnProperty(l)&&(o[l]=a[l])}function G(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(G).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function z(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const te=$({__forward_ref__:$});function ne(o){return o.__forward_ref__=ne,o.toString=function(){return G(this())},o}function re(o){return Me(o)?o():o}function Me(o){return"function"==typeof o&&o.hasOwnProperty(te)&&o.__forward_ref__===ne}class Oe extends Error{constructor(a,l){super(function(o,a){return`${o?`NG0${o}: `:""}${a}`}(a,l)),this.code=a}}function $e(o){return"string"==typeof o?o:null==o?"":String(o)}function Ce(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():$e(o)}function fe(o,a){const l=a?` in ${a}`:"";throw new Oe("201",`No provider for ${Ce(o)} found${l}`)}function Rt(o,a,l,c){throw new Error(`ASSERTION ERROR: ${o}`+(null==c?"":` [Expected=> ${l} ${c} ${a} <=Actual]`))}function an(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}const So=an;function $i(o){return{providers:o.providers||[],imports:o.imports||[]}}function Gn(o){return Ws(o,Nn)||Ws(o,Gr)}function Ws(o,a){return o.hasOwnProperty(a)?o[a]:null}function Di(o){return o&&(o.hasOwnProperty(Wr)||o.hasOwnProperty(St))?o[Wr]:null}const Nn=$({\u0275prov:$}),Wr=$({\u0275inj:$}),Gr=$({ngInjectableDef:$}),St=$({ngInjectorDef:$});var ke=(()=>((ke=ke||{})[ke.Default=0]="Default",ke[ke.Host=1]="Host",ke[ke.Self=2]="Self",ke[ke.SkipSelf=4]="SkipSelf",ke[ke.Optional=8]="Optional",ke))();let Jt;function dn(){return Jt}function En(o){const a=Jt;return Jt=o,a}function Xt(o,a,l){const c=Gn(o);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:l&ke.Optional?null:void 0!==a?a:void fe(G(o),"Injector")}function Xe(o){return{toString:o}.toString()}var gr=(()=>((gr=gr||{})[gr.OnPush=0]="OnPush",gr[gr.Default=1]="Default",gr))(),Fn=(()=>((Fn=Fn||{})[Fn.CheckOnce=0]="CheckOnce",Fn[Fn.Checked=1]="Checked",Fn[Fn.CheckAlways=2]="CheckAlways",Fn[Fn.Detached=3]="Detached",Fn[Fn.Errored=4]="Errored",Fn[Fn.Destroyed=5]="Destroyed",Fn))();function pi(o){return null==o||o===gr.Default}var pn=(()=>((pn=pn||{})[pn.Emulated=0]="Emulated",pn[pn.None=2]="None",pn[pn.ShadowDom=3]="ShadowDom",pn))();const qr="undefined"!=typeof globalThis&&globalThis,Sl="undefined"!=typeof window&&window,gn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Y="undefined"!=typeof global&&global,H=qr||Y||Sl||gn,ie={},Re=[],at=$({\u0275cmp:$}),Vt=$({\u0275dir:$}),Ot=$({\u0275pipe:$}),xt=$({\u0275mod:$}),Ln=$({\u0275loc:$}),bn=$({\u0275fac:$}),qn=$({__NG_ELEMENT_ID__:$});let ps=0;function Ao(o){return Xe(()=>{const l={},c={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===gr.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||Re,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||pn.Emulated,id:"c",styles:o.styles||Re,_:null,setInput:null,schemas:o.schemas||null,tView:null},h=o.directives,g=o.features,v=o.pipes;return c.id+=ps++,c.inputs=Ro(o.inputs,l),c.outputs=Ro(o.outputs),g&&g.forEach(C=>C(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(No):null,c.pipeDefs=v?()=>("function"==typeof v?v():v).map(Al):null,c})}function ad(o,a,l){const c=o.\u0275cmp;c.directiveDefs=()=>a.map(No),c.pipeDefs=()=>l.map(Al)}function No(o){return rr(o)||Gi(o)}function Al(o){return xo(o)}const ud={};function Wi(o){return Xe(()=>{const a={type:o.type,bootstrap:o.bootstrap||Re,declarations:o.declarations||Re,imports:o.imports||Re,exports:o.exports||Re,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(ud[o.id]=o.type),a})}function Xr(o,a){return Xe(()=>{const l=Kt(o,!0);l.declarations=a.declarations||Re,l.imports=a.imports||Re,l.exports=a.exports||Re})}function Ro(o,a){if(null==o)return ie;const l={};for(const c in o)if(o.hasOwnProperty(c)){let h=o[c],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),l[h]=c,a&&(a[h]=g)}return l}const ld=Ao;function Ea(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function rr(o){return o[at]||null}function Gi(o){return o[Vt]||null}function xo(o){return o[Ot]||null}function Kt(o,a){const l=o[xt]||null;if(!l&&!0===a)throw new Error(`Type ${G(o)} does not have '\u0275mod' property.`);return l}function Un(o){return Array.isArray(o)&&"object"==typeof o[1]}function xn(o){return Array.isArray(o)&&!0===o[1]}function ri(o){return 0!=(8&o.flags)}function Rl(o){return 2==(2&o.flags)}function Po(o){return 1==(1&o.flags)}function be(o){return null!==o.template}function ko(o){return 0!=(512&o[2])}function Zi(o,a){return o.hasOwnProperty(bn)?o[bn]:null}class Vo{constructor(a,l,c){this.previousValue=a,this.currentValue=l,this.firstChange=c}isFirstChange(){return this.firstChange}}function Ar(){return Ia}function Ia(o){return o.type.prototype.ngOnChanges&&(o.setInput=Cu),of}function of(){const o=Uo(this),a=null==o?void 0:o.current;if(a){const l=o.previous;if(l===ie)o.previous=a;else for(let c in a)l[c]=a[c];o.current=null,this.ngOnChanges(a)}}function Cu(o,a,l,c){const h=Uo(o)||function(o,a){return o[Ks]=a}(o,{previous:ie,current:null}),g=h.current||(h.current={}),v=h.previous,C=this.declaredInputs[l],D=v[C];g[C]=new Vo(D&&D.currentValue,a,v===ie),o[c]=a}Ar.ngInherit=!0;const Ks="__ngSimpleChanges__";function Uo(o){return o[Ks]||null}let ir=null;const wa=o=>{ir=o},rn=function(o,a,l){null!=ir&&ir(o,a,l)},ba="http://www.w3.org/2000/svg",N="http://www.w3.org/1998/MathML/";let O;function R(o){O=o}function F(){return void 0!==O?O:"undefined"!=typeof document?document:void 0}function de(o){return!!o.listen}const ot={createRenderer:(o,a)=>F()};function mt(o){for(;Array.isArray(o);)o=o[0];return o}function Kn(o,a){return mt(a[o])}function Mt(o,a){return mt(a[o.index])}function gi(o,a){return o.data[a]}function yr(o,a){return o[a]}function jn(o,a){const l=a[o];return Un(l)?l:l[0]}function Mi(o){return 4==(4&o[2])}function Iu(o){return 128==(128&o[2])}function Oi(o,a){return null==a?null:o[a]}function dd(o){o[18]=0}function af(o,a){o[5]+=a;let l=o,c=o[3];for(;null!==c&&(1===a&&1===l[5]||-1===a&&0===l[5]);)c[5]+=a,l=c,c=c[3]}const et={lFrame:vd(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function lg(){return et.bindingsEnabled}function Da(){et.bindingsEnabled=!0}function jl(){et.bindingsEnabled=!1}function Pe(){return et.lFrame.lView}function Pt(){return et.lFrame.tView}function hd(o){return et.lFrame.contextLView=o,o[8]}function Zn(){let o=Bl();for(;null!==o&&64===o.type;)o=o.parent;return o}function Bl(){return et.lFrame.currentTNode}function wu(){const o=et.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}function Pi(o,a){const l=et.lFrame;l.currentTNode=o,l.isParent=a}function fd(){return et.lFrame.isParent}function bu(){et.lFrame.isParent=!1}function gd(){return et.isInCheckNoChangesMode}function jo(o){et.isInCheckNoChangesMode=o}function br(){const o=et.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function ii(){return et.lFrame.bindingIndex}function _r(o){return et.lFrame.bindingIndex=o}function Dn(){return et.lFrame.bindingIndex++}function ki(o){const a=et.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,l}function df(o){et.lFrame.inI18n=o}function hf(o,a){const l=et.lFrame;l.bindingIndex=l.bindingRootIndex=o,Bo(a)}function Bo(o){et.lFrame.currentDirectiveIndex=o}function md(o){const a=et.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function yd(){return et.lFrame.currentQueryIndex}function Hl(o){et.lFrame.currentQueryIndex=o}function Xy(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function _d(o,a,l){if(l&ke.SkipSelf){let h=a,g=o;for(;!(h=h.parent,null!==h||l&ke.Host||(h=Xy(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;a=h,o=g}const c=et.lFrame=e_();return c.currentTNode=a,c.lView=o,!0}function $l(o){const a=e_(),l=o[1];et.lFrame=a,a.currentTNode=l.firstChild,a.lView=o,a.tView=l,a.contextLView=o,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function e_(){const o=et.lFrame,a=null===o?null:o.child;return null===a?vd(o):a}function vd(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function ff(){const o=et.lFrame;return et.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const pf=ff;function Ed(){const o=ff();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function t_(o){return(et.lFrame.contextLView=function(o,a){for(;o>0;)a=a[15],o--;return a}(o,et.lFrame.contextLView))[8]}function Dr(){return et.lFrame.selectedIndex}function zr(o){et.lFrame.selectedIndex=o}function Cn(){const o=et.lFrame;return gi(o.tView,o.selectedIndex)}function Wl(){et.lFrame.currentNamespace=ba}function hg(){et.lFrame.currentNamespace=N}function fg(){et.lFrame.currentNamespace=null}function _s(o,a){for(let l=a.directiveStart,c=a.directiveEnd;l<c;l++){const g=o.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:D,ngAfterViewChecked:S,ngOnDestroy:x}=g;v&&(o.contentHooks||(o.contentHooks=[])).push(-l,v),C&&((o.contentHooks||(o.contentHooks=[])).push(l,C),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(l,C)),D&&(o.viewHooks||(o.viewHooks=[])).push(-l,D),S&&((o.viewHooks||(o.viewHooks=[])).push(l,S),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(l,S)),null!=x&&(o.destroyHooks||(o.destroyHooks=[])).push(l,x)}}function Ho(o,a,l){Tu(o,a,3,l)}function $o(o,a,l,c){(3&o[2])===l&&Tu(o,a,l,c)}function Id(o,a){let l=o[2];(3&l)===a&&(l&=2047,l+=1,o[2]=l)}function Tu(o,a,l,c){const g=null!=c?c:-1,v=a.length-1;let C=0;for(let D=void 0!==c?65535&o[18]:0;D<v;D++)if("number"==typeof a[D+1]){if(C=a[D],null!=c&&C>=c)break}else a[D]<0&&(o[18]+=65536),(C<g||-1==g)&&(pg(o,l,a,D),o[18]=(4294901760&o[18])+D+2),D++}function pg(o,a,l,c){const h=l[c]<0,g=l[c+1],C=o[h?-l[c]:l[c]];if(h){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048,rn(4,C,g);try{g.call(C)}finally{rn(5,C,g)}}}else{rn(4,C,g);try{g.call(C)}finally{rn(5,C,g)}}}class Qs{constructor(a,l,c){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=c}}function Wo(o,a,l){const c=de(o);let h=0;for(;h<l.length;){const g=l[h];if("number"==typeof g){if(0!==g)break;h++;const v=l[h++],C=l[h++],D=l[h++];c?o.setAttribute(a,C,D,v):a.setAttributeNS(v,C,D)}else{const v=g,C=l[++h];Go(v)?c&&o.setProperty(a,v,C):c?o.setAttribute(a,v,C):a.setAttribute(v,C),h++}}return h}function bd(o){return 3===o||4===o||6===o}function Go(o){return 64===o.charCodeAt(0)}function qo(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let l=-1;for(let c=0;c<a.length;c++){const h=a[c];"number"==typeof h?l=h:0===l||yf(o,l,h,null,-1===l||2===l?a[++c]:null)}}return o}function yf(o,a,l,c,h){let g=0,v=o.length;if(-1===a)v=-1;else for(;g<o.length;){const C=o[g++];if("number"==typeof C){if(C===a){v=-1;break}if(C>a){v=g-1;break}}}for(;g<o.length;){const C=o[g];if("number"==typeof C)break;if(C===l){if(null===c)return void(null!==h&&(o[g+1]=h));if(c===o[g+1])return void(o[g+2]=h)}g++,null!==c&&g++,null!==h&&g++}-1!==v&&(o.splice(v,0,a),g=v+1),o.splice(g++,0,l),null!==c&&o.splice(g++,0,c),null!==h&&o.splice(g++,0,h)}function _f(o){return-1!==o}function zo(o){return 32767&o}function Ys(o,a){let l=function(o){return o>>16}(o),c=a;for(;l>0;)c=c[15],l--;return c}let Ko=!0;function Zo(o){const a=Ko;return Ko=o,a}let Td=0;function Yi(o,a){const l=ql(o,a);if(-1!==l)return l;const c=a[1];c.firstCreatePass&&(o.injectorIndex=a.length,vs(c.data,o),vs(a,null),vs(c.blueprint,null));const h=Ad(o,a),g=o.injectorIndex;if(_f(h)){const v=zo(h),C=Ys(h,a),D=C[1].data;for(let S=0;S<8;S++)a[g+S]=C[v+S]|D[v+S]}return a[g+8]=h,g}function vs(o,a){o.push(0,0,0,0,0,0,0,0,a)}function ql(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function Ad(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let l=0,c=null,h=a;for(;null!==h;){const g=h[1],v=g.type;if(c=2===v?g.declTNode:1===v?h[6]:null,null===c)return-1;if(l++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|l<<16}return-1}function zl(o,a,l){!function(o,a,l){let c;"string"==typeof l?c=l.charCodeAt(0)||0:l.hasOwnProperty(qn)&&(c=l[qn]),null==c&&(c=l[qn]=Td++);const h=255&c;a.data[o+(h>>5)]|=1<<h}(o,a,l)}function Ji(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const l=o.attrs;if(l){const c=l.length;let h=0;for(;h<c;){const g=l[h];if(bd(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<c&&"string"==typeof l[h];)h++;else{if(g===a)return l[h+1];h+=2}}}return null}function Nd(o,a,l){if(l&ke.Optional)return o;fe(a,"NodeInjector")}function Qo(o,a,l,c){if(l&ke.Optional&&void 0===c&&(c=null),0==(l&(ke.Self|ke.Host))){const h=o[9],g=En(void 0);try{return h?h.get(a,c,l&ke.Optional):Xt(a,c,l&ke.Optional)}finally{En(g)}}return Nd(c,a,l)}function vf(o,a,l,c=ke.Default,h){if(null!==o){const g=function(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(qn)?o[qn]:void 0;return"number"==typeof a?a>=0?255&a:Aa:a}(l);if("function"==typeof g){if(!_d(a,o,c))return c&ke.Host?Nd(h,l,c):Qo(a,l,c,h);try{const v=g(c);if(null!=v||c&ke.Optional)return v;fe(l)}finally{pf()}}else if("number"==typeof g){let v=null,C=ql(o,a),D=-1,S=c&ke.Host?a[16][6]:null;for((-1===C||c&ke.SkipSelf)&&(D=-1===C?Ad(o,a):a[C+8],-1!==D&&In(c,!1)?(v=a[1],C=zo(D),a=Ys(D,a)):C=-1);-1!==C;){const x=a[1];if(Nu(g,C,x.data)){const k=Es(C,a,l,v,c,S);if(k!==Rd)return k}D=a[C+8],-1!==D&&In(c,a[1].data[C+8]===S)&&Nu(g,C,a)?(v=x,C=zo(D),a=Ys(D,a)):C=-1}}}return Qo(a,l,c,h)}const Rd={};function Aa(){return new Js(Zn(),Pe())}function Es(o,a,l,c,h,g){const v=a[1],C=v.data[o+8],x=Yo(C,v,l,null==c?Rl(C)&&Ko:c!=v&&0!=(3&C.type),h&ke.Host&&g===C);return null!==x?Jo(a,v,x,C):Rd}function Yo(o,a,l,c,h){const g=o.providerIndexes,v=a.data,C=1048575&g,D=o.directiveStart,x=g>>20,U=h?C+x:o.directiveEnd;for(let q=c?C:C+x;q<U;q++){const X=v[q];if(q<D&&l===X||q>=D&&X.type===l)return q}if(h){const q=v[D];if(q&&be(q)&&q.type===l)return D}return null}function Jo(o,a,l,c){let h=o[l];const g=a.data;if(function(o){return o instanceof Qs}(h)){const v=h;v.resolving&&function(o,a){throw new Oe("200",`Circular dependency in DI detected for ${o}`)}(Ce(g[l]));const C=Zo(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?En(v.injectImpl):null;_d(o,c,ke.Default);try{h=o[l]=v.factory(void 0,g,o,c),a.firstCreatePass&&l>=c.directiveStart&&function(o,a,l){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:g}=a.type.prototype;if(c){const v=Ia(a);(l.preOrderHooks||(l.preOrderHooks=[])).push(o,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-o,h),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(o,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,g))}(l,g[l],a)}finally{null!==D&&En(D),Zo(C),v.resolving=!1,pf()}}return h}function Nu(o,a,l){return!!(l[a+(o>>5)]&1<<o)}function In(o,a){return!(o&ke.Self||o&ke.Host&&a)}class Js{constructor(a,l){this._tNode=a,this._lView=l}get(a,l){return vf(this._tNode,this._lView,a,void 0,l)}}function yg(o){return Xe(()=>{const a=o.prototype.constructor,l=a[bn]||Kl(a),c=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==c;){const g=h[bn]||Kl(h);if(g&&g!==l)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Kl(o){return Me(o)?()=>{const a=Kl(re(o));return a&&a()}:Zi(o)}function Na(o){return Ji(Zn(),o)}const Cs="__annotations__",Ru="__parameters__",Ra="__prop__metadata__";function xu(o,a,l,c,h){return Xe(()=>{const g=Md(a);function v(...C){if(this instanceof v)return g.call(this,...C),this;const D=new v(...C);return function(x){return h&&h(x,...C),(x.hasOwnProperty(Cs)?x[Cs]:Object.defineProperty(x,Cs,{value:[]})[Cs]).push(D),c&&c(x),x}}return l&&(v.prototype=Object.create(l.prototype)),v.prototype.ngMetadataName=o,v.annotationCls=v,v})}function Md(o){return function(...l){if(o){const c=o(...l);for(const h in c)this[h]=c[h]}}}function Xo(o,a,l){return Xe(()=>{const c=Md(a);function h(...g){if(this instanceof h)return c.apply(this,g),this;const v=new h(...g);return C.annotation=v,C;function C(D,S,x){const k=D.hasOwnProperty(Ru)?D[Ru]:Object.defineProperty(D,Ru,{value:[]})[Ru];for(;k.length<=x;)k.push(null);return(k[x]=k[x]||[]).push(v),D}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}function Xs(o,a,l,c){return Xe(()=>{const h=Md(a);function g(...v){if(this instanceof g)return h.apply(this,v),this;const C=new g(...v);return function(S,x){const k=S.constructor,U=k.hasOwnProperty(Ra)?k[Ra]:Object.defineProperty(k,Ra,{value:{}})[Ra];U[x]=U.hasOwnProperty(x)&&U[x]||[],U[x].unshift(C),c&&c(S,x,...v)}}return l&&(g.prototype=Object.create(l.prototype)),g.prototype.ngMetadataName=o,g.annotationCls=g,g})}function Xi(){return Xo("Attribute",o=>({attributeName:o,__NG_ELEMENT_ID__:()=>Na(o)}))}const Zl=Xi();class Mn{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=an({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ea=new Mn("AnalyzeForEntryComponents");class xa{}const Ef=Xs("ContentChildren",(o,a={})=>Object.assign({selector:o,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0},a),xa),kd=Xs("ContentChild",(o,a={})=>Object.assign({selector:o,first:!0,isViewQuery:!1,descendants:!0},a),xa),eo=Xs("ViewChildren",(o,a={})=>Object.assign({selector:o,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:!0},a),xa),vg=Xs("ViewChild",(o,a)=>Object.assign({selector:o,first:!0,isViewQuery:!0,descendants:!0},a),xa);var Yn=(()=>((Yn=Yn||{})[Yn.Directive=0]="Directive",Yn[Yn.Component=1]="Component",Yn[Yn.Injectable=2]="Injectable",Yn[Yn.Pipe=3]="Pipe",Yn[Yn.NgModule=4]="NgModule",Yn))();function Jn(o){const a=H.ng;if(a&&a.\u0275compilerFacade)return a.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const Ql=Function;function Ma(o){return"function"==typeof o}function si(o,a){void 0===a&&(a=o);for(let l=0;l<o.length;l++){let c=o[l];Array.isArray(c)?(a===o&&(a=o.slice(0,l)),si(c,a)):a!==o&&a.push(c)}return a}function mi(o,a){o.forEach(l=>Array.isArray(l)?mi(l,a):a(l))}function ta(o,a,l){a>=o.length?o.push(l):o.splice(a,0,l)}function yi(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Is(o,a){const l=[];for(let c=0;c<o;c++)l.push(a);return l}function jr(o,a,l){let c=to(o,a);return c>=0?o[1|c]=l:(c=~c,function(o,a,l,c){let h=o.length;if(h==a)o.push(l,c);else if(1===h)o.push(c,o[0]),o[0]=l;else{for(h--,o.push(o[h-1],o[h]);h>a;)o[h]=o[h-2],h--;o[a]=l,o[a+1]=c}}(o,c,a,l)),c}function Ud(o,a){const l=to(o,a);if(l>=0)return o[1|l]}function to(o,a){return function(o,a,l){let c=0,h=o.length>>l;for(;h!==c;){const g=c+(h-c>>1),v=o[g<<l];if(a===v)return g<<l;v>a?h=g:c=g+1}return~(h<<l)}(o,a,1)}const no=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\))\)/,Bd=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,o_=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,wf=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class Pa{constructor(a){this._reflect=a||H.Reflect}isReflectionEnabled(){return!0}factory(a){return(...l)=>new a(...l)}_zipTypesAndAnnotations(a,l){let c;c=Is(void 0===a?l.length:a.length);for(let h=0;h<c.length;h++)c[h]=void 0===a?[]:a[h]&&a[h]!=Object?[a[h]]:[],l&&null!=l[h]&&(c[h]=c[h].concat(l[h]));return c}_ownParameters(a,l){const c=a.toString();if(no.test(o=c)||wf.test(o)||Bd.test(o)&&!o_.test(o))return null;var o;if(a.parameters&&a.parameters!==l.parameters)return a.parameters;const h=a.ctorParameters;if(h&&h!==l.ctorParameters){const C="function"==typeof h?h():h,D=C.map(x=>x&&x.type),S=C.map(x=>x&&Yl(x.decorators));return this._zipTypesAndAnnotations(D,S)}const g=a.hasOwnProperty(Ru)&&a[Ru],v=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",a);return v||g?this._zipTypesAndAnnotations(v,g):Is(a.length)}parameters(a){if(!Ma(a))return[];const l=ro(a);let c=this._ownParameters(a,l);return!c&&l!==Object&&(c=this.parameters(l)),c||[]}_ownAnnotations(a,l){if(a.annotations&&a.annotations!==l.annotations){let c=a.annotations;return"function"==typeof c&&c.annotations&&(c=c.annotations),c}return a.decorators&&a.decorators!==l.decorators?Yl(a.decorators):a.hasOwnProperty(Cs)?a[Cs]:null}annotations(a){if(!Ma(a))return[];const l=ro(a),c=this._ownAnnotations(a,l)||[];return(l!==Object?this.annotations(l):[]).concat(c)}_ownPropMetadata(a,l){if(a.propMetadata&&a.propMetadata!==l.propMetadata){let c=a.propMetadata;return"function"==typeof c&&c.propMetadata&&(c=c.propMetadata),c}if(a.propDecorators&&a.propDecorators!==l.propDecorators){const c=a.propDecorators,h={};return Object.keys(c).forEach(g=>{h[g]=Yl(c[g])}),h}return a.hasOwnProperty(Ra)?a[Ra]:null}propMetadata(a){if(!Ma(a))return{};const l=ro(a),c={};if(l!==Object){const g=this.propMetadata(l);Object.keys(g).forEach(v=>{c[v]=g[v]})}const h=this._ownPropMetadata(a,l);return h&&Object.keys(h).forEach(g=>{const v=[];c.hasOwnProperty(g)&&v.push(...c[g]),v.push(...h[g]),c[g]=v}),c}ownPropMetadata(a){return Ma(a)&&this._ownPropMetadata(a,ro(a))||{}}hasLifecycleHook(a,l){return a instanceof Ql&&l in a.prototype}guards(a){return{}}getter(a){return new Function("o","return o."+a+";")}setter(a){return new Function("o","v","return o."+a+" = v;")}method(a){return new Function("o","args",`if (!o.${a}) throw new Error('"${a}" is undefined');\n        return o.${a}.apply(o, args);`)}importUri(a){return"object"==typeof a&&a.filePath?a.filePath:`./${G(a)}`}resourceUri(a){return`./${G(a)}`}resolveIdentifier(a,l,c,h){return h}resolveEnum(a,l){return a[l]}}function Yl(o){return o?o.map(a=>new(0,a.type.annotationCls)(...a.args?a.args:[])):[]}function ro(o){const a=o.prototype?Object.getPrototypeOf(o.prototype):null;return(a?a.constructor:null)||Object}const Fi={},io="__NG_DI_FLAG__",na="ngTempTokenPath",ka=/\n/gm,Jl="__source",Pu=$({provide:String,useValue:$});let ku;function es(o){const a=ku;return ku=o,a}function Xl(o,a=ke.Default){if(void 0===ku)throw new Error("inject() must be called from an injection context");return null===ku?Xt(o,void 0,a):ku.get(o,a&ke.Optional?null:void 0,a)}function Hn(o,a=ke.Default){return(dn()||Xl)(re(o),a)}function so(o){throw new Error("invalid")}const Ig=Hn;function ws(o){const a=[];for(let l=0;l<o.length;l++){const c=re(o[l]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let h,g=ke.Default;for(let v=0;v<c.length;v++){const C=c[v],D=wg(C);"number"==typeof D?-1===D?h=C.token:g|=D:h=C}a.push(Hn(h,g))}else a.push(Hn(c))}return a}function Fa(o,a){return o[io]=a,o.prototype[io]=a,o}function wg(o){return o[io]}function Fu(o,a,l,c){const h=o[na];throw a[Jl]&&h.unshift(a[Jl]),o.message=function(o,a,l,c=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let h=G(a);if(Array.isArray(a))h=a.map(G).join(" -> ");else if("object"==typeof a){let g=[];for(let v in a)if(a.hasOwnProperty(v)){let C=a[v];g.push(v+":"+("string"==typeof C?JSON.stringify(C):G(C)))}h=`{${g.join(", ")}}`}return`${l}${c?"("+c+")":""}[${h}]: ${o.replace(ka,"\n  ")}`}("\n"+o.message,h,l,c),o.ngTokenPath=h,o[na]=null,o}const Lu=o=>({token:o}),La=Fa(Xo("Inject",Lu),-1),ai=Fa(Xo("Optional"),8),Va=Fa(Xo("Self"),2),bs=Fa(Xo("SkipSelf"),4),ec=Fa(Xo("Host"),1);let Tf=null;function Hd(){return Tf=Tf||new Pa}function Vu(o){return tc(Hd().parameters(o))}function tc(o){return o.map(a=>function(o){const a={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(o)&&o.length>0)for(let l=0;l<o.length;l++){const c=o[l];if(void 0===c)continue;const h=Object.getPrototypeOf(c);if(c instanceof ai||"Optional"===h.ngMetadataName)a.optional=!0;else if(c instanceof bs||"SkipSelf"===h.ngMetadataName)a.skipSelf=!0;else if(c instanceof Va||"Self"===h.ngMetadataName)a.self=!0;else if(c instanceof ec||"Host"===h.ngMetadataName)a.host=!0;else if(c instanceof La)a.token=c.token;else if(c instanceof Zl){if(void 0===c.attributeName)throw new Error("Attribute name must be defined.");a.attribute=c.attributeName}else a.token=c}else a.token=void 0===o||Array.isArray(o)&&0===o.length?null:o;return a}(a))}function Sf(o){const a=[],l=new Map;function c(h){let g=l.get(h);if(!g){const v=o(h);l.set(h,g=v.then($n))}return g}return rc.forEach((h,g)=>{const v=[];h.templateUrl&&v.push(c(h.templateUrl).then(k=>{h.template=k}));const C=h.styleUrls,D=h.styles||(h.styles=[]),S=h.styles.length;C&&C.forEach((k,U)=>{D.push(""),v.push(c(k).then(q=>{D[S+U]=q,C.splice(C.indexOf(k),1),0==C.length&&(h.styleUrls=void 0)}))});const x=Promise.all(v).then(()=>function(o){$d.delete(o)}(g));a.push(x)}),Wd(),Promise.all(a).then(()=>{})}let rc=new Map;const $d=new Set;function oo(o){return!!(o.templateUrl&&!o.hasOwnProperty("template")||o.styleUrls&&o.styleUrls.length)}function Wd(){const o=rc;return rc=new Map,o}function $n(o){return"string"==typeof o?o:o.text()}let ra,Fe;function st(){if(void 0===ra&&(ra=null,H.trustedTypes))try{ra=H.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return ra}function dt(o){var a;return(null===(a=st())||void 0===a?void 0:a.createHTML(o))||o}function or(){if(void 0===Fe&&(Fe=null,H.trustedTypes))try{Fe=H.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return Fe}function Af(o){var a;return(null===(a=or())||void 0===a?void 0:a.createHTML(o))||o}function bg(o){var a;return(null===(a=or())||void 0===a?void 0:a.createScript(o))||o}function Dg(o){var a;return(null===(a=or())||void 0===a?void 0:a.createScriptURL(o))||o}class ju{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ua extends ju{getTypeName(){return"HTML"}}class l_ extends ju{getTypeName(){return"Style"}}class _i extends ju{getTypeName(){return"Script"}}class Nf extends ju{getTypeName(){return"URL"}}class Tg extends ju{getTypeName(){return"ResourceURL"}}function yt(o){return o instanceof ju?o.changingThisBreaksApplicationSecurity:o}function ts(o,a){const l=Rf(o);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===a}function Rf(o){return o instanceof ju&&o.getTypeName()||null}function ar(o){return new Ua(o)}function At(o){return new l_(o)}function Sg(o){return new _i(o)}function ao(o){return new Nf(o)}function Ag(o){return new Tg(o)}function Bu(o){const a=new c_(o);return function(){try{return!!(new window.DOMParser).parseFromString(dt(""),"text/html")}catch(o){return!1}}()?new Zt(a):a}class Zt{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const l=(new window.DOMParser).parseFromString(dt(a),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(a):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class c_{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const c=this.inertDocument.createElement("body");l.appendChild(c)}}getInertBodyElement(a){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=dt(a),l;const c=this.inertDocument.createElement("body");return c.innerHTML=dt(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(a){const l=a.attributes;for(let h=l.length-1;0<h;h--){const v=l.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&a.removeAttribute(v)}let c=a.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const ja=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Tr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function sc(o){return(o=String(o)).match(ja)||o.match(Tr)?o:"unsafe:"+o}function ns(o){return(o=String(o)).split(",").map(a=>sc(a.trim())).join(", ")}function tn(o){const a={};for(const l of o.split(","))a[l]=!0;return a}function Ds(...o){const a={};for(const l of o)for(const c in l)l.hasOwnProperty(c)&&(a[c]=!0);return a}const Gd=tn("area,br,col,hr,img,wbr"),Hu=tn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$u=tn("rp,rt"),nt=Ds(Gd,Ds(Hu,tn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ds($u,tn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ds($u,Hu)),uo=tn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Li=tn("srcset"),Mf=Ds(uo,Li,tn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),zd=tn("script,style,template");class Of{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let l=a.firstChild,c=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?c=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,c&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(a){const l=a.nodeName.toLowerCase();if(!nt.hasOwnProperty(l))return this.sanitizedSomething=!0,!zd.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const c=a.attributes;for(let h=0;h<c.length;h++){const g=c.item(h),v=g.name,C=v.toLowerCase();if(!Mf.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let D=g.value;uo[C]&&(D=sc(D)),Li[C]&&(D=ns(D)),this.buf.push(" ",v,'="',Zd(D),'"')}return this.buf.push(">"),!0}endElement(a){const l=a.nodeName.toLowerCase();nt.hasOwnProperty(l)&&!Gd.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(a){this.buf.push(Zd(a))}checkClobberedElement(a,l){if(l&&(a.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return l}}const Kd=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Pf=/([^\#-~ |!])/g;function Zd(o){return o.replace(/&/g,"&amp;").replace(Kd,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(Pf,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Gu;function oc(o,a){let l=null;try{Gu=Gu||Bu(o);let c=a?String(a):"";l=Gu.getInertBodyElement(c);let h=5,g=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=g,g=l.innerHTML,l=Gu.getInertBodyElement(c)}while(c!==g);return dt((new Of).sanitizeChildren(sa(l)||l))}finally{if(l){const c=sa(l)||l;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function sa(o){return"content"in o&&function(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var kt=(()=>((kt=kt||{})[kt.NONE=0]="NONE",kt[kt.HTML=1]="HTML",kt[kt.STYLE=2]="STYLE",kt[kt.SCRIPT=3]="SCRIPT",kt[kt.URL=4]="URL",kt[kt.RESOURCE_URL=5]="RESOURCE_URL",kt))();function ac(o){const a=Ku();return a?Af(a.sanitize(kt.HTML,o)||""):ts(o,"HTML")?Af(yt(o)):oc(F(),$e(o))}function Ft(o){const a=Ku();return a?a.sanitize(kt.STYLE,o)||"":ts(o,"Style")?yt(o):$e(o)}function Ba(o){const a=Ku();return a?a.sanitize(kt.URL,o)||"":ts(o,"URL")?yt(o):sc($e(o))}function uc(o){const a=Ku();if(a)return Dg(a.sanitize(kt.RESOURCE_URL,o)||"");if(ts(o,"ResourceURL"))return Dg(yt(o));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function zu(o){const a=Ku();if(a)return bg(a.sanitize(kt.SCRIPT,o)||"");if(ts(o,"Script"))return bg(yt(o));throw new Error("unsafe value used in a script context")}function Qd(o){return dt(o[0])}function Ha(o){return function(o){var a;return(null===(a=st())||void 0===a?void 0:a.createScriptURL(o))||o}(o[0])}function lc(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?uc:Ba}function xr(o,a,l){return lc(a,l)(o)}function Ku(){const o=Pe();return o&&o[12]}function Br(o){let a=Wa(o);if(a){if(Array.isArray(a)){const l=a;let c,h,g;if(function(o){return o&&o.constructor&&o.constructor.\u0275cmp}(o)){if(c=Jd(l,o),-1==c)throw new Error("The provided component was not found in the application");h=o}else if(function(o){return o&&o.constructor&&o.constructor.\u0275dir}(o)){if(c=function(o,a){let l=o[1].firstChild;for(;l;){const h=l.directiveEnd;for(let g=l.directiveStart;g<h;g++)if(o[g]===a)return l.index;l=Yu(l)}return-1}(l,o),-1==c)throw new Error("The provided directive was not found in the application");g=cc(c,l,!1)}else if(c=Ts(l,o),-1==c)return null;const v=mt(l[c]),C=Wa(v),D=C&&!Array.isArray(C)?C:Yd(l,c,v);if(h&&void 0===D.component&&(D.component=h,ln(D.component,D)),g&&void 0===D.directives){D.directives=g;for(let S=0;S<g.length;S++)ln(g[S],D)}ln(D.native,D),a=D}}else{const l=o;let c=l;for(;c=c.parentNode;){const h=Wa(c);if(h){let g;if(g=Array.isArray(h)?h:h.lView,!g)return null;const v=Ts(g,l);if(v>=0){const C=mt(g[v]),D=Yd(g,v,C);ln(C,D),a=D;break}}}}return a||null}function Yd(o,a,l){return{lView:o,nodeIndex:a,native:l,component:void 0,directives:void 0,localRefs:void 0}}function xg(o){let l,a=Wa(o);if(Array.isArray(a)){const c=Jd(a,o);l=jn(c,a);const h=Yd(a,c,l[0]);h.component=o,ln(o,h),ln(h.native,h)}else l=jn(a.nodeIndex,a.lView);return l}const kf="__ngContext__";function ln(o,a){o[kf]=a}function Wa(o){return o[kf]||null}function lo(o){const a=Wa(o);return a?Array.isArray(a)?a:a.lView:null}function Ts(o,a){const l=o[1];for(let c=20;c<l.bindingStartIndex;c++)if(mt(o[c])===a)return c;return-1}function Yu(o){if(o.child)return o.child;if(o.next)return o.next;for(;o.parent&&!o.parent.next;)o=o.parent;return o.parent&&o.parent.next}function Jd(o,a){const l=o[1].components;if(l)for(let c=0;c<l.length;c++){const h=l[c];if(jn(h,o)[8]===a)return h}else if(jn(20,o)[8]===a)return 20;return-1}function cc(o,a,l){const c=a[1].data[o];let h=c.directiveStart;return 0==h?Re:(!l&&2&c.flags&&h++,a.slice(h,c.directiveEnd))}const th="ngDebugContext",I="ngOriginalError",m="ngErrorLogger";function M(o){return o[th]}function L(o){return o[I]}function De(o,...a){o.error(...a)}class He{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a),c=this._findContext(a),h=(o=a)&&o[m]||De;var o;h(this._console,"ERROR",a),l&&h(this._console,"ORIGINAL ERROR",l),c&&h(this._console,"ERROR CONTEXT",c)}_findContext(a){return a?M(a)||this._findContext(L(a)):null}_findOriginalError(a){let l=a&&L(a);for(;l&&L(l);)l=L(l);return l||null}}const rt={name:"custom-elements"},_t={name:"no-errors-schema"},ht=/^>|^->|<!--|-->|--!>|<!-$/g,ur=/(<|>)/;function As(o){return o.replace(ht,a=>a.replace(ur,"\u200b$1\u200b"))}function nh(o){return`ng-reflect-${o=function(o){return o.replace(Ff,(...a)=>"-"+a[1].toLowerCase())}(o.replace(/[$@]/g,"_"))}`}const Ff=/([A-Z])/g;function Ns(o){try{return null!=o?o.toString().slice(0,30):o}catch(a){return"[ERROR] Exception while trying to serialize the value"}}const co=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(H))();function dc(o){return o.ownerDocument.defaultView}function oa(o){return o.ownerDocument}function Lf(o){return o.ownerDocument.body}function ui(o){return o instanceof Function?o():o}var rs=(()=>((rs=rs||{})[rs.Important=1]="Important",rs[rs.DashCase=2]="DashCase",rs))();let h_;function Vf(o,a){return h_(o,a)}function rh(o){const a=o[3];return xn(a)?a[3]:a}function aa(o){return function(o){let a=Un(o)?o:lo(o);for(;a&&!(512&a[2]);)a=rh(a);return a}(o)[8]}function Og(o){return p_(o[13])}function Pg(o){return p_(o[4])}function p_(o){for(;null!==o&&!xn(o);)o=o[4];return o}function Xu(o,a,l,c,h){if(null!=c){let g,v=!1;xn(c)?g=c:Un(c)&&(v=!0,c=c[0]);const C=mt(c);0===o&&null!==l?null==h?jf(a,l,C):hc(a,l,C,h||null,!0):1===o&&null!==l?hc(a,l,C,h||null,!0):2===o?v_(a,C,v):3===o&&a.destroyNode(C),null!=g&&function(o,a,l,c,h){const g=l[7];g!==mt(l)&&Xu(a,o,c,g,h);for(let C=10;C<l.length;C++){const D=l[C];cr(D[1],D,o,a,c,g)}}(a,o,g,l,h)}}function g_(o,a){return de(o)?o.createText(a):o.createTextNode(a)}function Er(o,a,l){de(o)?o.setValue(a,l):a.textContent=l}function Qt(o,a){return o.createComment(As(a))}function Fg(o,a,l){return de(o)?o.createElement(a,l):null===l?o.createElement(a):o.createElementNS(l,a)}function XC(o,a){const l=o[9],c=l.indexOf(a),h=a[3];1024&a[2]&&(a[2]&=-1025,af(h,-1)),l.splice(c,1)}function Ui(o,a){if(o.length<=10)return;const l=10+a,c=o[l];if(c){const h=c[17];null!==h&&h!==o&&XC(h,c),a>0&&(o[l-1][4]=c[4]);const g=yi(o,10+a);!function(o,a){cr(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(c[1],c);const v=g[19];null!==v&&v.detachView(g[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function eI(o,a){if(!(256&a[2])){const l=a[11];de(l)&&l.destroyNode&&cr(o,a,l,3,null,null),function(o){let a=o[13];if(!a)return Uf(o[1],o);for(;a;){let l=null;if(Un(a))l=a[13];else{const c=a[10];c&&(l=c)}if(!l){for(;a&&!a[4]&&a!==o;)Un(a)&&Uf(a[1],a),a=a[3];null===a&&(a=o),Un(a)&&Uf(a[1],a),l=a&&a[4]}a=l}}(a)}}function Uf(o,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function(o,a){let l;if(null!=o&&null!=(l=o.destroyHooks))for(let c=0;c<l.length;c+=2){const h=a[l[c]];if(!(h instanceof Qs)){const g=l[c+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const C=h[g[v]],D=g[v+1];rn(4,C,D);try{D.call(C)}finally{rn(5,C,D)}}else{rn(4,h,g);try{g.call(h)}finally{rn(5,h,g)}}}}}(o,a),function(o,a){const l=o.cleanup,c=a[7];let h=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const v=l[g+1],C="function"==typeof v?v(a):mt(a[v]),D=c[h=l[g+2]],S=l[g+3];"boolean"==typeof S?C.removeEventListener(l[g],D,S):S>=0?c[h=S]():c[h=-S].unsubscribe(),g+=2}else{const v=c[h=l[g+1]];l[g].call(v)}if(null!==c){for(let g=h+1;g<c.length;g++)c[g]();a[7]=null}}(o,a),1===a[1].type&&de(a[11])&&a[11].destroy();const l=a[17];if(null!==l&&xn(a[3])){l!==a[3]&&XC(l,a);const c=a[19];null!==c&&c.detachView(o)}}}function nI(o,a,l){return fn(o,a.parent,l)}function fn(o,a,l){let c=a;for(;null!==c&&40&c.type;)c=(a=c).parent;if(null===c)return l[0];if(2&c.flags){const h=o.data[c.directiveStart].encapsulation;if(h===pn.None||h===pn.Emulated)return null}return Mt(c,l)}function hc(o,a,l,c,h){de(o)?o.insertBefore(a,l,c,h):a.insertBefore(l,c,h)}function jf(o,a,l){de(o)?o.appendChild(a,l):a.appendChild(l)}function sh(o,a,l,c,h){null!==c?hc(o,a,l,c,h):jf(o,a,l)}function fc(o,a){return de(o)?o.parentNode(a):a.parentNode}function m_(o,a,l){return iI(o,a,l)}function y_(o,a,l){return 40&o.type?Mt(o,l):null}let Vg,iI=y_;function __(o,a){iI=o,Vg=a}function Ug(o,a,l,c){const h=nI(o,c,a),g=a[11],C=m_(c.parent||a[6],c,a);if(null!=h)if(Array.isArray(l))for(let D=0;D<l.length;D++)sh(g,h,l[D],C,!1);else sh(g,h,l,C,!1);void 0!==Vg&&Vg(g,c,a,l,h)}function jg(o,a){if(null!==a){const l=a.type;if(3&l)return Mt(a,o);if(4&l)return pc(-1,o[a.index]);if(8&l){const c=a.child;if(null!==c)return jg(o,c);{const h=o[a.index];return xn(h)?pc(-1,h):mt(h)}}if(32&l)return Vf(a,o)()||mt(o[a.index]);{const c=sI(o,a);return null!==c?Array.isArray(c)?c[0]:jg(rh(o[16]),c):jg(o,a.next)}}return null}function sI(o,a){return null!==a?o[16][6].projection[a.projection]:null}function pc(o,a){const l=10+o+1;if(l<a.length){const c=a[l],h=c[1].firstChild;if(null!==h)return jg(c,h)}return a[7]}function v_(o,a,l){const c=fc(o,a);c&&function(o,a,l,c){de(o)?o.removeChild(a,l,c):a.removeChild(l)}(o,c,a,l)}function E_(o,a,l,c,h,g,v){for(;null!=l;){const C=c[l.index],D=l.type;if(v&&0===a&&(C&&ln(mt(C),c),l.flags|=4),64!=(64&l.flags))if(8&D)E_(o,a,l.child,c,h,g,!1),Xu(a,o,h,C,g);else if(32&D){const S=Vf(l,c);let x;for(;x=S();)Xu(a,o,h,x,g);Xu(a,o,h,C,g)}else 16&D?I_(o,a,c,l,h,g):Xu(a,o,h,C,g);l=v?l.projectionNext:l.next}}function cr(o,a,l,c,h,g){E_(l,c,o.firstChild,a,h,g,!1)}function I_(o,a,l,c,h,g){const v=l[16],D=v[6].projection[c.projection];if(Array.isArray(D))for(let S=0;S<D.length;S++)Xu(a,o,h,D[S],g);else E_(o,a,D,v[3],h,g,!0)}function Bg(o,a,l){de(o)?o.setAttribute(a,"style",l):a.style.cssText=l}function Hg(o,a,l){de(o)?""===l?o.removeAttribute(a,"class"):o.setAttribute(a,"class",l):a.className=l}function oh(o,a,l){let c=o.length;for(;;){const h=o.indexOf(a,l);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const g=a.length;if(h+g===c||o.charCodeAt(h+g)<=32)return h}l=h+1}}const w_="ng-template";function oI(o,a,l){let c=0;for(;c<o.length;){let h=o[c++];if(l&&"class"===h){if(h=o[c],-1!==oh(h.toLowerCase(),a,0))return!0}else if(1===h){for(;c<o.length&&"string"==typeof(h=o[c++]);)if(h.toLowerCase()===a)return!0;return!1}}return!1}function aI(o){return 4===o.type&&o.value!==w_}function gD(o,a,l){return a===(4!==o.type||l?o.value:w_)}function $g(o,a,l){let c=4;const h=o.attrs||[],g=function(o){for(let a=0;a<o.length;a++)if(bd(o[a]))return a;return o.length}(h);let v=!1;for(let C=0;C<a.length;C++){const D=a[C];if("number"!=typeof D){if(!v)if(4&c){if(c=2|1&c,""!==D&&!gD(o,D,l)||""===D&&1===a.length){if(Rs(c))return!1;v=!0}}else{const S=8&c?D:a[++C];if(8&c&&null!==o.attrs){if(!oI(o.attrs,S,l)){if(Rs(c))return!1;v=!0}continue}const k=mD(8&c?"class":D,h,aI(o),l);if(-1===k){if(Rs(c))return!1;v=!0;continue}if(""!==S){let U;U=k>g?"":h[k+1].toLowerCase();const q=8&c?U:null;if(q&&-1!==oh(q,S,0)||2&c&&S!==U){if(Rs(c))return!1;v=!0}}}}else{if(!v&&!Rs(c)&&!Rs(D))return!1;if(v&&Rs(D))continue;v=!1,c=D|1&c}}return Rs(c)||v}function Rs(o){return 0==(1&o)}function mD(o,a,l,c){if(null===a)return-1;let h=0;if(c||!l){let g=!1;for(;h<a.length;){const v=a[h];if(v===o)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let C=a[++h];for(;"string"==typeof C;)C=a[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function(o,a){let l=o.indexOf(4);if(l>-1)for(l++;l<o.length;){const c=o[l];if("number"==typeof c)return-1;if(c===a)return l;l++}return-1}(a,o)}function b_(o,a,l=!1){for(let c=0;c<a.length;c++)if($g(o,a[c],l))return!0;return!1}function cI(o,a){e:for(let l=0;l<a.length;l++){const c=a[l];if(o.length===c.length){for(let h=0;h<o.length;h++)if(o[h]!==c[h])continue e;return!0}}return!1}function D_(o,a){return o?":not("+a.trim()+")":a}function dI(o){let a=o[0],l=1,c=2,h="",g=!1;for(;l<o.length;){let v=o[l];if("string"==typeof v)if(2&c){const C=o[++l];h+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&c?h+="."+v:4&c&&(h+=" "+v);else""!==h&&!Rs(v)&&(a+=D_(g,h),h=""),c=v,g=g||!Rs(c);l++}return""!==h&&(a+=D_(g,h)),a}const pt={};function gc(o){hI(Pt(),Pe(),Dr()+o,gd())}function hI(o,a,l,c){if(!c)if(3==(3&a[2])){const g=o.preOrderCheckHooks;null!==g&&Ho(a,g,l)}else{const g=o.preOrderHooks;null!==g&&$o(a,g,0,l)}zr(l)}function Wg(o,a){return o<<17|a<<2}function fo(o){return o>>17&32767}function S_(o){return 2|o}function la(o){return(131068&o)>>2}function go(o,a){return-131069&o|a<<2}function Ei(o){return 1|o}const vc=(()=>Promise.resolve(null))();function Yg(o,a){const l=o.contentQueries;if(null!==l)for(let c=0;c<l.length;c+=2){const h=l[c],g=l[c+1];if(-1!==g){const v=o.data[g];Hl(h),v.contentQueries(2,a[g],g)}}}function dh(o,a,l,c,h,g,v,C,D,S){const x=a.blueprint.slice();return x[0]=h,x[2]=140|c,dd(x),x[3]=x[15]=o,x[8]=l,x[10]=v||o&&o[10],x[11]=C||o&&o[11],x[12]=D||o&&o[12]||null,x[9]=S||o&&o[9]||null,x[6]=g,x[16]=2==a.type?o[16]:x,x}function hh(o,a,l,c,h){let g=o.data[a];if(null===g)g=qf(o,a,l,c,h),et.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=l,g.value=c,g.attrs=h;const v=wu();g.injectorIndex=null===v?-1:v.injectorIndex}return Pi(g,!0),g}function qf(o,a,l,c,h){const g=Bl(),v=fd(),D=o.data[a]=function(o,a,l,c,h,g){return{type:l,index:c,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,l,a,c,h);return null===o.firstChild&&(o.firstChild=D),null!==g&&(v?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}function fh(o,a,l,c){if(0===l)return-1;const h=a.length;for(let g=0;g<l;g++)a.push(c),o.blueprint.push(c),o.data.push(null);return h}function ph(o,a,l){$l(a);try{const c=o.viewQuery;null!==c&&Yf(1,c,l);const h=o.template;null!==h&&x_(o,a,h,1,l),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Yg(o,a),o.staticViewQueries&&Yf(2,o.viewQuery,l);const g=o.components;null!==g&&function(o,a){for(let l=0;l<a.length;l++)MD(o,a[l])}(a,g)}catch(c){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),c}finally{a[2]&=-5,Ed()}}function Ec(o,a,l,c){const h=a[2];if(256==(256&h))return;$l(a);const g=gd();try{dd(a),_r(o.bindingStartIndex),null!==l&&x_(o,a,l,2,c);const v=3==(3&h);if(!g)if(v){const S=o.preOrderCheckHooks;null!==S&&Ho(a,S,null)}else{const S=o.preOrderHooks;null!==S&&$o(a,S,0,null),Id(a,0)}if(function(o){for(let a=Og(o);null!==a;a=Pg(a)){if(!a[2])continue;const l=a[9];for(let c=0;c<l.length;c++){const h=l[c],g=h[3];0==(1024&h[2])&&af(g,1),h[2]|=1024}}}(a),function(o){for(let a=Og(o);null!==a;a=Pg(a))for(let l=10;l<a.length;l++){const c=a[l],h=c[1];Iu(c)&&Ec(h,c,h.template,c[8])}}(a),null!==o.contentQueries&&Yg(o,a),!g)if(v){const S=o.contentCheckHooks;null!==S&&Ho(a,S)}else{const S=o.contentHooks;null!==S&&$o(a,S,1),Id(a,1)}!function(o,a){const l=o.hostBindingOpCodes;if(null!==l)try{for(let c=0;c<l.length;c++){const h=l[c];if(h<0)zr(~h);else{const g=h,v=l[++c],C=l[++c];hf(v,g),C(2,a[g])}}}finally{zr(-1)}}(o,a);const C=o.components;null!==C&&function(o,a){for(let l=0;l<a.length;l++)xD(o,a[l])}(a,C);const D=o.viewQuery;if(null!==D&&Yf(2,D,c),!g)if(v){const S=o.viewCheckHooks;null!==S&&Ho(a,S)}else{const S=o.viewHooks;null!==S&&$o(a,S,2),Id(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),g||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,af(a[3],-1))}finally{Ed()}}function Bi(o,a,l,c){const h=a[10],g=!gd(),v=Mi(a);try{g&&!v&&h.begin&&h.begin(),v&&ph(o,a,c),Ec(o,a,l,c)}finally{g&&!v&&h.end&&h.end()}}function x_(o,a,l,c,h){const g=Dr(),v=2&c;try{zr(-1),v&&a.length>20&&hI(o,a,20,gd()),rn(v?2:0,h),l(c,h)}finally{zr(g),rn(v?3:1,h)}}function zf(o,a,l){if(ri(a)){const h=a.directiveEnd;for(let g=a.directiveStart;g<h;g++){const v=o.data[g];v.contentQueries&&v.contentQueries(1,l[g],g)}}}function Kf(o,a,l){!lg()||(function(o,a,l,c){const h=l.directiveStart,g=l.directiveEnd;o.firstCreatePass||Yi(l,a),ln(c,a);const v=l.initialInputs;for(let C=h;C<g;C++){const D=o.data[C],S=be(D);S&&II(a,l,D);const x=Jo(a,o,C,l);ln(x,a),null!==v&&AD(0,C-h,x,D,0,v),S&&(jn(l.index,a)[8]=x)}}(o,a,l,Mt(l,a)),128==(128&l.flags)&&function(o,a,l){const c=l.directiveStart,h=l.directiveEnd,v=l.index,C=et.lFrame.currentDirectiveIndex;try{zr(v);for(let D=c;D<h;D++){const S=o.data[D],x=a[D];Bo(D),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&L_(S,x)}}finally{zr(-1),Bo(C)}}(o,a,l))}function Jg(o,a,l=Mt){const c=a.localNames;if(null!==c){let h=a.index+1;for(let g=0;g<c.length;g+=2){const v=c[g+1],C=-1===v?l(a,o):o[v];o[h++]=C}}}function Qa(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=Ya(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function Ya(o,a,l,c,h,g,v,C,D,S){const x=20+c,k=x+h,U=function(o,a){const l=[];for(let c=0;c<a;c++)l.push(c<o?null:pt);return l}(x,k),q="function"==typeof S?S():S;return U[1]={type:o,blueprint:U,template:l,queries:null,viewQuery:C,declTNode:a,data:U.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:q,incompleteFirstPass:!1}}function Cc(o,a,l){if(de(o))return o.selectRootElement(a,l===pn.ShadowDom);let c="string"==typeof a?o.querySelector(a):a;return c.textContent="",c}function M_(o,a,l,c){const h=TI(a);null===l?h.push(c):(h.push(l),o.firstCreatePass&&lm(o).push(c,h.length-1))}function nl(o,a,l){for(let c in o)if(o.hasOwnProperty(c)){const h=o[c];(l=null===l?{}:l).hasOwnProperty(c)?l[c].push(a,h):l[c]=[a,h]}return l}function ss(o,a,l,c,h,g,v,C){const D=Mt(a,l);let x,S=a.inputs;!C&&null!=S&&(x=S[c])?(AI(o,l,x,c,h),Rl(a)&&function(o,a){const l=jn(a,o);16&l[2]||(l[2]|=64)}(l,a.index)):3&a.type&&(c=function(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(c),h=null!=v?v(h,a.value||"",c):h,de(g)?g.setProperty(D,c,h):Go(c)||(D.setProperty?D.setProperty(c,h):D[c]=h))}function k_(o,a,l,c){let h=!1;if(lg()){const g=function(o,a,l){const c=o.directiveRegistry;let h=null;if(c)for(let g=0;g<c.length;g++){const v=c[g];b_(l,v.selectors,!1)&&(h||(h=[]),zl(Yi(l,a),o,v.type),be(v)?(em(o,l),h.unshift(v)):h.push(v))}return h}(o,a,l),v=null===c?null:{"":-1};if(null!==g){h=!0,nm(l,o.data.length,g.length);for(let x=0;x<g.length;x++){const k=g[x];k.providersResolver&&k.providersResolver(k)}let C=!1,D=!1,S=fh(o,a,g.length,null);for(let x=0;x<g.length;x++){const k=g[x];l.mergedAttrs=qo(l.mergedAttrs,k.hostAttrs),CI(o,l,a,S,k),tm(S,k,v),null!==k.contentQueries&&(l.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(l.flags|=128);const U=k.type.prototype;!C&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(l.index),C=!0),!D&&(U.ngOnChanges||U.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(l.index),D=!0),S++}!function(o,a){const c=a.directiveEnd,h=o.data,g=a.attrs,v=[];let C=null,D=null;for(let S=a.directiveStart;S<c;S++){const x=h[S],k=x.inputs,U=null===g||aI(a)?null:wI(k,g);v.push(U),C=nl(k,S,C),D=nl(x.outputs,S,D)}null!==C&&(C.hasOwnProperty("class")&&(a.flags|=16),C.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=v,a.inputs=C,a.outputs=D}(o,l)}v&&function(o,a,l){if(a){const c=o.localNames=[];for(let h=0;h<a.length;h+=2){const g=l[a[h+1]];if(null==g)throw new Oe("301",`Export of name '${a[h+1]}' not found!`);c.push(a[h],g)}}}(l,c,v)}return l.mergedAttrs=qo(l.mergedAttrs,l.attrs),h}function F_(o,a,l,c,h,g){const v=g.hostBindings;if(v){let C=o.hostBindingOpCodes;null===C&&(C=o.hostBindingOpCodes=[]);const D=~a.index;(function(o){let a=o.length;for(;a>0;){const l=o[--a];if("number"==typeof l&&l<0)return l}return 0})(C)!=D&&C.push(D),C.push(c,h,v)}}function L_(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function em(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function tm(o,a,l){if(l){if(a.exportAs)for(let c=0;c<a.exportAs.length;c++)l[a.exportAs[c]]=o;be(a)&&(l[""]=o)}}function nm(o,a,l){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+l,o.providerIndexes=a}function CI(o,a,l,c,h){o.data[c]=h;const g=h.factory||(h.factory=Zi(h.type)),v=new Qs(g,be(h),null);o.blueprint[c]=v,l[c]=v,F_(o,a,0,c,fh(o,l,h.hostVars,pt),h)}function II(o,a,l){const c=Mt(a,o),h=Qa(l),g=o[10],v=Ja(o,dh(o,h,null,l.onPush?64:16,c,a,g,g.createRenderer(c,l),null,null));o[a.index]=v}function Ms(o,a,l,c,h,g){const v=Mt(o,a);rm(a[11],v,g,o.value,l,c,h)}function rm(o,a,l,c,h,g,v){if(null==g)de(o)?o.removeAttribute(a,h,l):a.removeAttribute(h);else{const C=null==v?$e(g):v(g,c||"",h);de(o)?o.setAttribute(a,h,C,l):l?a.setAttributeNS(l,h,C):a.setAttribute(h,C)}}function AD(o,a,l,c,h,g){const v=g[a];if(null!==v){const C=c.setInput;for(let D=0;D<v.length;){const S=v[D++],x=v[D++],k=v[D++];null!==C?c.setInput(l,k,S,x):l[x]=k}}}function wI(o,a){let l=null,c=0;for(;c<a.length;){const h=a[c];if(0!==h)if(5!==h){if("number"==typeof h)break;o.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,o[h],a[c+1])),c+=2}else c+=2;else c+=4}return l}function im(o,a,l,c){return new Array(o,!0,!1,a,null,0,c,l,null,null)}function xD(o,a){const l=jn(a,o);if(Iu(l)){const c=l[1];80&l[2]?Ec(c,l,c.template,l[8]):l[5]>0&&sm(l)}}function sm(o){for(let c=Og(o);null!==c;c=Pg(c))for(let h=10;h<c.length;h++){const g=c[h];if(1024&g[2]){const v=g[1];Ec(v,g,v.template,g[8])}else g[5]>0&&sm(g)}const l=o[1].components;if(null!==l)for(let c=0;c<l.length;c++){const h=jn(l[c],o);Iu(h)&&h[5]>0&&sm(h)}}function MD(o,a){const l=jn(a,o),c=l[1];(function(o,a){for(let l=a.length;l<o.blueprint.length;l++)a.push(o.blueprint[l])})(c,l),ph(c,l,l[8])}function Ja(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function Qf(o){for(;o;){o[2]|=64;const a=rh(o);if(ko(o)&&!a)return o;o=a}return null}function am(o){for(let a=0;a<o.components.length;a++){const l=o.components[a],c=lo(l),h=c[1];Bi(h,c,h.template,l)}}function um(o,a,l){const c=a[10];c.begin&&c.begin();try{Ec(o,a,o.template,l)}catch(h){throw SI(a,h),h}finally{c.end&&c.end()}}function DI(o){am(o[8])}function Yf(o,a,l){Hl(0),a(o,l)}const j_=vc;function TI(o){return o[7]||(o[7]=[])}function lm(o){return o.cleanup||(o.cleanup=[])}function Or(o,a,l){return(null===o||be(o))&&(l=function(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(l[a.index])),l[11]}function SI(o,a){const l=o[9],c=l?l.get(He,null):null;c&&c.handleError(a)}function AI(o,a,l,c,h){for(let g=0;g<l.length;){const v=l[g++],C=l[g++],D=a[v],S=o.data[v];null!==S.setInput?S.setInput(D,h,c,C):D[C]=h}}function Xa(o,a,l){const c=Kn(a,o);Er(o[11],c,l)}function cm(o,a,l){let c=l?o.styles:null,h=l?o.classes:null,g=0;if(null!==a)for(let v=0;v<a.length;v++){const C=a[v];"number"==typeof C?g=C:1==g?h=z(h,C):2==g&&(c=z(c,C+": "+a[++v]+";"))}l?o.styles=c:o.stylesWithoutHost=c,l?o.classes=h:o.classesWithoutHost=h}function NI(o){const a=xg(o);um(a[1],a,o)}function RI(o){!function(o,a){if(0===o.flags&&o.clean==vc){let c;o.flags|=1,o.clean=new Promise(h=>c=h),o.scheduler(()=>{if(1&o.flags&&(o.flags&=-2,am(o)),2&o.flags){o.flags&=-3;const h=o.playerHandler;h&&h.flushPlayers()}o.clean=vc,c(null)})}}(Qf(xg(o))[8])}const eu=new Mn("INJECTOR",-1);class dm{get(a,l=Fi){if(l===Fi){const c=new Error(`NullInjectorError: No provider for ${G(a)}!`);throw c.name="NullInjectorError",c}return l}}const wc=new Mn("Set Injector scope."),il={},Jf={};let mh;function hm(){return void 0===mh&&(mh=new dm),mh}function fm(o,a=null,l=null,c){const h=pm(o,a,l,c);return h._resolveInjectorDefTypes(),h}function pm(o,a=null,l=null,c){return new MI(o,l,a||hm(),c)}class MI{constructor(a,l,c,h=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];l&&mi(l,C=>this.processProvider(C,a,l)),mi([a],C=>this.processInjectorType(C,[],g)),this.records.set(eu,yh(void 0,this));const v=this.records.get(wc);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof a?null:G(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,l=Fi,c=ke.Default){this.assertNotDestroyed();const h=es(this),g=En(void 0);try{if(!(c&ke.SkipSelf)){let C=this.records.get(a);if(void 0===C){const D=("function"==typeof(o=a)||"object"==typeof o&&o instanceof Mn)&&Gn(a);C=D&&this.injectableDefInScope(D)?yh(B_(a),il):null,this.records.set(a,C)}if(null!=C)return this.hydrate(a,C)}return(c&ke.Self?hm():this.parent).get(a,l=c&ke.Optional&&l===Fi?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[na]=v[na]||[]).unshift(G(a)),h)throw v;return Fu(v,a,"R3InjectorError",this.source)}throw v}finally{En(g),es(h)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((c,h)=>a.push(G(h))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(a,l,c){if(!(a=re(a)))return!1;let h=Di(a);const g=null==h&&a.ngModule||void 0,v=void 0===g?a:g,C=-1!==c.indexOf(v);if(void 0!==g&&(h=Di(g)),null==h)return!1;if(null!=h.imports&&!C){let x;c.push(v);try{mi(h.imports,k=>{this.processInjectorType(k,l,c)&&(void 0===x&&(x=[]),x.push(k))})}finally{}if(void 0!==x)for(let k=0;k<x.length;k++){const{ngModule:U,providers:q}=x[k];mi(q,X=>this.processProvider(X,U,q||Re))}}this.injectorDefTypes.add(v);const D=Zi(v)||(()=>new v);this.records.set(v,yh(D,il));const S=h.providers;if(null!=S&&!C){const x=a;mi(S,k=>this.processProvider(k,x,S))}return void 0!==g&&void 0!==a.providers}processProvider(a,l,c){let h=sl(a=re(a))?a:re(a&&a.provide);const g=H_(o=a)?yh(void 0,o.useValue):yh(PI(o),il);var o;if(sl(a)||!0!==a.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=yh(void 0,il,!0),v.factory=()=>ws(v.multi),this.records.set(h,v)),h=a,v.multi.push(a)}this.records.set(h,g)}hydrate(a,l){return l.value===il&&(l.value=Jf,l.value=l.factory()),"object"==typeof l.value&&l.value&&null!==(o=l.value)&&"object"==typeof o&&"function"==typeof o.ngOnDestroy&&this.onDestroy.add(l.value),l.value;var o}injectableDefInScope(a){if(!a.providedIn)return!1;const l=re(a.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function B_(o){const a=Gn(o),l=null!==a?a.factory:Zi(o);if(null!==l)return l;if(o instanceof Mn)throw new Error(`Token ${G(o)} is missing a \u0275prov definition.`);if(o instanceof Function)return function(o){const a=o.length;if(a>0){const c=Is(a,"?");throw new Error(`Can't resolve all parameters for ${G(o)}: (${c.join(", ")}).`)}const l=function(o){const a=o&&(o[Nn]||o[Gr]);if(a){const l=function(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),a}return null}(o);return null!==l?()=>l.factory(o):()=>new o}(o);throw new Error("unreachable")}function PI(o,a,l){let c;if(sl(o)){const h=re(o);return Zi(h)||B_(h)}if(H_(o))c=()=>re(o.useValue);else if(function(o){return!(!o||!o.useFactory)}(o))c=()=>o.useFactory(...ws(o.deps||[]));else if(function(o){return!(!o||!o.useExisting)}(o))c=()=>Hn(re(o.useExisting));else{const h=re(o&&(o.useClass||o.provide));if(!function(o){return!!o.deps}(o))return Zi(h)||B_(h);c=()=>new h(...ws(o.deps))}return c}function yh(o,a,l=!1){return{factory:o,value:a,multi:l?[]:void 0}}function H_(o){return null!==o&&"object"==typeof o&&Pu in o}function sl(o){return"function"==typeof o}function FI(o,a,l){return fm({name:l},a,o,l)}const _h=FI;class Yt{static create(a,l){return Array.isArray(a)?_h(a,l,""):_h(a.providers,a.parent,a.name||"")}}function np(o){Q_(o);const a=Br(o);return null===a?null:(void 0===a.component&&(a.component=function(o,a){const l=a[1].data[o];return 2&l.flags?a[l.directiveStart]:null}(a.nodeIndex,a.lView)),a.component)}function rp(o){Q_(o);const a=Br(o);return null===a?null:a.lView[8]}function ym(o){const a=Br(o);if(null===a)return null;let c,l=a.lView;for(;2===l[1].type&&(c=rh(l));)l=c;return 512&l[2]?null:l[8]}function z_(o){return[...aa(o).components]}function Dc(o){const a=Br(o);return null===a?Yt.NULL:new Js(a.lView[1].data[a.nodeIndex],a.lView)}function UI(o){if(o instanceof Text)return[];const a=Br(o);if(null===a)return[];const l=a.lView,c=l[1],h=a.nodeIndex;return(null==c?void 0:c.data[h])?(void 0===a.directives&&(a.directives=cc(h,l,!1)),null===a.directives?[]:[...a.directives]):[]}function jD(o){const{constructor:a}=o;if(!a)throw new Error("Unable to find the instance constructor");const l=rr(a);if(l)return{inputs:l.inputs,outputs:l.outputs,encapsulation:l.encapsulation,changeDetection:l.onPush?gr.OnPush:gr.Default};const c=Gi(a);return c?{inputs:c.inputs,outputs:c.outputs}:null}function _m(o){return Br(o).native}function vm(o){Q_(o);const a=Br(o);if(null===a)return[];const l=a.lView,h=l[7],g=l[1].cleanup,v=[];if(g&&h)for(let C=0;C<g.length;){const D=g[C++],S=g[C++];if("string"==typeof D){const x=D,k=mt(l[S]),U=h[g[C++]],q=g[C++],X="boolean"==typeof q||q>=0?"dom":"output",_e="boolean"==typeof q&&q;o==k&&v.push({element:o,name:x,callback:U,useCapture:_e,type:X})}}return v.sort(BD),v}function BD(o,a){return o.name==a.name?0:o.name<a.name?-1:1}function Z_(o){return void 0!==o.type&&void 0!==o.template&&void 0!==o.declaredInputs}function Q_(o){if("undefined"!=typeof Element&&!(o instanceof Element))throw new Error("Expecting instance of DOM Element")}function Y_(o){RI(o),z_(o).forEach(a=>NI(a))}Yt.THROW_IF_NOT_FOUND=Fi,Yt.NULL=new dm,Yt.\u0275prov=an({token:Yt,providedIn:"any",factory:()=>Hn(eu)}),Yt.__NG_ELEMENT_ID__=-1;let Cm=!1;function vh(){Cm||(Cm=!0,Pr("\u0275setProfiler",wa),Pr("getDirectiveMetadata",jD),Pr("getComponent",np),Pr("getContext",rp),Pr("getListeners",vm),Pr("getOwningComponent",ym),Pr("getHostElement",_m),Pr("getInjector",Dc),Pr("getRootComponents",z_),Pr("getDirectives",UI),Pr("applyChanges",Y_))}function Pr(o,a){if("undefined"==typeof COMPILED||!COMPILED){const l=H;if(l){let c=l.ng;c||(c=l.ng={}),c[o]=a}}}function Eh(o,a={}){const l=a.rendererFactory||ot,c=a.sanitizer||null,h=rr(o);h.type!=o&&(h.type=o);const g=h.selectors[0][0],C=Cc(l.createRenderer(null,null),a.host||g,h.encapsulation),D=h.onPush?576:528,S=$I(a.scheduler,a.playerHandler),x=l.createRenderer(C,h),k=Ya(0,null,null,1,0,null,null,null,null,null),U=dh(null,k,S,D,null,null,l,x,null,a.injector||null);let q;$l(U);try{l.begin&&l.begin(),q=Tc(J_(C,h,U,l,x,c),h,U,S,a.hostFeatures||null),ph(k,U,null),Ec(k,U,null,null)}finally{Ed(),l.end&&l.end()}return q}function J_(o,a,l,c,h,g){const v=l[1];l[20]=o;const D=hh(v,20,2,"#host",null),S=D.mergedAttrs=a.hostAttrs;null!==S&&(cm(D,S,!0),null!==o&&(Wo(h,o,S),null!==D.classes&&Hg(h,o,D.classes),null!==D.styles&&Bg(h,o,D.styles)));const x=c.createRenderer(o,a),k=dh(l,Qa(a),null,a.onPush?64:16,l[20],D,c,x,g||null,null);return v.firstCreatePass&&(zl(Yi(D,l),v,a.type),em(v,D),nm(D,l.length,1)),Ja(l,k),l[20]=k}function Tc(o,a,l,c,h){const g=l[1],v=function(o,a,l){const c=Zn();o.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),CI(o,c,a,fh(o,a,1,null),l));const h=Jo(a,o,c.directiveStart,c);ln(h,a);const g=Mt(c,a);return g&&ln(g,a),h}(g,l,a);if(c.components.push(v),o[8]=v,h&&h.forEach(D=>D(v,a)),a.contentQueries){const D=Zn();a.contentQueries(1,v,D.directiveStart)}const C=Zn();return!g.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(zr(C.index),F_(l[1],C,0,C.directiveStart,C.directiveEnd,a),L_(a,v)),v}function $I(o,a){return{components:[],scheduler:o||co,clean:j_,playerHandler:a||null,flags:0}}function WI(o,a){_s(lo(o)[1],Zn())}function X_(o){return aa(o).clean}function Im(o){return Object.getPrototypeOf(o.prototype).constructor}function sp(o){let a=Im(o.type),l=!0;const c=[o];for(;a;){let h;if(be(o))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Error("Directives cannot inherit Components");h=a.\u0275dir}if(h){if(l){c.push(h);const v=o;v.inputs=tv(o.inputs),v.declaredInputs=tv(o.declaredInputs),v.outputs=tv(o.outputs);const C=h.hostBindings;C&&rv(o,C);const D=h.viewQuery,S=h.contentQueries;if(D&&HD(o,D),S&&nv(o,S),Z(o.inputs,h.inputs),Z(o.declaredInputs,h.declaredInputs),Z(o.outputs,h.outputs),be(h)&&h.data.animation){const x=o.data;x.animation=(x.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const C=g[v];C&&C.ngInherit&&C(o),C===sp&&(l=!1)}}a=Object.getPrototypeOf(a)}!function(o){let a=0,l=null;for(let c=o.length-1;c>=0;c--){const h=o[c];h.hostVars=a+=h.hostVars,h.hostAttrs=qo(h.hostAttrs,l=qo(l,h.hostAttrs))}}(c)}function tv(o){return o===ie?{}:o===Re?[]:o}function HD(o,a){const l=o.viewQuery;o.viewQuery=l?(c,h)=>{a(c,h),l(c,h)}:a}function nv(o,a){const l=o.contentQueries;o.contentQueries=l?(c,h,g)=>{a(c,h,g),l(c,h,g)}:a}function rv(o,a){const l=o.hostBindings;o.hostBindings=l?(c,h)=>{a(c,h),l(c,h)}:a}const $D=["providersResolver"],GI=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function qI(o){let l,a=Im(o.type);l=be(o)?a.\u0275cmp:a.\u0275dir;const c=o;for(const h of $D)c[h]=l[h];if(be(l))for(const h of GI)c[h]=l[h]}let op=null;function Sc(){if(!op){const o=H.Symbol;if(o&&o.iterator)op=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<a.length;++l){const c=a[l];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(op=c)}}}return op}function wm(o,a){const l=ap(o),c=ap(a);if(l&&c)return function(o,a,l){const c=o[Sc()](),h=a[Sc()]();for(;;){const g=c.next(),v=h.next();if(g.done&&v.done)return!0;if(g.done||v.done||!l(g.value,v.value))return!1}}(o,a,wm);{const h=o&&("object"==typeof o||"function"==typeof o),g=a&&("object"==typeof a||"function"==typeof a);return!(l||!h||c||!g)||Object.is(o,a)}}class os{constructor(a){this.wrapped=a}static wrap(a){return new os(a)}static unwrap(a){return os.isWrapped(a)?a.wrapped:a}static isWrapped(a){return a instanceof os}}function ap(o){return!!iv(o)&&(Array.isArray(o)||!(o instanceof Map)&&Sc()in o)}function iv(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Ps(o,a,l){return o[a]=l}function Ac(o,a){return o[a]}function Hr(o,a,l){return!Object.is(o[a],l)&&(o[a]=l,!0)}function Nc(o,a,l,c){const h=Hr(o,a,l);return Hr(o,a+1,c)||h}function Ch(o,a,l,c,h){const g=Nc(o,a,l,c);return Hr(o,a+2,h)||g}function ks(o,a,l,c,h,g){const v=Nc(o,a,l,c);return Nc(o,a+2,h,g)||v}function up(o,a,l,c){const h=Pe();return Hr(h,Dn(),a)&&(Pt(),Ms(Cn(),h,o,a,l,c)),up}function Rc(o,a){let l=!1,c=ii();for(let g=1;g<a.length;g+=2)l=Hr(o,c++,a[g])||l;if(_r(c),!l)return pt;let h=a[0];for(let g=1;g<a.length;g+=2)h+=$e(a[g])+a[g+1];return h}function al(o,a,l,c){return Hr(o,Dn(),l)?a+$e(l)+c:pt}function xc(o,a,l,c,h,g){const C=Nc(o,ii(),l,h);return ki(2),C?a+$e(l)+c+$e(h)+g:pt}function Ih(o,a,l,c,h,g,v,C){const S=Ch(o,ii(),l,h,v);return ki(3),S?a+$e(l)+c+$e(h)+g+$e(v)+C:pt}function ul(o,a,l,c,h,g,v,C,D,S){const k=ks(o,ii(),l,h,v,D);return ki(4),k?a+$e(l)+c+$e(h)+g+$e(v)+C+$e(D)+S:pt}function wh(o,a,l,c,h,g,v,C,D,S,x,k){const U=ii();let q=ks(o,U,l,h,v,D);return q=Hr(o,U+4,x)||q,ki(5),q?a+$e(l)+c+$e(h)+g+$e(v)+C+$e(D)+S+$e(x)+k:pt}function ll(o,a,l,c,h,g,v,C,D,S,x,k,U,q){const X=ii();let _e=ks(o,X,l,h,v,D);return _e=Nc(o,X+4,x,U)||_e,ki(6),_e?a+$e(l)+c+$e(h)+g+$e(v)+C+$e(D)+S+$e(x)+k+$e(U)+q:pt}function bh(o,a,l,c,h,g,v,C,D,S,x,k,U,q,X,_e){const ae=ii();let je=ks(o,ae,l,h,v,D);return je=Ch(o,ae+4,x,U,X)||je,ki(7),je?a+$e(l)+c+$e(h)+g+$e(v)+C+$e(D)+S+$e(x)+k+$e(U)+q+$e(X)+_e:pt}function cl(o,a,l,c,h,g,v,C,D,S,x,k,U,q,X,_e,ae,je){const Ne=ii();let lt=ks(o,Ne,l,h,v,D);return lt=ks(o,Ne+4,x,U,X,ae)||lt,ki(8),lt?a+$e(l)+c+$e(h)+g+$e(v)+C+$e(D)+S+$e(x)+k+$e(U)+q+$e(X)+_e+$e(ae)+je:pt}function sv(o,a,l,c,h,g){const v=Pe(),C=al(v,a,l,c);return C!==pt&&Ms(Cn(),v,o,C,h,g),sv}function lp(o,a,l,c,h,g,v,C){const D=Pe(),S=xc(D,a,l,c,h,g);return S!==pt&&Ms(Cn(),D,o,S,v,C),lp}function cp(o,a,l,c,h,g,v,C,D,S){const x=Pe(),k=Ih(x,a,l,c,h,g,v,C);return k!==pt&&Ms(Cn(),x,o,k,D,S),cp}function dp(o,a,l,c,h,g,v,C,D,S,x,k){const U=Pe(),q=ul(U,a,l,c,h,g,v,C,D,S);return q!==pt&&Ms(Cn(),U,o,q,x,k),dp}function dl(o,a,l,c,h,g,v,C,D,S,x,k,U,q){const X=Pe(),_e=wh(X,a,l,c,h,g,v,C,D,S,x,k);return _e!==pt&&Ms(Cn(),X,o,_e,U,q),dl}function bm(o,a,l,c,h,g,v,C,D,S,x,k,U,q,X,_e){const ae=Pe(),je=ll(ae,a,l,c,h,g,v,C,D,S,x,k,U,q);return je!==pt&&Ms(Cn(),ae,o,je,X,_e),bm}function hp(o,a,l,c,h,g,v,C,D,S,x,k,U,q,X,_e,ae,je){const Ne=Pe(),lt=bh(Ne,a,l,c,h,g,v,C,D,S,x,k,U,q,X,_e);return lt!==pt&&Ms(Cn(),Ne,o,lt,ae,je),hp}function ov(o,a,l,c,h,g,v,C,D,S,x,k,U,q,X,_e,ae,je,Ne,lt){const It=Pe(),zt=cl(It,a,l,c,h,g,v,C,D,S,x,k,U,q,X,_e,ae,je);return zt!==pt&&Ms(Cn(),It,o,zt,Ne,lt),ov}function fp(o,a,l,c){const h=Pe(),g=Rc(h,a);return g!==pt&&Ms(Cn(),h,o,g,l,c),fp}function Dm(o,a,l,c,h,g,v,C){const D=Pe(),S=Pt(),x=o+20,k=S.firstCreatePass?function(o,a,l,c,h,g,v,C,D){const S=a.consts,x=hh(a,o,4,v||null,Oi(S,C));k_(a,l,x,Oi(S,D)),_s(a,x);const k=x.tViews=Ya(2,x,c,h,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,S);return null!==a.queries&&(a.queries.template(a,x),k.queries=a.queries.embeddedTView(x)),x}(x,S,D,a,l,c,h,g,v):S.data[x];Pi(k,!1);const U=D[11].createComment("");Ug(S,D,U,k),ln(U,D),Ja(D,D[x]=im(U,D,U,k)),Po(k)&&Kf(S,D,k),null!=v&&Jg(D,k,C)}function zI(o,a,l,c){l>=o.data.length&&(o.data[l]=null,o.blueprint[l]=null),a[l]=c}function Tm(o){return yr(et.lFrame.contextLView,20+o)}const KI={\u0275\u0275defineInjectable:an,\u0275\u0275defineInjector:$i,\u0275\u0275inject:Hn,\u0275\u0275invalidFactoryDep:so,resolveForwardRef:re},zD=$({provide:String,useValue:$});function Sm(o){return void 0!==o.useClass}function Am(o){return void 0!==o.useFactory}const YD=xu("Injectable",void 0,void 0,void 0,(o,a)=>cv(o,a)),YI=function(o,a){let l=null,c=null;o.hasOwnProperty(Nn)||Object.defineProperty(o,Nn,{get:()=>(null===l&&(l=Jn().compileInjectable(KI,`ng:///${o.name}/\u0275prov.js`,function(o,a){const l=a||{providedIn:null},c={name:o.name,type:o,typeArgumentCount:0,providedIn:l.providedIn};return(Sm(l)||Am(l))&&void 0!==l.deps&&(c.deps=tc(l.deps)),Sm(l)?c.useClass=l.useClass:function(o){return zD in o}(l)?c.useValue=l.useValue:Am(l)?c.useFactory=l.useFactory:function(o){return void 0!==o.useExisting}(l)&&(c.useExisting=l.useExisting),c}(o,a))),l)}),o.hasOwnProperty(bn)||Object.defineProperty(o,bn,{get:()=>{if(null===c){const h=Jn();c=h.compileFactory(KI,`ng:///${o.name}/\u0275fac.js`,{name:o.name,type:o,typeArgumentCount:0,deps:Vu(o),target:h.FactoryTarget.Injectable})}return c},configurable:!0})},cv=YI;function hv(o){return o.length>1?" ("+function(o){const a=[];for(let l=0;l<o.length;++l){if(a.indexOf(o[l])>-1)return a.push(o[l]),a;a.push(o[l])}return a}(o.slice().reverse()).map(c=>G(c.token)).join(" -> ")+")":""}function Nm(o,a,l,c){const h=[a],g=l(h),v=c?function(o,a){const l=`${o} caused by: ${a instanceof Error?a.message:a}`,c=Error(l);return c[I]=a,c}(g,c):Error(g);return v.addKey=XI,v.keys=h,v.injectors=[o],v.constructResolvingMessage=l,v[I]=c,v}function XI(o,a){this.injectors.push(o),this.keys.push(a),this.message=this.constructResolvingMessage(this.keys)}function t0(o,a){const l=[];for(let c=0,h=a.length;c<h;c++){const g=a[c];l.push(g&&0!=g.length?g.map(G).join(" "):"?")}return Error("Cannot resolve all parameters for '"+G(o)+"'("+l.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+G(o)+"' is decorated with Injectable.")}function eT(o,a){return Error(`Cannot mix multi providers and regular providers, got: ${o} ${a}`)}class ru{constructor(a,l){if(this.token=a,this.id=l,!a)throw new Error("Token must be defined!");this.displayName=G(this.token)}static get(a){return xm.get(re(a))}static get numberOfKeys(){return xm.numberOfKeys}}class n0{constructor(){this._allKeys=new Map}get(a){if(a instanceof ru)return a;if(this._allKeys.has(a))return this._allKeys.get(a);const l=new ru(a,ru.numberOfKeys);return this._allKeys.set(a,l),l}get numberOfKeys(){return this._allKeys.size}}const xm=new n0;class r0{constructor(a){this.reflectionCapabilities=a}updateCapabilities(a){this.reflectionCapabilities=a}factory(a){return this.reflectionCapabilities.factory(a)}parameters(a){return this.reflectionCapabilities.parameters(a)}annotations(a){return this.reflectionCapabilities.annotations(a)}propMetadata(a){return this.reflectionCapabilities.propMetadata(a)}hasLifecycleHook(a,l){return this.reflectionCapabilities.hasLifecycleHook(a,l)}getter(a){return this.reflectionCapabilities.getter(a)}setter(a){return this.reflectionCapabilities.setter(a)}method(a){return this.reflectionCapabilities.method(a)}importUri(a){return this.reflectionCapabilities.importUri(a)}resourceUri(a){return this.reflectionCapabilities.resourceUri(a)}resolveIdentifier(a,l,c,h){return this.reflectionCapabilities.resolveIdentifier(a,l,c,h)}resolveEnum(a,l){return this.reflectionCapabilities.resolveEnum(a,l)}}const Mm=new r0(new Pa);class Mc{constructor(a,l,c){this.key=a,this.optional=l,this.visibility=c}static fromKey(a){return new Mc(a,!1,null)}}const pv=[];class pp{constructor(a,l,c){this.key=a,this.resolvedFactories=l,this.multiProvider=c,this.resolvedFactory=this.resolvedFactories[0]}}class Om{constructor(a,l){this.factory=a,this.dependencies=l}}function i0(o){let a,l;if(o.useClass){const c=re(o.useClass);a=Mm.factory(c),l=s0(c)}else o.useExisting?(a=c=>c,l=[Mc.fromKey(ru.get(o.useExisting))]):o.useFactory?(a=o.useFactory,l=function(o,a){if(a){const l=a.map(c=>[c]);return a.map(c=>o0(o,c,l))}return s0(o)}(o.useFactory,o.deps)):(a=()=>o.useValue,l=pv);return new Om(a,l)}function gv(o){return new pp(ru.get(o.provide),[i0(o)],o.multi||!1)}function mv(o){const c=function(o,a){for(let l=0;l<o.length;l++){const c=o[l],h=a.get(c.key.id);if(h){if(c.multiProvider!==h.multiProvider)throw eT(h,c);if(c.multiProvider)for(let g=0;g<c.resolvedFactories.length;g++)h.resolvedFactories.push(c.resolvedFactories[g]);else a.set(c.key.id,c)}else{let g;g=c.multiProvider?new pp(c.key,c.resolvedFactories.slice(),c.multiProvider):c,a.set(c.key.id,g)}}return a}(Oc(o,[]).map(gv),new Map);return Array.from(c.values())}function Oc(o,a){return o.forEach(l=>{if(l instanceof Ql)a.push({provide:l,useClass:l});else if(l&&"object"==typeof l&&void 0!==l.provide)a.push(l);else{if(!Array.isArray(l))throw function(o){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${o}`)}(l);Oc(l,a)}}),a}function s0(o){const a=Mm.parameters(o);if(!a)return[];if(a.some(l=>null==l))throw t0(o,a);return a.map(l=>o0(o,l,a))}function o0(o,a,l){let c=null,h=!1;if(!Array.isArray(a))return vv(a instanceof La?a.token:a,h,null);let g=null;for(let v=0;v<a.length;++v){const C=a[v];C instanceof Ql?c=C:C instanceof La?c=C.token:C instanceof ai?h=!0:C instanceof Va||C instanceof bs?g=C:C instanceof Mn&&(c=C)}if(c=re(c),null!=c)return vv(c,h,g);throw t0(o,l)}function vv(o,a,l){return new Mc(ru.get(o),a,l)}const Dh={};class Th{static resolve(a){return mv(a)}static resolveAndCreate(a,l){const c=Th.resolve(a);return Th.fromResolvedProviders(c,l)}static fromResolvedProviders(a,l){return new Ev(a,l)}}let Ev=(()=>{class o{constructor(l,c){this._constructionCounter=0,this._providers=l,this.parent=c||null;const h=l.length;this.keyIds=[],this.objs=[];for(let g=0;g<h;g++)this.keyIds[g]=l[g].key.id,this.objs[g]=Dh}get(l,c=Fi){return this._getByKey(ru.get(l),null,c)}resolveAndCreateChild(l){const c=Th.resolve(l);return this.createChildFromResolved(c)}createChildFromResolved(l){const c=new o(l);return c.parent=this,c}resolveAndInstantiate(l){return this.instantiateResolved(Th.resolve([l])[0])}instantiateResolved(l){return this._instantiateProvider(l)}getProviderAtIndex(l){if(l<0||l>=this._providers.length)throw function(o){return Error(`Index ${o} is out-of-bounds.`)}(l);return this._providers[l]}_new(l){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw function(o,a){return Nm(o,a,function(l){return`Cannot instantiate cyclic dependency!${hv(l)}`})}(this,l.key);return this._instantiateProvider(l)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(l){if(l.multiProvider){const c=[];for(let h=0;h<l.resolvedFactories.length;++h)c[h]=this._instantiate(l,l.resolvedFactories[h]);return c}return this._instantiate(l,l.resolvedFactories[0])}_instantiate(l,c){const h=c.factory;let g,v;try{g=c.dependencies.map(C=>this._getByReflectiveDependency(C))}catch(C){throw C.addKey&&C.addKey(this,l.key),C}try{v=h(...g)}catch(C){throw function(o,a,l,c){return Nm(o,c,function(h){const g=G(h[0].token);return`${a.message}: Error during instantiation of ${g}!${hv(h)}.`},a)}(this,C,0,l.key)}return v}_getByReflectiveDependency(l){return this._getByKey(l.key,l.visibility,l.optional?null:Fi)}_getByKey(l,c,h){return l===o.INJECTOR_KEY?this:c instanceof Va?this._getByKeySelf(l,h):this._getByKeyDefault(l,h,c)}_getObjByKeyId(l){for(let c=0;c<this.keyIds.length;c++)if(this.keyIds[c]===l)return this.objs[c]===Dh&&(this.objs[c]=this._new(this._providers[c])),this.objs[c];return Dh}_throwOrNull(l,c){if(c!==Fi)return c;throw function(o,a){return Nm(o,a,function(l){return`No provider for ${G(l[0].token)}!${hv(l)}`})}(this,l)}_getByKeySelf(l,c){const h=this._getObjByKeyId(l.id);return h!==Dh?h:this._throwOrNull(l,c)}_getByKeyDefault(l,c,h){let g;for(g=h instanceof bs?this.parent:this;g instanceof o;){const v=g,C=v._getObjByKeyId(l.id);if(C!==Dh)return C;g=v.parent}return null!==g?g.get(l.token,c):this._throwOrNull(l,c)}get displayName(){return`ReflectiveInjector(providers: [${function(o,a){const l=[];for(let c=0;c<o._providers.length;++c)l[c]=a(o.getProviderAtIndex(c));return l}(this,c=>' "'+c.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}return o.INJECTOR_KEY=ru.get(Yt),o})();function gp(o,a=ke.Default){const l=Pe();return null===l?Hn(o,a):vf(Zn(),l,re(o),a)}function a0(){throw new Error("invalid")}function Cv(o,a,l){const c=Pe();return Hr(c,Dn(),a)&&ss(Pt(),Cn(),c,o,a,c[11],l,!1),Cv}function Iv(o,a,l,c,h){const v=h?"class":"style";AI(o,l,a.inputs[v],v,c)}function Pm(o,a,l,c){const h=Pe(),g=Pt(),v=20+o,C=h[11],D=h[v]=Fg(C,a,et.lFrame.currentNamespace),S=g.firstCreatePass?function(o,a,l,c,h,g,v){const C=a.consts,S=hh(a,o,2,h,Oi(C,g));return k_(a,l,S,Oi(C,v)),null!==S.attrs&&cm(S,S.attrs,!1),null!==S.mergedAttrs&&cm(S,S.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,S),S}(v,g,h,0,a,l,c):g.data[v];Pi(S,!0);const x=S.mergedAttrs;null!==x&&Wo(C,D,x);const k=S.classes;null!==k&&Hg(C,D,k);const U=S.styles;null!==U&&Bg(C,D,U),64!=(64&S.flags)&&Ug(g,h,D,S),0===et.lFrame.elementDepthCount&&ln(D,h),et.lFrame.elementDepthCount++,Po(S)&&(Kf(g,h,S),zf(g,S,h)),null!==c&&Jg(h,S)}function mp(){let o=Zn();fd()?bu():(o=o.parent,Pi(o,!1));const a=o;et.lFrame.elementDepthCount--;const l=Pt();l.firstCreatePass&&(_s(l,o),ri(o)&&l.queries.elementEnd(o)),null!=a.classesWithoutHost&&function(o){return 0!=(16&o.flags)}(a)&&Iv(l,a,Pe(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function(o){return 0!=(32&o.flags)}(a)&&Iv(l,a,Pe(),a.stylesWithoutHost,!1)}function wv(o,a,l,c){Pm(o,a,l,c),mp()}function Ah(o,a,l){const c=Pe(),h=Pt(),g=o+20,v=h.firstCreatePass?function(o,a,l,c,h){const g=a.consts,v=Oi(g,c),C=hh(a,o,8,"ng-container",v);return null!==v&&cm(C,v,!0),k_(a,l,C,Oi(g,h)),null!==a.queries&&a.queries.elementStart(a,C),C}(g,h,c,a,l):h.data[g];Pi(v,!0);const C=c[g]=c[11].createComment("");Ug(h,c,C,v),ln(C,c),Po(v)&&(Kf(h,c,v),zf(h,v,c)),null!=l&&Jg(c,v)}function qt(){let o=Zn();const a=Pt();fd()?bu():(o=o.parent,Pi(o,!1)),a.firstCreatePass&&(_s(a,o),ri(o)&&a.queries.elementEnd(o))}function bv(o,a,l){Ah(o,a,l),qt()}function Dv(){return Pe()}function Pc(o){return!!o&&"function"==typeof o.then}function l0(o){return!!o&&"function"==typeof o.subscribe}const wn=l0;function $r(o,a,l,c){const h=Pe(),g=Pt(),v=Zn();return d0(g,h,h[11],v,o,a,!!l,c),$r}function Fs(o,a){const l=Zn(),c=Pe(),h=Pt();return d0(h,c,Or(md(h.data),l,c),l,o,a,!1),Fs}function d0(o,a,l,c,h,g,v,C){const D=Po(c),x=o.firstCreatePass&&lm(o),k=a[8],U=TI(a);let q=!0;if(3&c.type||C){const ae=Mt(c,a),je=C?C(ae):ae,Ne=U.length,lt=C?It=>C(mt(It[c.index])):c.index;if(de(l)){let It=null;if(!C&&D&&(It=function(o,a,l,c){const h=o.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===l&&h[g+1]===c){const C=a[7],D=h[g+2];return C.length>D?C[D]:null}"string"==typeof v&&(g+=2)}return null}(o,a,h,c.index)),null!==It)(It.__ngLastListenerFn__||It).__ngNextListenerFn__=g,It.__ngLastListenerFn__=g,q=!1;else{g=km(c,a,k,g,!1);const zt=l.listen(je,h,g);U.push(g,zt),x&&x.push(h,lt,Ne,Ne+1)}}else g=km(c,a,k,g,!0),je.addEventListener(h,g,v),U.push(g),x&&x.push(h,lt,Ne,v)}else g=km(c,a,k,g,!1);const X=c.outputs;let _e;if(q&&null!==X&&(_e=X[h])){const ae=_e.length;if(ae)for(let je=0;je<ae;je+=2){const Jr=a[_e[je]][_e[je+1]].subscribe(g),va=U.length;U.push(g,Jr),x&&x.push(h,c.index,va,-(va+1))}}}function yp(o,a,l,c){try{return rn(6,a,l),!1!==l(c)}catch(h){return SI(o,h),!1}finally{rn(7,a,l)}}function km(o,a,l,c,h){return function g(v){if(v===Function)return c;const C=2&o.flags?jn(o.index,a):a;0==(32&a[2])&&Qf(C);let D=yp(a,l,c,v),S=g.__ngNextListenerFn__;for(;S;)D=yp(a,l,S,v)&&D,S=S.__ngNextListenerFn__;return h&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function Tv(o=1){return t_(o)}function rT(o,a){let l=null;const c=function(o){const a=o.attrs;if(null!=a){const l=a.indexOf(5);if(0==(1&l))return a[l+1]}return null}(o);for(let h=0;h<a.length;h++){const g=a[h];if("*"!==g){if(null===c?b_(o,g,!0):cI(c,g))return h}else l=h}return l}function Fm(o){const a=Pe()[16][6];if(!a.projection){const c=a.projection=Is(o?o.length:1,null),h=c.slice();let g=a.child;for(;null!==g;){const v=o?rT(g,o):0;null!==v&&(h[v]?h[v].projectionNext=g:c[v]=g,h[v]=g),g=g.next}}}function h0(o,a=0,l){const c=Pe(),h=Pt(),g=hh(h,20+o,16,null,l||null);null===g.projection&&(g.projection=a),bu(),64!=(64&g.flags)&&function(o,a,l){I_(a[11],0,a,l,nI(o,l,a),m_(l.parent||a[6],l,a))}(h,c,g)}function Sv(o,a,l){return Pn(o,"",a,"",l),Sv}function Pn(o,a,l,c,h){const g=Pe(),v=al(g,a,l,c);return v!==pt&&ss(Pt(),Cn(),g,o,v,g[11],h,!1),Pn}function f0(o,a,l,c,h,g,v){const C=Pe(),D=xc(C,a,l,c,h,g);return D!==pt&&ss(Pt(),Cn(),C,o,D,C[11],v,!1),f0}function p0(o,a,l,c,h,g,v,C,D){const S=Pe(),x=Ih(S,a,l,c,h,g,v,C);return x!==pt&&ss(Pt(),Cn(),S,o,x,S[11],D,!1),p0}function Ir(o,a,l,c,h,g,v,C,D,S,x){const k=Pe(),U=ul(k,a,l,c,h,g,v,C,D,S);return U!==pt&&ss(Pt(),Cn(),k,o,U,k[11],x,!1),Ir}function Lm(o,a,l,c,h,g,v,C,D,S,x,k,U){const q=Pe(),X=wh(q,a,l,c,h,g,v,C,D,S,x,k);return X!==pt&&ss(Pt(),Cn(),q,o,X,q[11],U,!1),Lm}function Av(o,a,l,c,h,g,v,C,D,S,x,k,U,q,X){const _e=Pe(),ae=ll(_e,a,l,c,h,g,v,C,D,S,x,k,U,q);return ae!==pt&&ss(Pt(),Cn(),_e,o,ae,_e[11],X,!1),Av}function Nv(o,a,l,c,h,g,v,C,D,S,x,k,U,q,X,_e,ae){const je=Pe(),Ne=bh(je,a,l,c,h,g,v,C,D,S,x,k,U,q,X,_e);return Ne!==pt&&ss(Pt(),Cn(),je,o,Ne,je[11],ae,!1),Nv}function Vm(o,a,l,c,h,g,v,C,D,S,x,k,U,q,X,_e,ae,je,Ne){const lt=Pe(),It=cl(lt,a,l,c,h,g,v,C,D,S,x,k,U,q,X,_e,ae,je);return It!==pt&&ss(Pt(),Cn(),lt,o,It,lt[11],Ne,!1),Vm}function Rv(o,a,l){const c=Pe(),h=Rc(c,a);return h!==pt&&ss(Pt(),Cn(),c,o,h,c[11],l,!1),Rv}function oT(o,a,l,c,h){const g=o[l+1],v=null===a;let C=c?fo(g):la(g),D=!1;for(;0!==C&&(!1===D||v);){const x=o[C+1];aT(o[C],a)&&(D=!0,o[C+1]=c?Ei(x):S_(x)),C=c?fo(x):la(x)}D&&(o[l+1]=c?S_(g):Ei(g))}function aT(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&to(o,a)>=0}const kr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xv(o){return o.substring(kr.key,kr.keyEnd)}function iu(o){return o.substring(kr.value,kr.valueEnd)}function mo(o,a){const l=kr.textEnd;return l===a?-1:(a=kr.keyEnd=function(o,a,l){for(;a<l&&o.charCodeAt(a)>32;)a++;return a}(o,kr.key=a,l),Nh(o,a,l))}function _p(o,a){const l=kr.textEnd;let c=kr.key=Nh(o,a,l);return l===c?-1:(c=kr.keyEnd=function(o,a,l){let c;for(;a<l&&(45===(c=o.charCodeAt(a))||95===c||(-33&c)>=65&&(-33&c)<=90||c>=48&&c<=57);)a++;return a}(o,c,l),c=vp(o,c,l),c=kr.value=Nh(o,c,l),c=kr.valueEnd=function(o,a,l){let c=-1,h=-1,g=-1,v=a,C=v;for(;v<l;){const D=o.charCodeAt(v++);if(59===D)return C;34===D||39===D?C=v=hl(o,D,v,l):a===v-4&&85===g&&82===h&&76===c&&40===D?C=v=hl(o,41,v,l):D>32&&(C=v),g=h,h=c,c=-33&D}return C}(o,c,l),vp(o,c,l))}function g0(o){kr.key=0,kr.keyEnd=0,kr.value=0,kr.valueEnd=0,kr.textEnd=o.length}function Nh(o,a,l){for(;a<l&&o.charCodeAt(a)<=32;)a++;return a}function vp(o,a,l,c){return(a=Nh(o,a,l))<l&&a++,a}function hl(o,a,l,c){let h=-1,g=l;for(;g<c;){const v=o.charCodeAt(g++);if(v==a&&92!==h)return g;h=92==v&&92===h?0:v}throw new Error}function Fc(o,a,l){return us(o,a,l,!1),Fc}function Um(o,a){return us(o,a,null,!0),Um}function as(o){ls(Lv,lT,o,!1)}function lT(o,a){for(let l=function(o){return g0(o),_p(o,Nh(o,0,kr.textEnd))}(a);l>=0;l=_p(a,l))Lv(o,xv(a),iu(a))}function _0(o){ls(jr,da,o,!0)}function da(o,a){for(let l=function(o){return g0(o),mo(o,Nh(o,0,kr.textEnd))}(a);l>=0;l=mo(a,l))jr(o,xv(a),!0)}function us(o,a,l,c){const h=Pe(),g=Pt(),v=ki(2);g.firstUpdatePass&&fl(g,o,v,c),a!==pt&&Hr(h,v,a)&&C0(g,g.data[Dr()],h,h[11],o,h[v+1]=function(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=G(yt(o)))),o}(a,l),c,v)}function ls(o,a,l,c){const h=Pt(),g=ki(2);h.firstUpdatePass&&fl(h,null,g,c);const v=Pe();if(l!==pt&&Hr(v,g,l)){const C=h.data[Dr()];if(Rh(C,c)&&!Ov(h,g)){let D=c?C.classesWithoutHost:C.stylesWithoutHost;null!==D&&(l=z(D,l||"")),Iv(h,C,v,l,c)}else!function(o,a,l,c,h,g,v,C){h===pt&&(h=Re);let D=0,S=0,x=0<h.length?h[0]:null,k=0<g.length?g[0]:null;for(;null!==x||null!==k;){const U=D<h.length?h[D+1]:void 0,q=S<g.length?g[S+1]:void 0;let _e,X=null;x===k?(D+=2,S+=2,U!==q&&(X=k,_e=q)):null===k||null!==x&&x<k?(D+=2,X=x):(S+=2,X=k,_e=q),null!==X&&C0(o,a,l,c,X,_e,v,C),x=D<h.length?h[D]:null,k=S<g.length?g[S]:null}}(h,C,v,v[11],v[g+1],v[g+1]=function(o,a,l){if(null==l||""===l)return Re;const c=[],h=yt(l);if(Array.isArray(h))for(let g=0;g<h.length;g++)o(c,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&o(c,g,h[g]);else"string"==typeof h&&a(c,h);return c}(o,a,l),c,g)}}function Ov(o,a){return a>=o.expandoStartIndex}function fl(o,a,l,c){const h=o.data;if(null===h[l+1]){const g=h[Dr()],v=Ov(o,l);Rh(g,c)&&null===a&&!v&&(a=!1),a=function(o,a,l,c){const h=md(o);let g=c?a.residualClasses:a.residualStyles;if(null===h)0===(c?a.classBindings:a.styleBindings)&&(l=Lc(l=Fv(null,o,a,l,c),a.attrs,c),g=null);else{const v=a.directiveStylingLast;if(-1===v||o[v]!==h)if(l=Fv(h,o,a,l,c),null===g){let D=function(o,a,l){const c=l?a.classBindings:a.styleBindings;if(0!==la(c))return o[fo(c)]}(o,a,c);void 0!==D&&Array.isArray(D)&&(D=Fv(null,o,a,D[1],c),D=Lc(D,a.attrs,c),function(o,a,l,c){o[fo(l?a.classBindings:a.styleBindings)]=c}(o,a,c,D))}else g=function(o,a,l){let c;const h=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<h;g++)c=Lc(c,o[g].hostAttrs,l);return Lc(c,a.attrs,l)}(o,a,c)}return void 0!==g&&(c?a.residualClasses=g:a.residualStyles=g),l}(h,g,a,c),function(o,a,l,c,h,g){let v=g?a.classBindings:a.styleBindings,C=fo(v),D=la(v);o[c]=l;let x,S=!1;if(Array.isArray(l)){const k=l;x=k[1],(null===x||to(k,x)>0)&&(S=!0)}else x=l;if(h)if(0!==D){const U=fo(o[C+1]);o[c+1]=Wg(U,C),0!==U&&(o[U+1]=go(o[U+1],c)),o[C+1]=function(o,a){return 131071&o|a<<17}(o[C+1],c)}else o[c+1]=Wg(C,0),0!==C&&(o[C+1]=go(o[C+1],c)),C=c;else o[c+1]=Wg(D,0),0===C?C=c:o[D+1]=go(o[D+1],c),D=c;S&&(o[c+1]=S_(o[c+1])),oT(o,x,c,!0),oT(o,x,c,!1),function(o,a,l,c,h){const g=h?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof a&&to(g,a)>=0&&(l[c+1]=Ei(l[c+1]))}(a,x,o,c,g),v=Wg(C,D),g?a.classBindings=v:a.styleBindings=v}(h,g,a,l,v,c)}}function Fv(o,a,l,c,h){let g=null;const v=l.directiveEnd;let C=l.directiveStylingLast;for(-1===C?C=l.directiveStart:C++;C<v&&(g=a[C],c=Lc(c,g.hostAttrs,h),g!==o);)C++;return null!==o&&(l.directiveStylingLast=C),c}function Lc(o,a,l){const c=l?1:2;let h=-1;if(null!==a)for(let g=0;g<a.length;g++){const v=a[g];"number"==typeof v?h=v:h===c&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),jr(o,v,!!l||a[++g]))}return void 0===o?null:o}function Lv(o,a,l){jr(o,a,yt(l))}function C0(o,a,l,c,h,g,v,C){if(!(3&a.type))return;const D=o.data,S=D[C+1];ha(function(o){return 1==(1&o)}(S)?Cp(D,a,l,h,la(S),v):void 0)||(ha(g)||function(o){return 2==(2&o)}(S)&&(g=Cp(D,null,l,h,C,v)),function(o,a,l,c,h){const g=de(o);if(a)h?g?o.addClass(l,c):l.classList.add(c):g?o.removeClass(l,c):l.classList.remove(c);else{let v=-1===c.indexOf("-")?void 0:rs.DashCase;if(null==h)g?o.removeStyle(l,c,v):l.style.removeProperty(c);else{const C="string"==typeof h&&h.endsWith("!important");C&&(h=h.slice(0,-10),v|=rs.Important),g?o.setStyle(l,c,h,v):l.style.setProperty(c,h,C?"important":"")}}}(c,v,Kn(Dr(),l),h,g))}function Cp(o,a,l,c,h,g){const v=null===a;let C;for(;h>0;){const D=o[h],S=Array.isArray(D),x=S?D[1]:D,k=null===x;let U=l[h+1];U===pt&&(U=k?Re:void 0);let q=k?Ud(U,c):x===c?U:void 0;if(S&&!ha(q)&&(q=Ud(D,c)),ha(q)&&(C=q,v))return C;const X=o[h+1];h=v?fo(X):la(X)}if(null!==a){let D=g?a.residualClasses:a.residualStyles;null!=D&&(C=Ud(D,c))}return C}function ha(o){return void 0!==o}function Rh(o,a){return 0!=(o.flags&(a?16:32))}function ou(o,a=""){const l=Pe(),c=Pt(),h=o+20,g=c.firstCreatePass?hh(c,h,1,a,null):c.data[h],v=l[h]=g_(l[11],a);Ug(c,l,v,g),Pi(g,!1)}function Vv(o){return Ip("",o,""),Vv}function Ip(o,a,l){const c=Pe(),h=al(c,o,a,l);return h!==pt&&Xa(c,Dr(),h),Ip}function Bm(o,a,l,c,h){const g=Pe(),v=xc(g,o,a,l,c,h);return v!==pt&&Xa(g,Dr(),v),Bm}function Vc(o,a,l,c,h,g,v){const C=Pe(),D=Ih(C,o,a,l,c,h,g,v);return D!==pt&&Xa(C,Dr(),D),Vc}function fa(o,a,l,c,h,g,v,C,D){const S=Pe(),x=ul(S,o,a,l,c,h,g,v,C,D);return x!==pt&&Xa(S,Dr(),x),fa}function Uv(o,a,l,c,h,g,v,C,D,S,x){const k=Pe(),U=wh(k,o,a,l,c,h,g,v,C,D,S,x);return U!==pt&&Xa(k,Dr(),U),Uv}function jv(o,a,l,c,h,g,v,C,D,S,x,k,U){const q=Pe(),X=ll(q,o,a,l,c,h,g,v,C,D,S,x,k,U);return X!==pt&&Xa(q,Dr(),X),jv}function Bv(o,a,l,c,h,g,v,C,D,S,x,k,U,q,X){const _e=Pe(),ae=bh(_e,o,a,l,c,h,g,v,C,D,S,x,k,U,q,X);return ae!==pt&&Xa(_e,Dr(),ae),Bv}function Hv(o,a,l,c,h,g,v,C,D,S,x,k,U,q,X,_e,ae){const je=Pe(),Ne=cl(je,o,a,l,c,h,g,v,C,D,S,x,k,U,q,X,_e,ae);return Ne!==pt&&Xa(je,Dr(),Ne),Hv}function Hm(o){const a=Pe(),l=Rc(a,o);return l!==pt&&Xa(a,Dr(),l),Hm}function I0(o,a,l){ls(jr,da,al(Pe(),o,a,l),!0)}function w0(o,a,l,c,h){ls(jr,da,xc(Pe(),o,a,l,c,h),!0)}function $v(o,a,l,c,h,g,v){ls(jr,da,Ih(Pe(),o,a,l,c,h,g,v),!0)}function b0(o,a,l,c,h,g,v,C,D){ls(jr,da,ul(Pe(),o,a,l,c,h,g,v,C,D),!0)}function D0(o,a,l,c,h,g,v,C,D,S,x){ls(jr,da,wh(Pe(),o,a,l,c,h,g,v,C,D,S,x),!0)}function Wv(o,a,l,c,h,g,v,C,D,S,x,k,U){ls(jr,da,ll(Pe(),o,a,l,c,h,g,v,C,D,S,x,k,U),!0)}function T0(o,a,l,c,h,g,v,C,D,S,x,k,U,q,X){ls(jr,da,bh(Pe(),o,a,l,c,h,g,v,C,D,S,x,k,U,q,X),!0)}function S0(o,a,l,c,h,g,v,C,D,S,x,k,U,q,X,_e,ae){ls(jr,da,cl(Pe(),o,a,l,c,h,g,v,C,D,S,x,k,U,q,X,_e,ae),!0)}function Gv(o){ls(jr,da,Rc(Pe(),o),!0)}function qv(o,a,l){as(al(Pe(),o,a,l))}function zv(o,a,l,c,h){as(xc(Pe(),o,a,l,c,h))}function Kv(o,a,l,c,h,g,v){as(Ih(Pe(),o,a,l,c,h,g,v))}function $m(o,a,l,c,h,g,v,C,D){as(ul(Pe(),o,a,l,c,h,g,v,C,D))}function wp(o,a,l,c,h,g,v,C,D,S,x){as(wh(Pe(),o,a,l,c,h,g,v,C,D,S,x))}function A0(o,a,l,c,h,g,v,C,D,S,x,k,U){as(ll(Pe(),o,a,l,c,h,g,v,C,D,S,x,k,U))}function Zv(o,a,l,c,h,g,v,C,D,S,x,k,U,q,X){as(bh(Pe(),o,a,l,c,h,g,v,C,D,S,x,k,U,q,X))}function au(o,a,l,c,h,g,v,C,D,S,x,k,U,q,X,_e,ae){as(cl(Pe(),o,a,l,c,h,g,v,C,D,S,x,k,U,q,X,_e,ae))}function N0(o){as(Rc(Pe(),o))}function uu(o,a,l,c,h){return us(o,al(Pe(),a,l,c),h,!1),uu}function Qv(o,a,l,c,h,g,v){return us(o,xc(Pe(),a,l,c,h,g),v,!1),Qv}function Yv(o,a,l,c,h,g,v,C,D){return us(o,Ih(Pe(),a,l,c,h,g,v,C),D,!1),Yv}function Jv(o,a,l,c,h,g,v,C,D,S,x){return us(o,ul(Pe(),a,l,c,h,g,v,C,D,S),x,!1),Jv}function Xv(o,a,l,c,h,g,v,C,D,S,x,k,U){return us(o,wh(Pe(),a,l,c,h,g,v,C,D,S,x,k),U,!1),Xv}function eE(o,a,l,c,h,g,v,C,D,S,x,k,U,q,X){return us(o,ll(Pe(),a,l,c,h,g,v,C,D,S,x,k,U,q),X,!1),eE}function Wm(o,a,l,c,h,g,v,C,D,S,x,k,U,q,X,_e,ae){return us(o,bh(Pe(),a,l,c,h,g,v,C,D,S,x,k,U,q,X,_e),ae,!1),Wm}function Gm(o,a,l,c,h,g,v,C,D,S,x,k,U,q,X,_e,ae,je,Ne){return us(o,cl(Pe(),a,l,c,h,g,v,C,D,S,x,k,U,q,X,_e,ae,je),Ne,!1),Gm}function tE(o,a,l){return us(o,Rc(Pe(),a),l,!1),tE}function nE(o,a,l){const c=Pe();return Hr(c,Dn(),a)&&ss(Pt(),Cn(),c,o,a,c[11],l,!0),nE}function qm(o,a,l){const c=Pe();if(Hr(c,Dn(),a)){const g=Pt(),v=Cn();ss(g,v,c,o,a,Or(md(g.data),v,c),l,!0)}return qm}const Uc=void 0;var rE=["en",[["a","p"],["AM","PM"],Uc],[["AM","PM"],Uc,Uc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Uc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Uc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Uc,"{1} 'at' {0}",Uc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(o){const a=Math.floor(Math.abs(o)),l=o.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Mh={};function cT(o,a,l){"string"!=typeof a&&(l=a,a=o[gt.LocaleId]),a=a.toLowerCase().replace(/_/g,"-"),Mh[a]=o,l&&(Mh[a][gt.ExtraData]=l)}function iE(o){const a=function(o){return o.toLowerCase().replace(/_/g,"-")}(o);let l=x0(a);if(l)return l;const c=a.split("-")[0];if(l=x0(c),l)return l;if("en"===c)return rE;throw new Error(`Missing locale data for the locale "${o}".`)}function dT(o){return iE(o)[gt.CurrencyCode]||null}function R0(o){return iE(o)[gt.PluralCase]}function x0(o){return o in Mh||(Mh[o]=H.ng&&H.ng.common&&H.ng.common.locales&&H.ng.common.locales[o]),Mh[o]}function hT(){Mh={}}var gt=(()=>((gt=gt||{})[gt.LocaleId=0]="LocaleId",gt[gt.DayPeriodsFormat=1]="DayPeriodsFormat",gt[gt.DayPeriodsStandalone=2]="DayPeriodsStandalone",gt[gt.DaysFormat=3]="DaysFormat",gt[gt.DaysStandalone=4]="DaysStandalone",gt[gt.MonthsFormat=5]="MonthsFormat",gt[gt.MonthsStandalone=6]="MonthsStandalone",gt[gt.Eras=7]="Eras",gt[gt.FirstDayOfWeek=8]="FirstDayOfWeek",gt[gt.WeekendRange=9]="WeekendRange",gt[gt.DateFormat=10]="DateFormat",gt[gt.TimeFormat=11]="TimeFormat",gt[gt.DateTimeFormat=12]="DateTimeFormat",gt[gt.NumberSymbols=13]="NumberSymbols",gt[gt.NumberFormats=14]="NumberFormats",gt[gt.CurrencyCode=15]="CurrencyCode",gt[gt.CurrencySymbol=16]="CurrencySymbol",gt[gt.CurrencyName=17]="CurrencyName",gt[gt.Currencies=18]="Currencies",gt[gt.Directionality=19]="Directionality",gt[gt.PluralCase=20]="PluralCase",gt[gt.ExtraData=21]="ExtraData",gt))();const pT=["zero","one","two","few","many"],jc="en-US",sE="USD",bp={marker:"element"},pl={marker:"ICU"};var Wn=(()=>((Wn=Wn||{})[Wn.SHIFT=2]="SHIFT",Wn[Wn.APPEND_EAGERLY=1]="APPEND_EAGERLY",Wn[Wn.COMMENT=2]="COMMENT",Wn))();let M0=jc;function Dp(o){(function(o,a){null==o&&Rt(a,o,null,"!=")})(o,"Expected localeId to be defined"),"string"==typeof o&&(M0=o.toLowerCase().replace(/_/g,"-"))}function O0(o,a,l){const c=a.insertBeforeIndex,h=Array.isArray(c)?c[0]:c;return null===h?y_(o,0,l):mt(l[h])}function oE(o,a,l,c,h){const g=a.insertBeforeIndex;if(Array.isArray(g)){let v=c,C=null;if(3&a.type||(C=v,v=h),null!==v&&0==(2&a.flags))for(let D=1;D<g.length;D++)hc(o,v,l[g[D]],C,!1)}}function aE(o,a){if(o.push(a),o.length>1)for(let l=o.length-2;l>=0;l--){const c=o[l];gl(c)||Ls(c,a)&&null===Ii(c)&&P0(c,a.index)}}function gl(o){return!(64&o.type)}function Ls(o,a){return gl(a)||o.index>a.index}function Ii(o){const a=o.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function P0(o,a){const l=o.insertBeforeIndex;Array.isArray(l)?l[0]=a:(__(O0,oE),o.insertBeforeIndex=a)}function Oh(o,a){const l=o.data[a];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function wi(o,a,l){const c=qf(o,l,64,null,null);return aE(a,c),c}function Km(o,a){const l=a[o.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function Zm(o){return o>>>17}function Bc(o){return(131070&o)>>>1}let yo=0,Ap=0;function k0(o,a,l,c){const h=l[11];let v,g=null;for(let C=0;C<a.length;C++){const D=a[C];if("string"==typeof D){const S=a[++C];null===l[S]&&(l[S]=g_(h,D))}else if("number"==typeof D)switch(1&D){case 0:const S=Zm(D);let x,k;if(null===g&&(g=S,v=fc(h,c)),S===g?(x=c,k=v):(x=null,k=mt(l[S])),null!==k){const _e=Bc(D);hc(h,k,l[_e],x,!1);const je=Oh(o,_e);if(null!==je&&"object"==typeof je){const Ne=Km(je,l);null!==Ne&&k0(o,je.create[Ne],l,l[je.anchorIdx])}}break;case 1:const q=a[++C],X=a[++C];rm(h,Kn(D>>>1,l),null,null,q,X,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${D}"`)}else switch(D){case pl:const S=a[++C],x=a[++C];null===l[x]&&ln(l[x]=Qt(h,S),l);break;case bp:const k=a[++C],U=a[++C];null===l[U]&&ln(l[U]=Fg(h,k,null),l)}}}function Ph(o,a,l,c,h){for(let g=0;g<l.length;g++){const v=l[g],C=l[++g];if(v&h){let D="";for(let S=g+1;S<=g+C;S++){const x=l[S];if("string"==typeof x)D+=x;else if("number"==typeof x)if(x<0)D+=$e(a[c-x]);else{const k=x>>>2;switch(3&x){case 1:const U=l[++S],q=l[++S],X=o.data[k];"string"==typeof X?rm(a[11],a[k],null,X,U,D,q):ss(o,X,a,U,D,a[11],q,!1);break;case 0:const _e=a[k];null!==_e&&Er(a[11],_e,D);break;case 2:li(o,Oh(o,k),a,D);break;case 3:Hc(o,Oh(o,k),c,a)}}}}else{const D=l[g+1];if(D>0&&3==(3&D)){const x=Oh(o,D>>>2);a[x.currentCaseLViewIndex]<0&&Hc(o,x,c,a)}}g+=C}}function Hc(o,a,l,c){let h=c[a.currentCaseLViewIndex];if(null!==h){let g=yo;h<0&&(h=c[a.currentCaseLViewIndex]=~h,g=-1),Ph(o,c,a.update[h],l,g)}}function li(o,a,l,c){const h=function(o,a){let l=o.cases.indexOf(a);if(-1===l)switch(o.type){case 1:{const c=function(o,a){const l=R0(a)(parseInt(o,10)),c=pT[l];return void 0!==c?c:"other"}(a,M0);l=o.cases.indexOf(c),-1===l&&"other"!==c&&(l=o.cases.indexOf("other"));break}case 0:l=o.cases.indexOf("other")}return-1===l?null:l}(a,c);if(Km(a,l)!==h&&(F0(o,a,l),l[a.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const v=l[a.anchorIdx];v&&k0(o,a.create[h],l,v)}}function F0(o,a,l){let c=Km(a,l);if(null!==c){const h=a.remove[c];for(let g=0;g<h.length;g++){const v=h[g];if(v>0){const C=Kn(v,l);null!==C&&v_(l[11],C)}else F0(o,Oh(o,~v),l)}}}function vT(){const o=[];let l,c,a=-1;function g(C,D){a=0;const S=Km(C,D);c=null!==S?C.remove[S]:Re}function v(){if(a<c.length){const C=c[a++];return C>0?l[C]:(o.push(a,c),g(l[1].data[~C],l),v())}return 0===o.length?null:(c=o.pop(),a=o.pop(),v())}return function(C,D){for(l=D;o.length;)o.pop();return g(C.value,D),v}}const Np=/\ufffd(\d+):?\d*\ufffd/gi,IT=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,jA=/\ufffd(\d+)\ufffd/,Rp=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,V0=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,_l=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,lE=/\uE500/g;function cE(o,a,l,c,h,g,v){const C=fh(o,c,1,null);let D=C<<Wn.SHIFT,S=wu();a===S&&(S=null),null===S&&(D|=Wn.APPEND_EAGERLY),v&&(D|=Wn.COMMENT,function(o){void 0===h_&&(h_=o())}(vT)),h.push(D,null===g?"":g);const x=qf(o,C,v?32:1,null===g?"":g,null);aE(l,x);const k=x.index;return Pi(x,!1),null!==S&&a!==S&&function(o,a){let l=o.insertBeforeIndex;null===l?(__(O0,oE),l=o.insertBeforeIndex=[null,a]):(function(o,a,l){o!=a&&Rt(l,o,a,"==")}(Array.isArray(l),!0,"Expecting array here"),l.push(a))}(S,k),x}function DT(o,a,l,c,h,g,v){const C=v.match(Np),D=cE(o,a,l,g,c,C?null:v,!1);C&&$c(h,v,D.index,null,0,null)}function $c(o,a,l,c,h,g){const v=o.length,C=v+1;o.push(null,null);const D=v+2,S=a.split(Np);let x=0;for(let k=0;k<S.length;k++){const U=S[k];if(1&k){const q=h+parseInt(U,10);o.push(-1-q),x|=U0(q)}else""!==U&&o.push(U)}return o.push(l<<2|(c?1:0)),c&&o.push(c,g),o[v]=x,o[C]=o.length-D,x}function ST(o){let a=0;for(let l=0;l<o.length;l++){const c=o[l];"number"==typeof c&&c<0&&a++}return a}function U0(o){return 1<<Math.min(o,31)}function dE(o){let a,g,l="",c=0,h=!1;for(;null!==(a=V0.exec(o));)h?a[0]===`\ufffd/*${g}\ufffd`&&(c=a.index,h=!1):(l+=o.substring(c,a.index+a[0].length),g=a[1],h=!0);return l+=o.substr(c),l}function hE(o,a,l,c,h,g){let v=0;const C={type:h.type,currentCaseLViewIndex:fh(o,a,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function(o,a,l){o.push(U0(a.mainBinding),2,-1-a.mainBinding,l<<2|2)})(l,h,g),function(o,a,l){const c=o.data[a];null===c?o.data[a]=l:c.value=l}(o,g,C);const D=h.values;for(let S=0;S<D.length;S++){const x=D[S],k=[];for(let U=0;U<x.length;U++){const q=x[U];if("string"!=typeof q){const X=k.push(q)-1;x[U]=`\x3c!--\ufffd${X}\ufffd--\x3e`}}v=NT(o,C,a,l,c,h.cases[S],x.join(""),k)|v}v&&function(o,a,l){o.push(a,1,l<<2|3)}(l,v,g)}function fE(o){const a=[],l=[];let c=1,h=0;const g=Ym(o=o.replace(Rp,function(v,C,D){return c="select"===D?0:1,h=parseInt(C.substr(1),10),""}));for(let v=0;v<g.length;){let C=g[v++].trim();1===c&&(C=C.replace(/\s*(?:=)?(\w+)\s*/,"$1")),C.length&&a.push(C);const D=Ym(g[v++]);a.length>l.length&&l.push(D)}return{type:c,mainBinding:h,cases:a,values:l}}function Ym(o){if(!o)return[];let a=0;const l=[],c=[],h=/[{}]/g;let g;for(h.lastIndex=0;g=h.exec(o);){const C=g.index;if("}"==g[0]){if(l.pop(),0==l.length){const D=o.substring(a,C);Rp.test(D)?c.push(fE(D)):c.push(D),a=C+1}}else{if(0==l.length){const D=o.substring(a,C);c.push(D),a=C+1}l.push("{")}}const v=o.substring(a);return c.push(v),c}function NT(o,a,l,c,h,g,v,C){const D=[],S=[],x=[];a.cases.push(g),a.create.push(D),a.remove.push(S),a.update.push(x);const U=Bu(F()).getInertBodyElement(v),q=sa(U)||U;return q?pE(o,a,l,c,D,S,x,q,h,C,0):0}function pE(o,a,l,c,h,g,v,C,D,S,x){let k=0,U=C.firstChild;for(;U;){const q=fh(o,l,1,null);switch(U.nodeType){case Node.ELEMENT_NODE:const X=U,_e=X.tagName.toLowerCase();if(nt.hasOwnProperty(_e)){Jm(h,bp,_e,D,q),o.data[q]=_e;const lt=X.attributes;for(let It=0;It<lt.length;It++){const zt=lt.item(It),Jr=zt.name.toLowerCase();zt.value.match(Np)?Mf.hasOwnProperty(Jr)&&$c(v,zt.value,q,zt.name,0,uo[Jr]?sc:Li[Jr]?ns:null):$0(h,q,zt)}k=pE(o,a,l,c,h,g,v,U,q,S,x+1)|k,gE(g,q,x)}break;case Node.TEXT_NODE:const ae=U.textContent||"",je=ae.match(Np);Jm(h,null,je?"":ae,D,q),gE(g,q,x),je&&(k=$c(v,ae,q,null,0,null)|k);break;case Node.COMMENT_NODE:const Ne=jA.exec(U.textContent||"");if(Ne){const It=S[parseInt(Ne[1],10)];Jm(h,pl,"",D,q),hE(o,l,c,D,It,q),j0(g,q,x)}}U=U.nextSibling}return k}function gE(o,a,l){0===l&&o.push(a)}function j0(o,a,l){0===l&&(o.push(~a),o.push(a))}function Jm(o,a,l,c,h){null!==a&&o.push(a),o.push(l,h,function(o,a,l){return 0|a<<17|l<<1}(0,c,h))}function $0(o,a,l){o.push(a<<1|1,l.name,l.value)}const RT=/\[(\ufffd.+?\ufffd?)\]/,xT=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,W0=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,MT=/{([A-Z0-9_]+)}/g,mE=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Xm=/\/\*/,G0=/\d+\:(\d+)/;function q0(o,a={}){let l=o;if(RT.test(o)){const c={},h=[0];l=l.replace(xT,(g,v,C)=>{const D=v||C,S=c[D]||[];if(S.length||(D.split("|").forEach(_e=>{const ae=_e.match(G0),je=ae?parseInt(ae[1],10):0,Ne=Xm.test(_e);S.push([je,Ne,_e])}),c[D]=S),!S.length)throw new Error(`i18n postprocess: unmatched placeholder - ${D}`);const x=h[h.length-1];let k=0;for(let _e=0;_e<S.length;_e++)if(S[_e][0]===x){k=_e;break}const[U,q,X]=S[k];return q?h.pop():x!==U&&h.push(U),S.splice(k,1),X})}return Object.keys(a).length&&(l=l.replace(W0,(c,h,g,v,C,D)=>a.hasOwnProperty(g)?`${h}${a[g]}${D}`:c),l=l.replace(MT,(c,h)=>a.hasOwnProperty(h)?a[h]:c),l=l.replace(mE,(c,h)=>{if(a.hasOwnProperty(h)){const g=a[h];if(!g.length)throw new Error(`i18n postprocess: unmatched ICU - ${c} with key: ${h}`);return g.shift()}return c})),l}function xp(o,a,l=-1){const c=Pt(),h=Pe(),g=20+o,v=Oi(c.consts,a),C=wu();c.firstCreatePass&&function(o,a,l,c,h,g){const v=wu(),C=[],D=[],S=[[]],x=function(o){return o.replace(lE," ")}(h=function(o,a){if(function(o){return-1===o}(a))return dE(o);{const l=o.indexOf(`:${a}\ufffd`)+2+a.toString().length,c=o.search(new RegExp(`\ufffd\\/\\*\\d+:${a}\ufffd`));return dE(o.substring(l,c))}}(h,g)).split(_l);for(let k=0;k<x.length;k++){let U=x[k];if(0==(1&k)){const q=Ym(U);for(let X=0;X<q.length;X++){let _e=q[X];if(0==(1&X)){const ae=_e;""!==ae&&DT(o,v,S[0],C,D,l,ae)}else{const ae=_e;if("object"!=typeof ae)throw new Error(`Unable to parse ICU expression in "${h}" message.`);hE(o,l,D,a,ae,cE(o,v,S[0],l,C,"",!0).index)}}}else{const q=47===U.charCodeAt(0),_e=(U.charCodeAt(q?1:0),20+Number.parseInt(U.substring(q?2:1)));if(q)S.shift(),Pi(wu(),!1);else{const ae=wi(o,S[0],_e);S.unshift([]),Pi(ae,!0)}}}o.data[c]={create:C,update:D}}(c,null===C?0:C.index,h,g,v,l);const D=c.data[g],x=fn(c,C===h[6]?null:C,h);(function(o,a,l,c){const h=o[11];for(let g=0;g<a.length;g++){const v=a[g++],C=a[g],D=(v&Wn.COMMENT)===Wn.COMMENT,S=(v&Wn.APPEND_EAGERLY)===Wn.APPEND_EAGERLY,x=v>>>Wn.SHIFT;let k=o[x];null===k&&(k=o[x]=D?h.createComment(C):g_(h,C)),S&&null!==l&&hc(h,l,k,c,!1)}})(h,D.create,x,C&&8&C.type?h[C.index]:null),df(!0)}function yE(){df(!1)}function _E(o,a,l){xp(o,a,l),yE()}function vE(o,a){const l=Pt();!function(o,a,l){const h=Zn().index,g=[];if(o.firstCreatePass&&null===o.data[a]){for(let v=0;v<l.length;v+=2){const C=l[v],D=l[v+1];if(""!==D){if(IT.test(D))throw new Error(`ICU expressions are not supported in attributes. Message: "${D}".`);$c(g,D,h,C,ST(g),null)}}o.data[a]=g}}(l,o+20,Oi(l.consts,a))}function ey(o){return function(o){o&&(yo|=1<<Math.min(Ap,31)),Ap++}(Hr(Pe(),Dn(),o)),ey}function z0(o){!function(o,a,l){if(Ap>0){const c=o.data[l];Ph(o,a,Array.isArray(c)?c:c.update,ii()-Ap-1,yo)}yo=0,Ap=0}(Pt(),Pe(),o+20)}function EE(o,a={}){return q0(o,a)}function CE(o,a,l,c,h){if(o=re(o),Array.isArray(o))for(let g=0;g<o.length;g++)CE(o[g],a,l,c,h);else{const g=Pt(),v=Pe();let C=sl(o)?o:re(o.provide),D=PI(o);const S=Zn(),x=1048575&S.providerIndexes,k=S.directiveStart,U=S.providerIndexes>>20;if(sl(o)||!o.multi){const q=new Qs(D,h,gp),X=ty(C,a,h?x:x+U,k);-1===X?(zl(Yi(S,v),g,C),IE(g,o,a.length),a.push(C),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),l.push(q),v.push(q)):(l[X]=q,v[X]=q)}else{const q=ty(C,a,x+U,k),X=ty(C,a,x,x+U),_e=q>=0&&l[q],ae=X>=0&&l[X];if(h&&!ae||!h&&!_e){zl(Yi(S,v),g,C);const je=function(o,a,l,c,h){const g=new Qs(o,l,gp);return g.multi=[],g.index=a,g.componentProviders=0,wE(g,h,c&&!l),g}(h?bE:OT,l.length,h,c,D);!h&&ae&&(l[X].providerFactory=je),IE(g,o,a.length,0),a.push(C),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),l.push(je),v.push(je)}else IE(g,o,q>-1?q:X,wE(l[h?X:q],D,!h&&c));!h&&c&&ae&&l[X].componentProviders++}}}function IE(o,a,l,c){const h=sl(a);if(h||function(o){return!!o.useClass}(a)){const v=(a.useClass||a).prototype.ngOnDestroy;if(v){const C=o.destroyHooks||(o.destroyHooks=[]);if(!h&&a.multi){const D=C.indexOf(l);-1===D?C.push(l,[c,v]):C[D+1].push(c,v)}else C.push(l,v)}}}function wE(o,a,l){return l&&o.componentProviders++,o.multi.push(a)-1}function ty(o,a,l,c){for(let h=l;h<c;h++)if(a[h]===o)return h;return-1}function OT(o,a,l,c){return DE(this.multi,[])}function bE(o,a,l,c){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=Jo(l,l[1],this.providerFactory.index,c);g=C.slice(0,v),DE(h,g);for(let D=v;D<C.length;D++)g.push(C[D])}else g=[],DE(h,g);return g}function DE(o,a){for(let l=0;l<o.length;l++)a.push((0,o[l])());return a}function Mp(o,a=[]){return l=>{l.providersResolver=(c,h)=>function(o,a,l){const c=Pt();if(c.firstCreatePass){const h=be(o);CE(l,c.data,c.blueprint,h,!0),CE(a,c.data,c.blueprint,h,!1)}}(c,h?h(o):o,a)}}class ny{}class Vs{}function _o(o){const a=Error(`No component factory found for ${G(o)}. Did you add it to @NgModule.entryComponents?`);return a[Z0]=o,a}const Z0="ngComponent";class FT{resolveComponentFactory(a){throw _o(a)}}class Gc{}Gc.NULL=new FT;class LT{constructor(a,l,c){this._parent=l,this._ngModule=c,this._factories=new Map;for(let h=0;h<a.length;h++){const g=a[h];this._factories.set(g.componentType,g)}}resolveComponentFactory(a){let l=this._factories.get(a);if(!l&&this._parent&&(l=this._parent.resolveComponentFactory(a)),!l)throw _o(a);return new pa(l,this._ngModule)}}class pa extends Vs{constructor(a,l){super(),this.factory=a,this.ngModule=l,this.selector=a.selector,this.componentType=a.componentType,this.ngContentSelectors=a.ngContentSelectors,this.inputs=a.inputs,this.outputs=a.outputs}create(a,l,c,h){return this.factory.create(a,l,c,h||this.ngModule)}}function vo(...o){}function TE(){return dr(Zn(),Pe())}function dr(o,a){return new Us(Mt(o,a))}const lu=TE,HA=lu;let Us=(()=>{class o{constructor(l){this.nativeElement=l}}return o.__NG_ELEMENT_ID__=HA,o})();function SE(o){return o instanceof Us?o.nativeElement:o}class Op{}let AE=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>Q0(),o})();const NE=RE,Q0=NE;function RE(){const o=Pe(),l=jn(Zn().index,o);return function(o){return o[11]}(Un(l)?l:o)}let ry=(()=>{class o{}return o.\u0275prov=an({token:o,providedIn:"root",factory:()=>null}),o})();class xE{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const iy=new xE("12.2.4");class ME{constructor(){}supports(a){return ap(a)}create(a){return new sy(a)}}const Y0=(o,a)=>a;class sy{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||Y0}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,c=this._removalsHead,h=0,g=null;for(;l||c;){const v=!c||l&&l.currentIndex<kE(c,h,g)?l:c,C=kE(v,h,g),D=v.currentIndex;if(v===c)h--,c=c._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{g||(g=[]);const S=C-h,x=D-h;if(S!=x){for(let U=0;U<S;U++){const q=U<g.length?g[U]:g[U]=0,X=q+U;x<=X&&X<S&&(g[U]=q+1)}g[v.previousIndex]=x-S}}C!==D&&a(v,C,D)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!ap(a))throw new Error(`Error trying to diff '${G(a)}'. Only arrays and iterables are allowed`);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,g,v,l=this._itHead,c=!1;if(Array.isArray(a)){this.length=a.length;for(let C=0;C<this.length;C++)g=a[C],v=this._trackByFn(C,g),null!==l&&Object.is(l.trackById,v)?(c&&(l=this._verifyReinsertion(l,g,v,C)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,v,C),c=!0),l=l._next}else h=0,function(o,a){if(Array.isArray(o))for(let l=0;l<o.length;l++)a(o[l]);else{const l=o[Sc()]();let c;for(;!(c=l.next()).done;)a(c.value)}}(a,C=>{v=this._trackByFn(h,C),null!==l&&Object.is(l.trackById,v)?(c&&(l=this._verifyReinsertion(l,C,v,h)),Object.is(l.item,C)||this._addIdentityChange(l,C)):(l=this._mismatch(l,C,v,h),c=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,c,h){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,g,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,g,h)):a=this._addAfter(new J0(l,c),g,h),a}_verifyReinsertion(a,l,c,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?a=this._reinsertAfter(g,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,g=a._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(a,l,c),this._addToMoves(a,c),a}_moveAfter(a,l,c){return this._unlink(a),this._insertAfter(a,l,c),this._addToMoves(a,c),a}_addAfter(a,l,c){return this._insertAfter(a,l,c),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,c){const h=null===l?this._itHead:l._next;return a._next=h,a._prev=l,null===h?this._itTail=a:h._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new PE),this._linkedRecords.put(a),a.currentIndex=c,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,c=a._next;return null===l?this._itHead=c:l._next=c,null===c?this._itTail=l:c._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new PE),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class J0{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class OE{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===l||l<=c.currentIndex)&&Object.is(c.trackById,a))return c;return null}remove(a){const l=a._prevDup,c=a._nextDup;return null===l?this._head=c:l._nextDup=c,null===c?this._tail=l:c._prevDup=l,null===this._head}}class PE{constructor(){this.map=new Map}put(a){const l=a.trackById;let c=this.map.get(l);c||(c=new OE,this.map.set(l,c)),c.add(a)}get(a,l){const h=this.map.get(a);return h?h.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kE(o,a,l){const c=o.previousIndex;if(null===c)return c;let h=0;return l&&c<l.length&&(h=l[c]),c+a+h}class oy{constructor(){}supports(a){return a instanceof Map||iv(a)}create(){return new FE}}class FE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||iv(a)))throw new Error(`Error trying to diff '${G(a)}'. Only maps and objects are allowed`)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(c,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,c),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(h,c);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let c=l;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const c=a._prev;return l._next=a,l._prev=c,a._prev=l,c&&(c._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,l);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const c=new ay(a);return this._records.set(a,c),c.currentValue=l,this._addToAdditions(c),c}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(c=>l(a[c],c))}}class ay{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function uy(){return new Pp([new ME])}let Pp=(()=>{class o{constructor(l){this.factories=l}static create(l,c){if(null!=c){const h=c.factories.slice();l=l.concat(h)}return new o(l)}static extend(l){return{provide:o,useFactory:c=>o.create(l,c||uy()),deps:[[o,new bs,new ai]]}}find(l){const c=this.factories.find(h=>h.supports(l));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${l}' of type '${function(o){return o.name||typeof o}(l)}'`)}}return o.\u0275prov=an({token:o,providedIn:"root",factory:uy}),o})();function Qr(){return new Eo([new oy])}let Eo=(()=>{class o{constructor(l){this.factories=l}static create(l,c){if(c){const h=c.factories.slice();l=l.concat(h)}return new o(l)}static extend(l){return{provide:o,useFactory:c=>o.create(l,c||Qr()),deps:[[o,new bs,new ai]]}}find(l){const c=this.factories.find(h=>h.supports(l));if(c)return c;throw new Error(`Cannot find a differ supporting object '${l}'`)}}return o.\u0275prov=an({token:o,providedIn:"root",factory:Qr}),o})();function kp(o,a,l,c,h=!1){for(;null!==l;){const g=a[l.index];if(null!==g&&c.push(mt(g)),xn(g))for(let C=10;C<g.length;C++){const D=g[C],S=D[1].firstChild;null!==S&&kp(D[1],D,S,c)}const v=l.type;if(8&v)kp(o,a,l.child,c);else if(32&v){const C=Vf(l,a);let D;for(;D=C();)c.push(D)}else if(16&v){const C=sI(a,l);if(Array.isArray(C))c.push(...C);else{const D=rh(a[16]);kp(D[1],D,C,c,!0)}}l=h?l.projectionNext:l.next}return c}class ly{constructor(a,l){this._lView=a,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,l=a[1];return kp(l,a,l.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(xn(a)){const l=a[8],c=l?l.indexOf(this):-1;c>-1&&(Ui(a,c),yi(l,c))}this._attachedToViewContainer=!1}eI(this._lView[1],this._lView)}onDestroy(a){M_(this._lView[1],this._lView,null,a)}markForCheck(){Qf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){um(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(o,a,l){jo(!0);try{um(o,a,l)}finally{jo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var a;this._appRef=null,cr(this._lView[1],a=this._lView,a[11],2,null,null)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=a}}class $A extends ly{constructor(a){super(a),this._view=a}detectChanges(){DI(this._view)}checkNoChanges(){!function(o){jo(!0);try{DI(o)}finally{jo(!1)}}(this._view)}get context(){return null}}const qc=ew,LE=qc;let Lh=(()=>{class o{}return o.__NG_ELEMENT_ID__=LE,o})();function ew(o){return function(o,a,l){if(Rl(o)&&!l){const c=jn(o.index,a);return new ly(c,c)}return 47&o.type?new ly(a[16],a):null}(Zn(),Pe(),16==(16&o))}const BT=[new oy],HT=new Pp([new ME]),$T=new Eo(BT),WT=Lp,GA=WT;let zc=(()=>{class o{}return o.__NG_ELEMENT_ID__=GA,o})();const cy=zc,Fp=class extends cy{constructor(a,l,c){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=c}createEmbeddedView(a){const l=this._declarationTContainer.tViews,c=dh(this._declarationLView,l,a,16,null,l.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(c[19]=g.createEmbeddedView(l)),ph(l,c,a),new ly(c)}};function Lp(){return El(Zn(),Pe())}function El(o,a){return 4&o.type?new Fp(a,o,dr(o,a)):null}class Cl{}class Vp{}const Up=tw,GT=Up;let Vh=(()=>{class o{}return o.__NG_ELEMENT_ID__=GT,o})();function tw(){return dy(Zn(),Pe())}const nw=Vh,rw=class extends nw{constructor(a,l,c){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=c}get element(){return dr(this._hostTNode,this._hostLView)}get injector(){return new Js(this._hostTNode,this._hostLView)}get parentInjector(){const a=Ad(this._hostTNode,this._hostLView);if(_f(a)){const l=Ys(a,this._hostLView),c=zo(a);return new Js(l[1].data[c+8],l)}return new Js(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=qT(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,l,c){const h=a.createEmbeddedView(l||{});return this.insert(h,c),h}createComponent(a,l,c,h,g){const v=c||this.parentInjector;if(!g&&null==a.ngModule&&v){const D=v.get(Cl,null);D&&(g=D)}const C=a.create(v,h,void 0,g);return this.insert(C.hostView,l),C}insert(a,l){const c=a._lView,h=c[1];if(xn(c[3])){const x=this.indexOf(a);if(-1!==x)this.detach(x);else{const k=c[3],U=new rw(k,k[6],k[3]);U.detach(U.indexOf(a))}}const g=this._adjustIndex(l),v=this._lContainer;!function(o,a,l,c){const h=10+c,g=l.length;c>0&&(l[h-1][4]=a),c<g-10?(a[4]=l[h],ta(l,10+c,a)):(l.push(a),a[4]=null),a[3]=l;const v=a[17];null!==v&&l!==v&&function(o,a){const l=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===l?o[9]=[a]:l.push(a)}(v,a);const C=a[19];null!==C&&C.insertView(o),a[2]|=128}(h,c,v,g);const C=pc(g,v),D=c[11],S=fc(D,v[7]);return null!==S&&function(o,a,l,c,h,g){c[0]=h,c[6]=a,cr(o,c,l,1,h,g)}(h,v[6],D,c,S,C),a.attachToViewContainerRef(),ta(UE(v),g,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=qT(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),c=Ui(this._lContainer,l);c&&(yi(UE(this._lContainer),l),eI(c[1],c))}detach(a){const l=this._adjustIndex(a,-1),c=Ui(this._lContainer,l);return c&&null!=yi(UE(this._lContainer),l)?new ly(c):null}_adjustIndex(a,l=0){return null==a?this.length+l:a}};function qT(o){return o[8]}function UE(o){return o[8]||(o[8]=[])}function dy(o,a){let l;const c=a[o.index];if(xn(c))l=c;else{let h;if(8&o.type)h=mt(c);else{const g=a[11];h=g.createComment("");const v=Mt(o,a);hc(g,fc(g,v),h,function(o,a){return de(o)?o.nextSibling(a):a.nextSibling}(g,v),!1)}a[o.index]=l=im(c,a,h,o),Ja(a,l)}return new rw(l,o,a)}function iw(o,a,l,c){let h=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${a}'. Current value: '${l}'.`;return c&&(h+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(o,a){const l=new Error(o);return jp(l,a),l}(h,o)}function jp(o,a){o[th]=a,o[m]=a.logError.bind(a)}function Uh(o){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${o}`)}function Kc(o,a,l){const c=o.state,h=1792&c;return h===a?(o.state=-1793&c|l,o.initIndex=-1,!0):h===l}function cu(o,a,l){return(1792&o.state)===a&&o.initIndex<=l&&(o.initIndex=l+1,!0)}function Bp(o,a){return o.nodes[a]}function sn(o,a){return o.nodes[a]}function du(o,a){return o.nodes[a]}function Il(o,a){return o.nodes[a]}function jh(o,a){return o.nodes[a]}class BE{}const Ct={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},bi=()=>{},Hp=new Map;function Yr(o){let a=Hp.get(o);return a||(a=G(o)+"_"+Hp.size,Hp.set(o,a)),a}function zT(o,a,l,c){if(os.isWrapped(c)){c=os.unwrap(c);const h=o.def.nodes[a].bindingIndex+l,g=os.unwrap(o.oldValues[h]);o.oldValues[h]=new os(g)}return c}const KT="$$undefined",Bh="$$empty";function hu(o){return{id:KT,styles:o.styles,encapsulation:o.encapsulation,data:o.data}}let ow=0;function Co(o,a,l,c){return!(!(2&o.state)&&Object.is(o.oldValues[a.bindingIndex+l],c))}function hr(o,a,l,c){return!!Co(o,a,l,c)&&(o.oldValues[a.bindingIndex+l]=c,!0)}function ga(o,a,l,c){const h=o.oldValues[a.bindingIndex+l];if(1&o.state||!wm(h,c)){const g=a.bindings[l].name;throw iw(Ct.createDebugContext(o,a.nodeIndex),`${g}: ${h}`,`${g}: ${c}`,0!=(1&o.state))}}function aw(o){let a=o;for(;a;)2&a.def.flags&&(a.state|=8),a=a.viewContainerParent||a.parent}function uw(o,a){let l=o;for(;l&&l!==a;)l.state|=64,l=l.viewContainerParent||l.parent}function lw(o,a,l,c){try{return aw(33554432&o.def.nodes[a].flags?sn(o,a).componentView:o),Ct.handleEvent(o,a,l,c)}catch(h){o.root.errorHandler.handleError(h)}}function cw(o){return o.parent?sn(o.parent,o.parentNodeDef.nodeIndex):null}function Zc(o){return o.parent?o.parentNodeDef.parent:null}function Io(o,a){switch(201347067&a.flags){case 1:return sn(o,a.nodeIndex).renderElement;case 2:return Bp(o,a.nodeIndex).renderText}}function Qc(o,a){return o?`${o}:${a}`:a}function Yc(o){return!!o.parent&&!!(32768&o.parentNodeDef.flags)}function fy(o){return!(!o.parent||32768&o.parentNodeDef.flags)}function dw(o){return 1<<o%32}function hw(o){const a={};let l=0;const c={};return o&&o.forEach(([h,g])=>{"number"==typeof h?(a[h]=g,l|=dw(h)):c[h]=g}),{matchedQueries:a,references:c,matchedQueryIds:l}}function Hh(o,a){return o.map(l=>{let c,h;return Array.isArray(l)?[h,c]=l:(h=0,c=l),c&&("function"==typeof c||"object"==typeof c)&&a&&Object.defineProperty(c,Jl,{value:a,configurable:!0}),{flags:h,token:c,tokenKey:Yr(c)}})}function HE(o,a,l){let c=l.renderParent;return c?0==(1&c.flags)||0==(33554432&c.flags)||c.element.componentRendererType&&(c.element.componentRendererType.encapsulation===pn.ShadowDom||1===c.element.componentRendererType.encapsulation)?sn(o,l.renderParent.nodeIndex).renderElement:void 0:a}const $E=new WeakMap;function $h(o){let a=$E.get(o);return a||(a=o(()=>bi),a.factory=o,$E.set(o,a)),a}function Wh(o,a,l,c,h){3===a&&(l=o.renderer.parentNode(Io(o,o.def.lastRenderRootNode))),pw(o,a,0,o.def.nodes.length-1,l,c,h)}function pw(o,a,l,c,h,g,v){for(let C=l;C<=c;C++){const D=o.def.nodes[C];11&D.flags&&gw(o,D,a,h,g,v),C+=D.childCount}}function WE(o,a,l,c,h,g){let v=o;for(;v&&!Yc(v);)v=v.parent;const C=v.parent,D=Zc(v),x=D.nodeIndex+D.childCount;for(let k=D.nodeIndex+1;k<=x;k++){const U=C.def.nodes[k];U.ngContentIndex===a&&gw(C,U,l,c,h,g),k+=U.childCount}if(!C.parent){const k=o.root.projectableNodes[a];if(k)for(let U=0;U<k.length;U++)Gh(o,k[U],l,c,h,g)}}function gw(o,a,l,c,h,g){if(8&a.flags)WE(o,a.ngContent.index,l,c,h,g);else{const v=Io(o,a);if(3===l&&33554432&a.flags&&48&a.bindingFlags?(16&a.bindingFlags&&Gh(o,v,l,c,h,g),32&a.bindingFlags&&Gh(sn(o,a.nodeIndex).componentView,v,l,c,h,g)):Gh(o,v,l,c,h,g),16777216&a.flags){const C=sn(o,a.nodeIndex).viewContainer._embeddedViews;for(let D=0;D<C.length;D++)Wh(C[D],l,c,h,g)}1&a.flags&&!a.element.name&&pw(o,l,a.nodeIndex+1,a.nodeIndex+a.childCount,c,h,g)}}function Gh(o,a,l,c,h,g){const v=o.renderer;switch(l){case 1:v.appendChild(c,a);break;case 2:v.insertBefore(c,a,h);break;case 3:v.removeChild(c,a);break;case 0:g.push(a)}}const ZT=/^:([^:]+):(.+)$/;function $p(o){if(":"===o[0]){const a=o.match(ZT);return[a[1],a[2]]}return["",o]}function GE(o){let a=0;for(let l=0;l<o.length;l++)a|=o[l].flags;return a}function qE(o,a){let l="";for(let c=0;c<2*o;c+=2)l=l+a[c]+bt(a[c+1]);return l+a[2*o]}function mw(o,a,l,c,h,g,v,C,D,S,x,k,U,q,X,_e,ae,je,Ne,lt){switch(o){case 1:return a+bt(l)+c;case 2:return a+bt(l)+c+bt(h)+g;case 3:return a+bt(l)+c+bt(h)+g+bt(v)+C;case 4:return a+bt(l)+c+bt(h)+g+bt(v)+C+bt(D)+S;case 5:return a+bt(l)+c+bt(h)+g+bt(v)+C+bt(D)+S+bt(x)+k;case 6:return a+bt(l)+c+bt(h)+g+bt(v)+C+bt(D)+S+bt(x)+k+bt(U)+q;case 7:return a+bt(l)+c+bt(h)+g+bt(v)+C+bt(D)+S+bt(x)+k+bt(U)+q+bt(X)+_e;case 8:return a+bt(l)+c+bt(h)+g+bt(v)+C+bt(D)+S+bt(x)+k+bt(U)+q+bt(X)+_e+bt(ae)+je;case 9:return a+bt(l)+c+bt(h)+g+bt(v)+C+bt(D)+S+bt(x)+k+bt(U)+q+bt(X)+_e+bt(ae)+je+bt(Ne)+lt;default:throw new Error("Does not support more than 9 expressions")}}function bt(o){return null!=o?o.toString():""}const yw={},Wp={},_w=Yr(Yt),QT=Yr(eu),zE=Yr(Cl);function YT(o,a,l,c){return l=re(l),{index:-1,deps:Hh(c,G(a)),flags:o,token:a,value:l}}function JT(o){const a={},l=[];let c=null;for(let h=0;h<o.length;h++){const g=o[h];g.token===wc&&(c=g.value),1073741824&g.flags&&l.push(g.token),g.index=h,a[Yr(g.token)]=g}return{factory:null,providersByKey:a,providers:o,modules:l,scope:c}}function ci(o,a,l=Yt.THROW_IF_NOT_FOUND){const c=es(o);try{if(8&a.flags)return a.token;if(2&a.flags&&(l=null),1&a.flags)return o._parent.get(a.token,l);const h=a.tokenKey;switch(h){case _w:case QT:case zE:return o}const g=o._def.providersByKey[h];let v;if(g){let C=o._providers[g.index];return void 0===C&&(C=o._providers[g.index]=ZE(o,g)),C===Wp?void 0:C}if((v=Gn(a.token))&&function(o,a){const l=re(a.providedIn);return null!=l&&("any"===l||l===o._def.scope||function(o,a){return o._def.modules.indexOf(a)>-1}(o,l))}(o,v)){const C=o._providers.length;return o._def.providers[C]=o._def.providersByKey[a.tokenKey]={flags:5120,value:v.factory,deps:[],index:C,token:a.token},o._providers[C]=Wp,o._providers[C]=ZE(o,o._def.providersByKey[a.tokenKey])}return 4&a.flags?l:o._parent.get(a.token,l)}finally{es(c)}}function ZE(o,a){let l;switch(201347067&a.flags){case 512:l=function(o,a,l){const c=l.length;switch(c){case 0:return new a;case 1:return new a(ci(o,l[0]));case 2:return new a(ci(o,l[0]),ci(o,l[1]));case 3:return new a(ci(o,l[0]),ci(o,l[1]),ci(o,l[2]));default:const h=[];for(let g=0;g<c;g++)h[g]=ci(o,l[g]);return new a(...h)}}(o,a.value,a.deps);break;case 1024:l=function(o,a,l){const c=l.length;switch(c){case 0:return a();case 1:return a(ci(o,l[0]));case 2:return a(ci(o,l[0]),ci(o,l[1]));case 3:return a(ci(o,l[0]),ci(o,l[1]),ci(o,l[2]));default:const h=[];for(let g=0;g<c;g++)h[g]=ci(o,l[g]);return a(...h)}}(o,a.value,a.deps);break;case 2048:l=ci(o,a.deps[0]);break;case 256:l=a.value}return l!==Wp&&null!==l&&"object"==typeof l&&!(131072&a.flags)&&"function"==typeof l.ngOnDestroy&&(a.flags|=131072),void 0===l?Wp:l}function QE(o,a){const l=o.viewContainer._embeddedViews;if((null==a||a>=l.length)&&(a=l.length-1),a<0)return null;const c=l[a];return c.viewContainerParent=null,yi(l,a),Ct.dirtyParentQueries(c),JE(c),c}function YE(o,a,l){const c=a?Io(a,a.def.lastRenderRootNode):o.renderElement,h=l.renderer.parentNode(c),g=l.renderer.nextSibling(c);Wh(l,2,h,g,void 0)}function JE(o){Wh(o,3,null,null,void 0)}const bw={};function nS(o,a,l,c,h,g){return new rS(o,a,l,c,h,g)}function Gp(o){return o.viewDefFactory}class rS extends Vs{constructor(a,l,c,h,g,v){super(),this.selector=a,this.componentType=l,this._inputs=h,this._outputs=g,this.ngContentSelectors=v,this.viewDefFactory=c}get inputs(){const a=[],l=this._inputs;for(let c in l)a.push({propName:c,templateName:l[c]});return a}get outputs(){const a=[];for(let l in this._outputs)a.push({propName:l,templateName:this._outputs[l]});return a}create(a,l,c,h){if(!h)throw new Error("ngModule should be provided");const g=$h(this.viewDefFactory),v=g.nodes[0].element.componentProvider.nodeIndex,C=Ct.createRootView(a,l||[],c,g,h,bw),D=du(C,v).instance;return c&&C.renderer.setAttribute(sn(C,0).renderElement,"ng-version",iy.full),new Dw(C,new gy(C),D)}}class Dw extends ny{constructor(a,l,c){super(),this._view=a,this._viewRef=l,this._component=c,this._elDef=this._view.def.nodes[0],this.hostView=l,this.changeDetectorRef=l,this.instance=c}get location(){return new Us(sn(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new my(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(a){this._viewRef.onDestroy(a)}}function iS(o,a,l){return new py(o,a,l)}class py{constructor(a,l,c){this._view=a,this._elDef=l,this._data=c,this._embeddedViews=[]}get element(){return new Us(this._data.renderElement)}get injector(){return new my(this._view,this._elDef)}get parentInjector(){let a=this._view,l=this._elDef.parent;for(;!l&&a;)l=Zc(a),a=a.parent;return a?new my(a,l):new my(this._view,null)}clear(){for(let l=this._embeddedViews.length-1;l>=0;l--){const c=QE(this._data,l);Ct.destroyView(c)}}get(a){const l=this._embeddedViews[a];if(l){const c=new gy(l);return c.attachToViewContainerRef(this),c}return null}get length(){return this._embeddedViews.length}createEmbeddedView(a,l,c){const h=a.createEmbeddedView(l||{});return this.insert(h,c),h}createComponent(a,l,c,h,g){const v=c||this.parentInjector;!g&&!(a instanceof pa)&&(g=v.get(Cl));const C=a.create(v,h,void 0,g);return this.insert(C.hostView,l),C}insert(a,l){if(a.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const c=a;return function(o,a,l,c){let h=a.viewContainer._embeddedViews;null==l&&(l=h.length),c.viewContainerParent=o,ta(h,l,c),function(o,a){const l=cw(a);if(!l||l===o||16&a.state)return;a.state|=16;let c=l.template._projectedViews;c||(c=l.template._projectedViews=[]),c.push(a),function(o,a){if(4&a.flags)return;o.nodeFlags|=4,a.flags|=4;let l=a.parent;for(;l;)l.childFlags|=4,l=l.parent}(a.parent.def,a.parentNodeDef)}(a,c),Ct.dirtyParentQueries(c),YE(a,l>0?h[l-1]:null,c)}(this._view,this._data,l,c._view),c.attachToViewContainerRef(this),a}move(a,l){if(a.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const c=this._embeddedViews.indexOf(a._view);return function(o,a,l){const c=o.viewContainer._embeddedViews,h=c[a];yi(c,a),null==l&&(l=c.length),ta(c,l,h),Ct.dirtyParentQueries(h),JE(h),YE(o,l>0?c[l-1]:null,h)}(this._data,c,l),a}indexOf(a){return this._embeddedViews.indexOf(a._view)}remove(a){const l=QE(this._data,a);l&&Ct.destroyView(l)}detach(a){const l=QE(this._data,a);return l?new gy(l):null}}function QA(o){return new gy(o)}class gy{constructor(a){this._view=a,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(o){const a=[];return Wh(o,0,void 0,void 0,a),a}(this._view)}get context(){return this._view.context}set context(a){this._view.context=a}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){aw(this._view)}detach(){this._view.state&=-5}detectChanges(){const a=this._view.root.rendererFactory;a.begin&&a.begin();try{Ct.checkAndUpdateView(this._view)}finally{a.end&&a.end()}}checkNoChanges(){Ct.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(a){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(a)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Ct.destroyView(this._view)}detachFromAppRef(){this._appRef=null,JE(this._view),Ct.dirtyParentQueries(this._view)}attachToAppRef(a){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=a}attachToViewContainerRef(a){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=a}}function YA(o,a){return new Tw(o,a)}class Tw extends zc{constructor(a,l){super(),this._parentView=a,this._def=l}createEmbeddedView(a){return new gy(Ct.createEmbeddedView(this._parentView,this._def,this._def.element.template,a))}get elementRef(){return new Us(sn(this._parentView,this._def.nodeIndex).renderElement)}}function Sw(o,a){return new my(o,a)}class my{constructor(a,l){this.view=a,this.elDef=l}get(a,l=Yt.THROW_IF_NOT_FOUND){return Ct.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:a,tokenKey:Yr(a)},l)}}function JA(o,a){const l=o.def.nodes[a];if(1&l.flags){const c=sn(o,l.nodeIndex);return l.element.template?c.template:c.renderElement}if(2&l.flags)return Bp(o,l.nodeIndex).renderText;if(20240&l.flags)return du(o,l.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${a}`)}function sS(o,a,l,c){return new XA(o,a,l,c)}class XA{constructor(a,l,c,h){this._moduleType=a,this._parent=l,this._bootstrapComponents=c,this._def=h,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(o){const a=o._def,l=o._providers=Is(a.providers.length);for(let c=0;c<a.providers.length;c++){const h=a.providers[c];4096&h.flags||void 0===l[c]&&(l[c]=ZE(o,h))}}(this)}get(a,l=Yt.THROW_IF_NOT_FOUND,c=ke.Default){let h=0;return c&ke.SkipSelf?h|=1:c&ke.Self&&(h|=4),ci(this,{token:a,tokenKey:Yr(a),flags:h},l)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(Gc)}destroy(){if(this._destroyed)throw new Error(`The ng module ${G(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(o,a){const l=o._def,c=new Set;for(let h=0;h<l.providers.length;h++)if(131072&l.providers[h].flags){const v=o._providers[h];if(v&&v!==Wp){const C=v.ngOnDestroy;"function"==typeof C&&!c.has(v)&&(C.apply(v),c.add(v))}}}(this),this._destroyListeners.forEach(a=>a())}onDestroy(a){this._destroyListeners.push(a)}}const fu=Yr(AE),yy=Yr(Us),wo=Yr(Vh),oS=Yr(zc),Aw=Yr(Lh),aS=Yr(Yt),uS=Yr(eu);function lS(o,a,l,c,h,g,v,C){const D=[];if(v)for(let x in v){const[k,U]=v[x];D[k]={flags:8,name:x,nonMinifiedName:U,ns:null,securityContext:null,suffix:null}}const S=[];if(C)for(let x in C)S.push({type:1,propName:x,target:null,eventName:C[x]});return _y(o,a|=16384,l,c,h,h,g,D,S)}function Nw(o,a,l){return _y(-1,o|=16,null,0,a,a,l)}function cS(o,a,l,c,h){return _y(-1,o,a,0,l,c,h)}function _y(o,a,l,c,h,g,v,C,D){const{matchedQueries:S,references:x,matchedQueryIds:k}=hw(l);D||(D=[]),C||(C=[]),g=re(g);const U=Hh(v,G(h));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:o,flags:a,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:S,matchedQueryIds:k,references:x,ngContentIndex:-1,childCount:c,bindings:C,bindingFlags:GE(C),outputs:D,element:null,provider:{token:h,value:g,deps:U},text:null,query:null,ngContent:null}}function dS(o,a){return di(o,a)}function Rw(o,a){let l=o;for(;l.parent&&!Yc(l);)l=l.parent;return ed(l.parent,Zc(l),!0,a.provider.value,a.provider.deps)}function hS(o,a){const c=ed(o,a.parent,(32768&a.flags)>0,a.provider.value,a.provider.deps);if(a.outputs.length)for(let h=0;h<a.outputs.length;h++){const g=a.outputs[h],v=c[g.propName];if(!wn(v))throw new Error(`@Output ${g.propName} not initialized in '${c.constructor.name}'.`);{const C=v.subscribe(Xc(o,a.parent.nodeIndex,g.eventName));o.disposables[a.outputIndex+h]=C.unsubscribe.bind(C)}}return c}function Xc(o,a,l){return c=>lw(o,a,l,c)}function di(o,a){const l=(8192&a.flags)>0,c=a.provider;switch(201347067&a.flags){case 512:return ed(o,a.parent,l,c.value,c.deps);case 1024:return function(o,a,l,c,h){const g=h.length;switch(g){case 0:return c();case 1:return c(hi(o,a,l,h[0]));case 2:return c(hi(o,a,l,h[0]),hi(o,a,l,h[1]));case 3:return c(hi(o,a,l,h[0]),hi(o,a,l,h[1]),hi(o,a,l,h[2]));default:const v=[];for(let C=0;C<g;C++)v.push(hi(o,a,l,h[C]));return c(...v)}}(o,a.parent,l,c.value,c.deps);case 2048:return hi(o,a.parent,l,c.deps[0]);case 256:return c.value}}function ed(o,a,l,c,h){const g=h.length;switch(g){case 0:return new c;case 1:return new c(hi(o,a,l,h[0]));case 2:return new c(hi(o,a,l,h[0]),hi(o,a,l,h[1]));case 3:return new c(hi(o,a,l,h[0]),hi(o,a,l,h[1]),hi(o,a,l,h[2]));default:const v=[];for(let C=0;C<g;C++)v.push(hi(o,a,l,h[C]));return new c(...v)}}const td={};function hi(o,a,l,c,h=Yt.THROW_IF_NOT_FOUND){if(8&c.flags)return c.token;const g=o;2&c.flags&&(h=null);const v=c.tokenKey;v===Aw&&(l=!(!a||!a.element.componentView)),a&&1&c.flags&&(l=!1,a=a.parent);let C=o;for(;C;){if(a)switch(v){case fu:return xw(C,a,l).renderer;case yy:return new Us(sn(C,a.nodeIndex).renderElement);case wo:return sn(C,a.nodeIndex).viewContainer;case oS:if(a.element.template)return sn(C,a.nodeIndex).template;break;case Aw:return QA(xw(C,a,l));case aS:case uS:return Sw(C,a);default:const S=(l?a.element.allProviders:a.element.publicProviders)[v];if(S){let x=du(C,S.nodeIndex);return x||(x={instance:di(C,S)},C.nodes[S.nodeIndex]=x),x.instance}}l=Yc(C),a=Zc(C),C=C.parent,4&c.flags&&(C=null)}const D=g.root.injector.get(c.token,td);return D!==td||h===td?D:g.root.ngModule.injector.get(c.token,h)}function xw(o,a,l){let c;if(l)c=sn(o,a.nodeIndex).componentView;else for(c=o;c.parent&&!Yc(c);)c=c.parent;return c}function er(o,a,l,c,h,g){if(32768&l.flags){const D=sn(o,l.parent.nodeIndex).componentView;2&D.def.flags&&(D.state|=8)}if(a.instance[l.bindings[c].name]=h,524288&l.flags){g=g||{};const D=os.unwrap(o.oldValues[l.bindingIndex+c]);g[l.bindings[c].nonMinifiedName]=new Vo(D,h,0!=(2&o.state))}return o.oldValues[l.bindingIndex+c]=h,g}function eC(o,a){if(!(o.def.nodeFlags&a))return;const l=o.def.nodes;let c=0;for(let h=0;h<l.length;h++){const g=l[h];let v=g.parent;for(!v&&g.flags&a&&Mw(o,h,g.flags&a,c++),0==(g.childFlags&a)&&(h+=g.childCount);v&&1&v.flags&&h===v.nodeIndex+v.childCount;)v.directChildFlags&a&&(c=gS(o,v,a,c)),v=v.parent}}function gS(o,a,l,c){for(let h=a.nodeIndex+1;h<=a.nodeIndex+a.childCount;h++){const g=o.def.nodes[h];g.flags&l&&Mw(o,h,g.flags&l,c++),h+=g.childCount}return c}function Mw(o,a,l,c){const h=du(o,a);if(!h)return;const g=h.instance;!g||(Ct.setCurrentNode(o,a),1048576&l&&cu(o,512,c)&&g.ngAfterContentInit(),2097152&l&&g.ngAfterContentChecked(),4194304&l&&cu(o,768,c)&&g.ngAfterViewInit(),8388608&l&&g.ngAfterViewChecked(),131072&l&&g.ngOnDestroy())}class Ow extends Gc{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=rr(a);return new nC(l,this.ngModule)}}function ma(o){const a=[];for(let l in o)o.hasOwnProperty(l)&&a.push({propName:o[l],templateName:l});return a}const qh=new Mn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>co});class nC extends Vs{constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=a.selectors.map(dI).join(","),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return ma(this.componentDef.inputs)}get outputs(){return ma(this.componentDef.outputs)}create(a,l,c,h){const g=(h=h||this.ngModule)?function(o,a){return{get:(l,c,h)=>{const g=o.get(l,td,h);return g!==td||c===td?g:a.get(l,c,h)}}}(a,h.injector):a,v=g.get(Op,ot),C=g.get(ry,null),D=v.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",x=c?Cc(D,c,this.componentDef.encapsulation):Fg(v.createRenderer(null,this.componentDef),S,function(o){const a=o.toLowerCase();return"svg"===a?ba:"math"===a?N:null}(S)),k=this.componentDef.onPush?576:528,U=$I(),q=Ya(0,null,null,1,0,null,null,null,null,null),X=dh(null,q,U,k,null,null,v,D,C,g);let _e,ae;$l(X);try{const je=J_(x,this.componentDef,X,v,D);if(x)if(c)Wo(D,x,["ng-version",iy.full]);else{const{attrs:Ne,classes:lt}=function(o){const a=[],l=[];let c=1,h=2;for(;c<o.length;){let g=o[c];if("string"==typeof g)2===h?""!==g&&a.push(g,o[++c]):8===h&&l.push(g);else{if(!Rs(h))break;h=g}c++}return{attrs:a,classes:l}}(this.componentDef.selectors[0]);Ne&&Wo(D,x,Ne),lt&&lt.length>0&&Hg(D,x,lt.join(" "))}if(ae=gi(q,20),void 0!==l){const Ne=ae.projection=[];for(let lt=0;lt<this.ngContentSelectors.length;lt++){const It=l[lt];Ne.push(null!=It?Array.from(It):null)}}_e=Tc(je,this.componentDef,X,U,[WI]),ph(q,X,null)}finally{Ed()}return new kw(this.componentType,_e,dr(ae,X),X,ae)}}class kw extends ny{constructor(a,l,c,h,g){super(),this.location=c,this._rootLView=h,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new $A(h),this.componentType=a}get injector(){return new Js(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function Fw(o,a,l,c){return Xe(()=>{const h=o;null!==a&&(h.hasOwnProperty("decorators")&&void 0!==h.decorators?h.decorators.push(...a):h.decorators=a),null!==l&&(h.ctorParameters=l),null!==c&&(h.propDecorators=h.hasOwnProperty("propDecorators")&&void 0!==h.propDecorators?Object.assign(Object.assign({},h.propDecorators),c):c)})}const zh=new Map;function Lw(o,a){const l=zh.get(o);rC(o,l&&l.moduleType,a.moduleType),zh.set(o,a)}function rC(o,a,l){if(a&&a!==l)throw new Error(`Duplicate module registered for ${o} - ${G(a)} vs ${G(a.name)}`)}function Vw(o){const a=new Set;!function l(c){const h=Kt(c,!0),g=h.id;if(null!==g){rC(g,zh.get(g),c),zh.set(g,c)}const v=ui(h.imports);for(const C of v)a.has(C)||(a.add(C),l(C))}(o)}function Uw(o){return zh.get(o)||ud[o]}class jw extends Cl{constructor(a,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ow(this);const c=Kt(a),h=a[Ln]||null;h&&Dp(h),this._bootstrapComponents=ui(c.bootstrap),this._r3Injector=pm(a,l,[{provide:Cl,useValue:this},{provide:Gc,useValue:this.componentFactoryResolver}],G(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,l=Yt.THROW_IF_NOT_FOUND,c=ke.Default){return a===Yt||a===Cl||a===eu?this:this._r3Injector.get(a,l,c)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class qp extends Vp{constructor(a){super(),this.moduleType=a,null!==Kt(a)&&Vw(a)}create(a){return new jw(this.moduleType,a)}}function Lt(o,a,l){const c=br()+o,h=Pe();return h[c]===pt?Ps(h,c,l?a.call(l):a()):Ac(h,c)}function Bw(o,a,l,c){return Ey(Pe(),br(),o,a,l,c)}function nd(o,a,l,c,h){return Gw(Pe(),br(),o,a,l,c,h)}function iC(o,a,l,c,h,g){return Fr(Pe(),br(),o,a,l,c,h,g)}function vy(o,a,l,c,h,g,v){return js(Pe(),br(),o,a,l,c,h,g,v)}function Hw(o,a,l,c,h,g,v,C){const D=br()+o,S=Pe(),x=ks(S,D,l,c,h,g);return Hr(S,D+4,v)||x?Ps(S,D+5,C?a.call(C,l,c,h,g,v):a(l,c,h,g,v)):Ac(S,D+5)}function $w(o,a,l,c,h,g,v,C,D){const S=br()+o,x=Pe(),k=ks(x,S,l,c,h,g);return Nc(x,S+4,v,C)||k?Ps(x,S+6,D?a.call(D,l,c,h,g,v,C):a(l,c,h,g,v,C)):Ac(x,S+6)}function Ww(o,a,l,c,h,g,v,C,D,S){const x=br()+o,k=Pe();let U=ks(k,x,l,c,h,g);return Ch(k,x+4,v,C,D)||U?Ps(k,x+7,S?a.call(S,l,c,h,g,v,C,D):a(l,c,h,g,v,C,D)):Ac(k,x+7)}function bo(o,a,l,c,h,g,v,C,D,S,x){const k=br()+o,U=Pe(),q=ks(U,k,l,c,h,g);return ks(U,k+4,v,C,D,S)||q?Ps(U,k+8,x?a.call(x,l,c,h,g,v,C,D,S):a(l,c,h,g,v,C,D,S)):Ac(U,k+8)}function sC(o,a,l,c){return oC(Pe(),br(),o,a,l,c)}function Kh(o,a){const l=o[a];return l===pt?void 0:l}function Ey(o,a,l,c,h,g){const v=a+l;return Hr(o,v,h)?Ps(o,v+1,g?c.call(g,h):c(h)):Kh(o,v+1)}function Gw(o,a,l,c,h,g,v){const C=a+l;return Nc(o,C,h,g)?Ps(o,C+2,v?c.call(v,h,g):c(h,g)):Kh(o,C+2)}function Fr(o,a,l,c,h,g,v,C){const D=a+l;return Ch(o,D,h,g,v)?Ps(o,D+3,C?c.call(C,h,g,v):c(h,g,v)):Kh(o,D+3)}function js(o,a,l,c,h,g,v,C,D){const S=a+l;return ks(o,S,h,g,v,C)?Ps(o,S+4,D?c.call(D,h,g,v,C):c(h,g,v,C)):Kh(o,S+4)}function oC(o,a,l,c,h,g){let v=a+l,C=!1;for(let D=0;D<h.length;D++)Hr(o,v++,h[D])&&(C=!0);return C?Ps(o,v,c.apply(g,h)):Kh(o,v)}function qw(o,a){const l=Pt();let c;const h=o+20;l.firstCreatePass?(c=function(o,a){if(a)for(let l=a.length-1;l>=0;l--){const c=a[l];if(o===c.name)return c}throw new Oe("302",`The pipe '${o}' could not be found!`)}(a,l.pipeRegistry),l.data[h]=c,c.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,c.onDestroy)):c=l.data[h];const g=c.factory||(c.factory=Zi(c.type)),v=En(gp);try{const C=Zo(!1),D=g();return Zo(C),zI(l,Pe(),h,D),D}finally{En(v)}}function aC(o,a,l){const c=o+20,h=Pe(),g=yr(h,c);return wl(h,Zh(h,c)?Ey(h,br(),a,g.transform,l,g):g.transform(l))}function Kw(o,a,l,c){const h=o+20,g=Pe(),v=yr(g,h);return wl(g,Zh(g,h)?Gw(g,br(),a,v.transform,l,c,v):v.transform(l,c))}function uC(o,a,l,c,h){const g=o+20,v=Pe(),C=yr(v,g);return wl(v,Zh(v,g)?Fr(v,br(),a,C.transform,l,c,h,C):C.transform(l,c,h))}function Zw(o,a,l,c,h,g){const v=o+20,C=Pe(),D=yr(C,v);return wl(C,Zh(C,v)?js(C,br(),a,D.transform,l,c,h,g,D):D.transform(l,c,h,g))}function lC(o,a,l){const c=o+20,h=Pe(),g=yr(h,c);return wl(h,Zh(h,c)?oC(h,br(),a,g.transform,l,g):g.transform.apply(g,l))}function Zh(o,a){return o[1].data[a].pure}function wl(o,a){return os.isWrapped(a)&&(a=os.unwrap(a),o[ii()]=pt),a}function Bt(o){return a=>{setTimeout(o,void 0,a)}}const Hi=class extends T.xQ{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,l,c){var h,g,v;let C=a,D=l||(()=>null),S=c;if(a&&"object"==typeof a){const k=a;C=null===(h=k.next)||void 0===h?void 0:h.bind(k),D=null===(g=k.error)||void 0===g?void 0:g.bind(k),S=null===(v=k.complete)||void 0===v?void 0:v.bind(k)}this.__isAsync&&(D=Bt(D),C&&(C=Bt(C)),S&&(S=Bt(S)));const x=super.subscribe({next:C,error:D,complete:S});return a instanceof y.w&&a.add(x),x}};function yS(){return this._results[Sc()]()}class Do{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Sc(),c=Do.prototype;c[l]||(c[l]=yS)}get changes(){return this._changes||(this._changes=new Hi)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){const c=this;c.dirty=!1;const h=si(a);(this._changesDetected=!function(o,a,l){if(o.length!==a.length)return!1;for(let c=0;c<o.length;c++){let h=o[c],g=a[c];if(l&&(h=l(h),g=l(g)),g!==h)return!1}return!0}(c._results,h,l))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class dC{constructor(a){this.queryList=a,this.matches=null}clone(){return new dC(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qh{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const c=null!==a.contentQueries?a.contentQueries[0]:l.length,h=[];for(let g=0;g<c;g++){const v=l.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new Qh(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==gC(a,l).matches&&this.queries[l].setDirty()}}class Yh{constructor(a,l,c=null){this.predicate=a,this.flags=l,this.read=c}}class Cy{constructor(a=[]){this.queries=a}elementStart(a,l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let c=0;c<this.length;c++){const h=null!==l?l.length:0,g=this.getByIndex(c).embeddedTView(a,h);g&&(g.indexInDeclarationView=c,null!==l?l.push(g):l=[g])}return null!==l?new Cy(l):null}template(a,l){for(let c=0;c<this.queries.length;c++)this.queries[c].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Jh{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new Jh(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let c=a.parent;for(;null!==c&&8&c.type&&c.index!==l;)c=c.parent;return l===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const g=c[h];this.matchTNodeWithReadOption(a,l,ES(l,g)),this.matchTNodeWithReadOption(a,l,Yo(l,a,g,!1,!1))}else c===zc?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,Yo(l,a,c,!1,!1))}matchTNodeWithReadOption(a,l,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===Us||h===Vh||h===zc&&4&l.type)this.addMatch(l.index,-2);else{const g=Yo(l,a,h,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,c)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function ES(o,a){const l=o.localNames;if(null!==l)for(let c=0;c<l.length;c+=2)if(l[c]===a)return l[c+1];return null}function Iy(o,a,l,c){return-1===l?function(o,a){return 11&o.type?dr(o,a):4&o.type?El(o,a):null}(a,o):-2===l?function(o,a,l){return l===Us?dr(a,o):l===zc?El(a,o):l===Vh?dy(a,o):void 0}(o,a,c):Jo(o,o[1],l,a)}function fC(o,a,l,c){const h=a[19].queries[c];if(null===h.matches){const g=o.data,v=l.matches,C=[];for(let D=0;D<v.length;D+=2){const S=v[D];C.push(S<0?null:Iy(a,g[S],v[D+1],l.metadata.read))}h.matches=C}return h.matches}function pC(o,a,l,c){const h=o.queries.getByIndex(l),g=h.matches;if(null!==g){const v=fC(o,a,h,l);for(let C=0;C<g.length;C+=2){const D=g[C];if(D>0)c.push(v[C/2]);else{const S=g[C+1],x=a[-D];for(let k=10;k<x.length;k++){const U=x[k];U[17]===U[3]&&pC(U[1],U,S,c)}if(null!==x[9]){const k=x[9];for(let U=0;U<k.length;U++){const q=k[U];pC(q[1],q,S,c)}}}}}return c}function Yw(o){const a=Pe(),l=Pt(),c=yd();Hl(c+1);const h=gC(l,c);if(o.dirty&&Mi(a)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const g=h.crossesNgTemplate?pC(l,a,c,[]):fC(l,a,h,c);o.reset(g,SE),o.notifyOnChanges()}return!0}return!1}function Jw(o,a,l){const c=Pt();c.firstCreatePass&&(tb(c,new Yh(o,a,l),-1),2==(2&a)&&(c.staticViewQueries=!0)),eb(c,Pe(),a)}function zp(o,a,l,c){const h=Pt();if(h.firstCreatePass){const g=Zn();tb(h,new Yh(a,l,c),g.index),function(o,a){const l=o.contentQueries||(o.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(o.queries.length-1,a)}(h,o),2==(2&l)&&(h.staticContentQueries=!0)}eb(h,Pe(),l)}function Xw(){return o=Pe(),a=yd(),o[19].queries[a].queryList;var o,a}function eb(o,a,l){const c=new Do(4==(4&l));M_(o,a,c,c.destroy),null===a[19]&&(a[19]=new Qh),a[19].queries.push(new dC(c))}function tb(o,a,l){null===o.queries&&(o.queries=new Cy),o.queries.track(new Jh(a,l))}function gC(o,a){return o.queries.getByIndex(a)}function wy(o,a){return El(o,a)}const tr=(()=>({\u0275\u0275attribute:up,\u0275\u0275attributeInterpolate1:sv,\u0275\u0275attributeInterpolate2:lp,\u0275\u0275attributeInterpolate3:cp,\u0275\u0275attributeInterpolate4:dp,\u0275\u0275attributeInterpolate5:dl,\u0275\u0275attributeInterpolate6:bm,\u0275\u0275attributeInterpolate7:hp,\u0275\u0275attributeInterpolate8:ov,\u0275\u0275attributeInterpolateV:fp,\u0275\u0275defineComponent:Ao,\u0275\u0275defineDirective:ld,\u0275\u0275defineInjectable:an,\u0275\u0275defineInjector:$i,\u0275\u0275defineNgModule:Wi,\u0275\u0275definePipe:Ea,\u0275\u0275directiveInject:gp,\u0275\u0275getInheritedFactory:yg,\u0275\u0275inject:Hn,\u0275\u0275injectAttribute:Na,\u0275\u0275invalidFactory:a0,\u0275\u0275invalidFactoryDep:so,\u0275\u0275templateRefExtractor:wy,\u0275\u0275NgOnChangesFeature:Ar,\u0275\u0275ProvidersFeature:Mp,\u0275\u0275CopyDefinitionFeature:qI,\u0275\u0275InheritDefinitionFeature:sp,\u0275\u0275nextContext:Tv,\u0275\u0275namespaceHTML:fg,\u0275\u0275namespaceMathML:hg,\u0275\u0275namespaceSVG:Wl,\u0275\u0275enableBindings:Da,\u0275\u0275disableBindings:jl,\u0275\u0275elementStart:Pm,\u0275\u0275elementEnd:mp,\u0275\u0275element:wv,\u0275\u0275elementContainerStart:Ah,\u0275\u0275elementContainerEnd:qt,\u0275\u0275elementContainer:bv,\u0275\u0275pureFunction0:Lt,\u0275\u0275pureFunction1:Bw,\u0275\u0275pureFunction2:nd,\u0275\u0275pureFunction3:iC,\u0275\u0275pureFunction4:vy,\u0275\u0275pureFunction5:Hw,\u0275\u0275pureFunction6:$w,\u0275\u0275pureFunction7:Ww,\u0275\u0275pureFunction8:bo,\u0275\u0275pureFunctionV:sC,\u0275\u0275getCurrentView:Dv,\u0275\u0275restoreView:hd,\u0275\u0275listener:$r,\u0275\u0275projection:h0,\u0275\u0275syntheticHostProperty:qm,\u0275\u0275syntheticHostListener:Fs,\u0275\u0275pipeBind1:aC,\u0275\u0275pipeBind2:Kw,\u0275\u0275pipeBind3:uC,\u0275\u0275pipeBind4:Zw,\u0275\u0275pipeBindV:lC,\u0275\u0275projectionDef:Fm,\u0275\u0275hostProperty:nE,\u0275\u0275property:Cv,\u0275\u0275propertyInterpolate:Sv,\u0275\u0275propertyInterpolate1:Pn,\u0275\u0275propertyInterpolate2:f0,\u0275\u0275propertyInterpolate3:p0,\u0275\u0275propertyInterpolate4:Ir,\u0275\u0275propertyInterpolate5:Lm,\u0275\u0275propertyInterpolate6:Av,\u0275\u0275propertyInterpolate7:Nv,\u0275\u0275propertyInterpolate8:Vm,\u0275\u0275propertyInterpolateV:Rv,\u0275\u0275pipe:qw,\u0275\u0275queryRefresh:Yw,\u0275\u0275viewQuery:Jw,\u0275\u0275loadQuery:Xw,\u0275\u0275contentQuery:zp,\u0275\u0275reference:Tm,\u0275\u0275classMap:_0,\u0275\u0275classMapInterpolate1:I0,\u0275\u0275classMapInterpolate2:w0,\u0275\u0275classMapInterpolate3:$v,\u0275\u0275classMapInterpolate4:b0,\u0275\u0275classMapInterpolate5:D0,\u0275\u0275classMapInterpolate6:Wv,\u0275\u0275classMapInterpolate7:T0,\u0275\u0275classMapInterpolate8:S0,\u0275\u0275classMapInterpolateV:Gv,\u0275\u0275styleMap:as,\u0275\u0275styleMapInterpolate1:qv,\u0275\u0275styleMapInterpolate2:zv,\u0275\u0275styleMapInterpolate3:Kv,\u0275\u0275styleMapInterpolate4:$m,\u0275\u0275styleMapInterpolate5:wp,\u0275\u0275styleMapInterpolate6:A0,\u0275\u0275styleMapInterpolate7:Zv,\u0275\u0275styleMapInterpolate8:au,\u0275\u0275styleMapInterpolateV:N0,\u0275\u0275styleProp:Fc,\u0275\u0275stylePropInterpolate1:uu,\u0275\u0275stylePropInterpolate2:Qv,\u0275\u0275stylePropInterpolate3:Yv,\u0275\u0275stylePropInterpolate4:Jv,\u0275\u0275stylePropInterpolate5:Xv,\u0275\u0275stylePropInterpolate6:eE,\u0275\u0275stylePropInterpolate7:Wm,\u0275\u0275stylePropInterpolate8:Gm,\u0275\u0275stylePropInterpolateV:tE,\u0275\u0275classProp:Um,\u0275\u0275advance:gc,\u0275\u0275template:Dm,\u0275\u0275text:ou,\u0275\u0275textInterpolate:Vv,\u0275\u0275textInterpolate1:Ip,\u0275\u0275textInterpolate2:Bm,\u0275\u0275textInterpolate3:Vc,\u0275\u0275textInterpolate4:fa,\u0275\u0275textInterpolate5:Uv,\u0275\u0275textInterpolate6:jv,\u0275\u0275textInterpolate7:Bv,\u0275\u0275textInterpolate8:Hv,\u0275\u0275textInterpolateV:Hm,\u0275\u0275i18n:_E,\u0275\u0275i18nAttributes:vE,\u0275\u0275i18nExp:ey,\u0275\u0275i18nStart:xp,\u0275\u0275i18nEnd:yE,\u0275\u0275i18nApply:z0,\u0275\u0275i18nPostprocess:EE,\u0275\u0275resolveWindow:dc,\u0275\u0275resolveDocument:oa,\u0275\u0275resolveBody:Lf,\u0275\u0275setComponentScope:ad,\u0275\u0275setNgModuleScope:Xr,\u0275\u0275sanitizeHtml:ac,\u0275\u0275sanitizeStyle:Ft,\u0275\u0275sanitizeResourceUrl:uc,\u0275\u0275sanitizeScript:zu,\u0275\u0275sanitizeUrl:Ba,\u0275\u0275sanitizeUrlOrResourceUrl:xr,\u0275\u0275trustConstantHtml:Qd,\u0275\u0275trustConstantResourceUrl:Ha,forwardRef:ne,resolveForwardRef:re}))();let ya=null;function wS(){ya=null}const Bs=[];let mC=!1;function Kp(){if(!mC){mC=!0;try{for(let o=Bs.length-1;o>=0;o--){const{moduleType:a,ngModule:l}=Bs[o];l.declarations&&l.declarations.every(yC)&&(Bs.splice(o,1),DS(a,l))}}finally{mC=!1}}}function yC(o){return Array.isArray(o)?o.every(yC):!!re(o)}function by(o,a={}){_C(o,a),function(o,a){Bs.push({moduleType:o,ngModule:a})}(o,a)}function _C(o,a,l=!1){const c=si(a.declarations||Re);let h=null;Object.defineProperty(o,xt,{configurable:!0,get:()=>(null===h&&(h=Jn().compileNgModule(tr,`ng:///${o.name}/\u0275mod.js`,{type:o,bootstrap:si(a.bootstrap||Re).map(re),declarations:c.map(re),imports:si(a.imports||Re).map(re).map(Sy),exports:si(a.exports||Re).map(re).map(Sy),schemas:a.schemas?si(a.schemas):null,id:a.id||null}),h.schemas||(h.schemas=[])),h)});let g=null;Object.defineProperty(o,bn,{get:()=>{if(null===g){const C=Jn();g=C.compileFactory(tr,`ng:///${o.name}/\u0275fac.js`,{name:o.name,type:o,deps:Vu(o),target:C.FactoryTarget.NgModule,typeArgumentCount:0})}return g},configurable:!1});let v=null;Object.defineProperty(o,Wr,{get:()=>{if(null===v){const C={name:o.name,type:o,providers:a.providers||Re,imports:[(a.imports||Re).map(re),(a.exports||Re).map(re)]};v=Jn().compileInjector(tr,`ng:///${o.name}/\u0275inj.js`,C)}return v},configurable:!1})}let id=new WeakMap,Ty=new WeakMap;function bS(){id=new WeakMap,Ty=new WeakMap,Bs.length=0}function DS(o,a){const l=si(a.declarations||Re),c=pu(o);l.forEach(h=>{h.hasOwnProperty(at)?Xh(rr(h),c):!h.hasOwnProperty(Vt)&&!h.hasOwnProperty(Ot)&&(h.ngSelectorScope=o)})}function Xh(o,a){o.directiveDefs=()=>Array.from(a.compilation.directives).map(l=>l.hasOwnProperty(at)?rr(l):Gi(l)).filter(l=>!!l),o.pipeDefs=()=>Array.from(a.compilation.pipes).map(l=>xo(l)),o.schemas=a.schemas,o.tView=null}function pu(o){if(!Ay(o))throw new Error(`${o.name} does not have a module def (\u0275mod property)`);const a=Kt(o);if(null!==a.transitiveCompileScopes)return a.transitiveCompileScopes;const l={schemas:a.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return ui(a.imports).forEach(c=>{const h=c;if(!Ay(h))throw new Error(`Importing ${h.name} which does not have a \u0275mod property`);const g=pu(h);g.exported.directives.forEach(v=>l.compilation.directives.add(v)),g.exported.pipes.forEach(v=>l.compilation.pipes.add(v))}),ui(a.declarations).forEach(c=>{xo(c)?l.compilation.pipes.add(c):l.compilation.directives.add(c)}),ui(a.exports).forEach(c=>{const h=c;if(Ay(h)){const g=pu(h);g.exported.directives.forEach(v=>{l.compilation.directives.add(v),l.exported.directives.add(v)}),g.exported.pipes.forEach(v=>{l.compilation.pipes.add(v),l.exported.pipes.add(v)})}else xo(h)?l.exported.pipes.add(h):l.exported.directives.add(h)}),a.transitiveCompileScopes=l,l}function Sy(o){return function(o){return void 0!==o.ngModule}(o)?o.ngModule:o}function Ay(o){return!!Kt(o)}let vC=0;function Ny(o,a){let l=null;(function(o,a){oo(a)&&(rc.set(o,a),$d.add(o))})(o,a),CC(o,a),Object.defineProperty(o,at,{get:()=>{if(null===l){const c=Jn();if(oo(a)){const S=[`Component '${o.name}' is not resolved:`];throw a.templateUrl&&S.push(` - templateUrl: ${a.templateUrl}`),a.styleUrls&&a.styleUrls.length&&S.push(` - styleUrls: ${JSON.stringify(a.styleUrls)}`),S.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(S.join("\n"))}const h=ya;let g=a.preserveWhitespaces;void 0===g&&(g=null!==h&&void 0!==h.preserveWhitespaces&&h.preserveWhitespaces);let v=a.encapsulation;void 0===v&&(v=null!==h&&void 0!==h.defaultEncapsulation?h.defaultEncapsulation:pn.Emulated);const C=a.templateUrl||`ng:///${o.name}/template.html`,D=Object.assign(Object.assign({},cb(o,a)),{typeSourceSpan:c.createParseSourceSpan("Component",o.name,C),template:a.template||"",preserveWhitespaces:g,styles:a.styles||Re,animations:a.animations,directives:[],changeDetection:a.changeDetection,pipes:new Map,encapsulation:v,interpolation:a.interpolation,viewProviders:a.viewProviders||null});vC++;try{D.usesInheritance&&xy(o),l=c.compileComponent(tr,C,D)}finally{vC--}if(0===vC&&Kp(),function(o){return void 0!==o.ngSelectorScope}(o)){const S=pu(o.ngSelectorScope);Xh(l,S)}}return l},configurable:!1})}function EC(o,a){let l=null;CC(o,a||{}),Object.defineProperty(o,Vt,{get:()=>{if(null===l){const c=lb(o,a||{});l=Jn().compileDirective(tr,c.sourceMapUrl,c.metadata)}return l},configurable:!1})}function lb(o,a){const l=o&&o.name,c=`ng:///${l}/\u0275dir.js`,h=Jn(),g=cb(o,a);return g.typeSourceSpan=h.createParseSourceSpan("Directive",l,c),g.usesInheritance&&xy(o),{metadata:g,sourceMapUrl:c}}function CC(o,a){let l=null;Object.defineProperty(o,bn,{get:()=>{if(null===l){const c=lb(o,a),h=Jn();l=h.compileFactory(tr,`ng:///${o.name}/\u0275fac.js`,{name:c.metadata.name,type:c.metadata.type,typeArgumentCount:0,deps:Vu(o),target:h.FactoryTarget.Directive})}return l},configurable:!1})}function Ry(o){return Object.getPrototypeOf(o.prototype)===Object.prototype}function cb(o,a){const l=Hd(),c=l.ownPropMetadata(o);return{name:o.name,type:o,selector:void 0!==a.selector?a.selector:null,host:a.host||ie,propMetadata:c,inputs:a.inputs||Re,outputs:a.outputs||Re,queries:IC(o,c,hb),lifecycle:{usesOnChanges:l.hasLifecycleHook(o,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!Ry(o),exportAs:AS(a.exportAs),providers:a.providers||null,viewQueries:IC(o,c,wC)}}function xy(o){const a=Object.prototype;let l=Object.getPrototypeOf(o.prototype).constructor;for(;l&&l!==a;)!Gi(l)&&!rr(l)&&NS(l)&&EC(l,null),l=Object.getPrototypeOf(l)}function SS(o){return"string"==typeof o?My(o):re(o)}function db(o,a){return{propertyName:o,predicate:SS(a.selector),descendants:a.descendants,first:a.first,read:a.read?a.read:null,static:!!a.static,emitDistinctChangesOnly:!!a.emitDistinctChangesOnly}}function IC(o,a,l){const c=[];for(const h in a)if(a.hasOwnProperty(h)){const g=a[h];g.forEach(v=>{if(l(v)){if(!v.selector)throw new Error(`Can't construct a query for the property "${h}" of "${Ce(o)}" since the query selector wasn't defined.`);if(g.some(fb))throw new Error("Cannot combine @Input decorators with query decorators");c.push(db(h,v))}})}return c}function AS(o){return void 0===o?null:My(o)}function hb(o){const a=o.ngMetadataName;return"ContentChild"===a||"ContentChildren"===a}function wC(o){const a=o.ngMetadataName;return"ViewChild"===a||"ViewChildren"===a}function fb(o){return"Input"===o.ngMetadataName}function My(o){return o.split(",").map(a=>a.trim())}const bl=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function NS(o){const a=Hd();if(bl.some(c=>a.hasLifecycleHook(o,c)))return!0;const l=a.propMetadata(o);for(const c in l){const h=l[c];for(let g=0;g<h.length;g++){const v=h[g],C=v.ngMetadataName;if(fb(v)||hb(v)||wC(v)||"Output"===C||"HostBinding"===C||"HostListener"===C)return!0}}return!1}function Dl(o,a){let l=null,c=null;Object.defineProperty(o,bn,{get:()=>{if(null===c){const h=pb(o,a),g=Jn();c=g.compileFactory(tr,`ng:///${h.name}/\u0275fac.js`,{name:h.name,type:h.type,typeArgumentCount:0,deps:Vu(o),target:g.FactoryTarget.Pipe})}return c},configurable:!1}),Object.defineProperty(o,Ot,{get:()=>{if(null===l){const h=pb(o,a);l=Jn().compilePipe(tr,`ng:///${h.name}/\u0275pipe.js`,h)}return l},configurable:!1})}function pb(o,a){return{type:o,name:o.name,pipeName:a.name,pure:void 0===a.pure||a.pure}}const gb=xu("Directive",(o={})=>o,void 0,void 0,(o,a)=>Ly(o,a)),mb=xu("Component",(o={})=>Object.assign({changeDetection:gr.Default},o),gb,void 0,(o,a)=>Cb(o,a)),xS=xu("Pipe",o=>Object.assign({pure:!0},o),void 0,void 0,(o,a)=>Ib(o,a)),Hs=Xs("Input",o=>({bindingPropertyName:o})),_b=Xs("Output",o=>({bindingPropertyName:o})),ky=Xs("HostBinding",o=>({hostPropertyName:o})),OS=Xs("HostListener",(o,a)=>({eventName:o,args:a})),vb=Ny,Eb=EC,Qp=Dl,Cb=vb,Ly=Eb,Ib=Qp,FS=xu("NgModule",o=>o,void 0,void 0,(o,a)=>LS(o,a)),wb=by,LS=wb,Vy=new Mn("Application Initializer");let gu=(()=>{class o{constructor(l){this.appInits=l,this.resolve=vo,this.reject=vo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Pc(g))l.push(g);else if(wn(g)){const v=new Promise((C,D)=>{g.subscribe({complete:C,error:D})});l.push(v)}}Promise.all(l).then(()=>{c()}).catch(h=>{this.reject(h)}),0===l.length&&c(),this.initialized=!0}}return o.\u0275fac=function(l){return new(l||o)(Hn(Vy,8))},o.\u0275prov=an({token:o,factory:o.\u0275fac}),o})();const Db=new Mn("AppId");function Tb(){return`${DC()}${DC()}${DC()}`}const Yp={provide:Db,useFactory:Tb,deps:[]};function DC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ef=new Mn("Platform Initializer"),Sb=new Mn("Platform ID"),Ab=new Mn("appBootstrapListener"),Jp=new Mn("Application Packages Root URL");let Nb=(()=>{class o{log(l){console.log(l)}warn(l){console.warn(l)}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=an({token:o,factory:o.\u0275fac}),o})();const Uy=new Mn("LocaleId"),Rb=new Mn("DefaultCurrencyCode"),VS=new Mn("Translations"),US=new Mn("TranslationsFormat");var _a=(()=>((_a=_a||{})[_a.Error=0]="Error",_a[_a.Warning=1]="Warning",_a[_a.Ignore=2]="Ignore",_a))();const xb=!0,Xp=xb;class TC{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}const jy=function(o){return new qp(o)},jS=jy,SC=function(o){return Promise.resolve(jy(o))},fN=SC,By=function(o){const a=jy(o),c=ui(Kt(o).declarations).reduce((h,g)=>{const v=rr(g);return v&&h.push(new nC(v)),h},[]);return new TC(a,c)},Mb=By,Ob=function(o){return Promise.resolve(By(o))},$S=Ob;let eg=(()=>{class o{constructor(){this.compileModuleSync=jS,this.compileModuleAsync=fN,this.compileModuleAndAllComponentsSync=Mb,this.compileModuleAndAllComponentsAsync=$S}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=an({token:o,factory:o.\u0275fac}),o})();const Pb=new Mn("compilerOptions");class kb{}const AC=(()=>Promise.resolve(0))();function NC(o){"undefined"==typeof Zone?AC.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class cs{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Hi(!1),this.onMicrotaskEmpty=new Hi(!1),this.onStable=new Hi(!1),this.onError=new Hi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&l,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function(){let o=H.requestAnimationFrame,a=H.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&a){const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l);const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function(o){const a=()=>{!function(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(H,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,xC(o),o.isCheckStableRunning=!0,Hy(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),xC(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,c,h,g,v,C)=>{try{return Fb(o),l.invokeTask(h,g,v,C)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&a(),Lb(o)}},onInvoke:(l,c,h,g,v,C,D)=>{try{return Fb(o),l.invoke(h,g,v,C,D)}finally{o.shouldCoalesceRunChangeDetection&&a(),Lb(o)}},onHasTask:(l,c,h,g)=>{l.hasTask(h,g),c===h&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,xC(o),Hy(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,c,h,g)=>(l.handleError(h,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!cs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(cs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,l,c){return this._inner.run(a,l,c)}runTask(a,l,c,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,a,RC,vo,vo);try{return g.runTask(v,l,c)}finally{g.cancelTask(v)}}runGuarded(a,l,c){return this._inner.runGuarded(a,l,c)}runOutsideAngular(a){return this._outer.run(a)}}const RC={};function Hy(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function xC(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Fb(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Lb(o){o._nesting--,Hy(o)}class Vb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Hi,this.onMicrotaskEmpty=new Hi,this.onStable=new Hi,this.onError=new Hi}run(a,l,c){return a.apply(l,c)}runGuarded(a,l,c){return a.apply(l,c)}runOutsideAngular(a){return a()}runTask(a,l,c,h){return a.apply(l,c)}}let MC=(()=>{class o{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{cs.assertNotInAngularZone(),NC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())NC(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(l)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,c,h){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),l(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:h})}whenStable(l,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,c,h){return[]}}return o.\u0275fac=function(l){return new(l||o)(Hn(cs))},o.\u0275prov=an({token:o,factory:o.\u0275fac}),o})(),OC=(()=>{class o{constructor(){this._applications=new Map,PC.addToWindow(this)}registerApplication(l,c){this._applications.set(l,c)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,c=!0){return PC.findTestabilityInTree(this,l,c)}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=an({token:o,factory:o.\u0275fac}),o})();class qS{addToWindow(a){}findTestabilityInTree(a,l,c){return null}}function nr(o){PC=o}let PC=new qS,tg=!0,$y=!1;function $s(){return $y=!0,tg}function nf(){if($y)throw new Error("Cannot enable prod mode after platform setup.");tg=!1}let To,zS=jb;function jb(o,a,l){const c=new qp(l);return Promise.resolve(c)}let Hb=QS;function QS(o){return o.isBoundToModule}const mu=new Mn("AllowMultipleToken");class Wb{constructor(a,l){this.name=a,this.token=l}}function Gb(o){if(To&&!To.destroyed&&!To.injector.get(mu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");To=o.get(FC);const a=o.get(ef,null);return a&&a.forEach(l=>l()),To}function qb(o,a,l=[]){const c=`Platform: ${a}`,h=new Mn(c);return(g=[])=>{let v=kC();if(!v||v.injector.get(mu,!1))if(o)o(l.concat(g).concat({provide:h,useValue:!0}));else{const C=l.concat(g).concat({provide:h,useValue:!0},{provide:wc,useValue:"platform"});Gb(Yt.create({providers:C,name:c}))}return zb(h)}}function zb(o){const a=kC();if(!a)throw new Error("No platform exists!");if(!a.injector.get(o,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return a}function Kb(){To&&!To.destroyed&&To.destroy()}function kC(){return To&&!To.destroyed?To:null}let FC=(()=>{class o{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,c){const C=function(o,a){let l;return l="noop"===o?new Vb:("zone.js"===o?void 0:o)||new cs({enableLongStackTrace:$s(),shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),l}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),D=[{provide:cs,useValue:C}];return C.run(()=>{const S=Yt.create({providers:D,parent:this.injector,name:l.moduleType.name}),x=l.create(S),k=x.injector.get(He,null);if(!k)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return C.runOutsideAngular(()=>{const U=C.onError.subscribe({next:q=>{k.handleError(q)}});x.onDestroy(()=>{LC(this._modules,x),U.unsubscribe()})}),function(o,a,l){try{const c=l();return Pc(c)?c.catch(h=>{throw a.runOutsideAngular(()=>o.handleError(h)),h}):c}catch(c){throw a.runOutsideAngular(()=>o.handleError(c)),c}}(k,C,()=>{const U=x.injector.get(gu);return U.runInitializers(),U.donePromise.then(()=>(Xp&&Dp(x.injector.get(Uy,jc)||jc),this._moduleDoBootstrap(x),x))})})}bootstrapModule(l,c=[]){const h=Qb({},c);return zS(this.injector,h,l).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(l){const c=l.injector.get(ng);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Error(`The module ${G(l.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);l.instance.ngDoBootstrap(c)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(l){return new(l||o)(Hn(Yt))},o.\u0275prov=an({token:o,factory:o.\u0275fac}),o})();function Qb(o,a){return Array.isArray(a)?a.reduce(Qb,o):Object.assign(Object.assign({},o),a)}let ng=(()=>{class o{constructor(l,c,h,g,v){this._zone=l,this._injector=c,this._exceptionHandler=h,this._componentFactoryResolver=g,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new K.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),D=new K.y(S=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{cs.assertNotInAngularZone(),NC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{cs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{x.unsubscribe(),k.unsubscribe()}});this.isStable=(0,le.T)(C,D.pipe(o=>(0,Ee.x)()(function(o,a){return function(c){let h;h="function"==typeof o?o:function(){return o};const g=Object.create(c,he.N);return g.source=c,g.subjectFactory=h,g}}(J)(o))))}bootstrap(l,c){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let h;h=l instanceof Vs?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(h.componentType);const g=Hb(h)?void 0:this._injector.get(Cl),C=h.create(Yt.NULL,[],c||h.selector,g),D=C.location.nativeElement,S=C.injector.get(MC,null),x=S&&C.injector.get(OC);return S&&x&&x.registerApplication(D,S),C.onDestroy(()=>{this.detachView(C.hostView),LC(this.components,C),x&&x.unregisterApplication(D)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const c=l;this._views.push(c),c.attachToAppRef(this)}detachView(l){const c=l;LC(this._views,c),c.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(Ab,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(l){return new(l||o)(Hn(cs),Hn(Yt),Hn(He),Hn(Gc),Hn(gu))},o.\u0275prov=an({token:o,factory:o.\u0275fac}),o})();function LC(o,a){const l=o.indexOf(a);l>-1&&o.splice(l,1)}class XS{}function Yb(o){const a=Uw(o);if(!a)throw sd(o);return a}function Jb(o){const a=Uw(o);if(!a)throw sd(o);return new qp(a)}const pN=Jb;function sd(o){return new Error(`No module with ID ${o} loaded`)}class eD{}const tA={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let nA=(()=>{class o{constructor(l,c){this._compiler=l,this._config=c||tA}load(l){return!Xp&&this._compiler instanceof eg?this.loadFactory(l):this.loadAndCompile(l)}loadAndCompile(l){let[c,h]=l.split("#");return void 0===h&&(h="default"),j(8255)(c).then(g=>g[h]).then(g=>tD(g,c,h)).then(g=>this._compiler.compileModuleAsync(g))}loadFactory(l){let[c,h]=l.split("#"),g="NgFactory";return void 0===h&&(h="default",g=""),j(8255)(this._config.factoryPathPrefix+c+this._config.factoryPathSuffix).then(v=>v[h+g]).then(v=>tD(v,c,h))}}return o.\u0275fac=function(l){return new(l||o)(Hn(eg),Hn(eD,8))},o.\u0275prov=an({token:o,factory:o.\u0275fac}),o})();function tD(o,a,l){if(!o)throw new Error(`Cannot find '${l}' in '${a}'`);return o}class nD extends Lh{}class rg extends nD{}class rD{constructor(a,l){this.name=a,this.callback=l}}class ig{constructor(a,l,c){this.listeners=[],this.parent=null,this._debugContext=c,this.nativeNode=a,l&&l instanceof Lr&&l.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class Lr extends ig{constructor(a,l,c){super(a,l,c),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=a}addChild(a){a&&(this.childNodes.push(a),a.parent=this)}removeChild(a){const l=this.childNodes.indexOf(a);-1!==l&&(a.parent=null,this.childNodes.splice(l,1))}insertChildrenAfter(a,l){const c=this.childNodes.indexOf(a);-1!==c&&(this.childNodes.splice(c+1,0,...l),l.forEach(h=>{h.parent&&h.parent.removeChild(h),a.parent=this}))}insertBefore(a,l){const c=this.childNodes.indexOf(a);-1===c?this.addChild(l):(l.parent&&l.parent.removeChild(l),l.parent=this,this.childNodes.splice(c,0,l))}query(a){return this.queryAll(a)[0]||null}queryAll(a){const l=[];return iD(this,a,l),l}queryAllNodes(a){const l=[];return sD(this,a,l),l}get children(){return this.childNodes.filter(a=>a instanceof Lr)}triggerEventHandler(a,l){this.listeners.forEach(c=>{c.name==a&&c.callback(l)})}}function rA(o){return o.map(a=>a.nativeElement)}function iD(o,a,l){o.childNodes.forEach(c=>{c instanceof Lr&&(a(c)&&l.push(c),iD(c,a,l))})}function sD(o,a,l){o instanceof Lr&&o.childNodes.forEach(c=>{a(c)&&l.push(c),c instanceof Lr&&sD(c,a,l)})}class VC{constructor(a){this.nativeNode=a}get parent(){const a=this.nativeNode.parentNode;return a?new sg(a):null}get injector(){return Dc(this.nativeNode)}get componentInstance(){const a=this.nativeNode;return a&&(np(a)||ym(a))}get context(){return np(this.nativeNode)||rp(this.nativeNode)}get listeners(){return vm(this.nativeNode).filter(a=>"dom"===a.type)}get references(){return function(o){const a=Br(o);return null===a?{}:(void 0===a.localRefs&&(a.localRefs=function(o,a){const l=o[1].data[a];if(l&&l.localNames){const c={};let h=l.index+1;for(let g=0;g<l.localNames.length;g+=2)c[l.localNames[g]]=o[h],h++;return c}return null}(a.lView,a.nodeIndex)),a.localRefs||{})}(this.nativeNode)}get providerTokens(){return function(o){const a=Br(o);if(null===a)return[];const c=a.lView[1],h=c.data[a.nodeIndex],g=[],C=h.directiveEnd;for(let D=1048575&h.providerIndexes;D<C;D++){let S=c.data[D];Z_(S)&&(S=S.type),g.push(S)}return g}(this.nativeNode)}}class sg extends VC{constructor(a){super(a)}get nativeElement(){return this.nativeNode.nodeType==Node.ELEMENT_NODE?this.nativeNode:null}get name(){const a=Br(this.nativeNode);return null!==a?a.lView[1].data[a.nodeIndex].value:this.nativeNode.nodeName}get properties(){const a=Br(this.nativeNode);if(null===a)return{};const l=a.lView,c=l[1].data,h=c[a.nodeIndex],g={};return function(o,a){if(o){let l=Object.getPrototypeOf(o);const c=Node.prototype;for(;null!==l&&l!==c;){const h=Object.getOwnPropertyDescriptors(l);for(let g in h)if(!g.startsWith("__")&&!g.startsWith("on")){const v=o[g];sA(v)&&(a[g]=v)}l=Object.getPrototypeOf(l)}}}(this.nativeElement,g),function(o,a,l,c){let h=a.propertyBindings;if(null!==h)for(let g=0;g<h.length;g++){const v=h[g],D=c[v].split("\ufffd"),S=D[0];if(D.length>1){let x=D[1];for(let k=1;k<D.length-1;k++)x+=$e(l[v+k-1])+D[k+1];o[S]=x}else o[S]=l[v]}}(g,h,l,c),g}get attributes(){const a={},l=this.nativeElement;if(!l)return a;const c=Br(l);if(null===c)return{};const g=c.lView[1].data[c.nodeIndex].attrs,v=[];if(g){let D=0;for(;D<g.length;){const S=g[D];if("string"!=typeof S)break;a[S]=g[D+1],v.push(S.toLowerCase()),D+=2}}const C=l.attributes;for(let D=0;D<C.length;D++){const S=C[D],x=S.name.toLowerCase();-1===v.indexOf(x)&&(a[x]=S.value)}return a}get styles(){return this.nativeElement&&this.nativeElement.style?this.nativeElement.style:{}}get classes(){const a={},c=this.nativeElement.className;return(c&&"string"!=typeof c?c.baseVal.split(" "):c.split(" ")).forEach(g=>a[g]=!0),a}get childNodes(){const a=this.nativeNode.childNodes,l=[];for(let c=0;c<a.length;c++)l.push(ag(a[c]));return l}get children(){const a=this.nativeElement;if(!a)return[];const l=a.children,c=[];for(let h=0;h<l.length;h++)c.push(ag(l[h]));return c}query(a){return this.queryAll(a)[0]||null}queryAll(a){const l=[];return og(this,a,l,!0),l}queryAllNodes(a){const l=[];return og(this,a,l,!1),l}triggerEventHandler(a,l){const c=this.nativeNode,h=[];this.listeners.forEach(g=>{if(g.name===a){const v=g.callback;v.call(c,l),h.push(v)}}),"function"==typeof c.eventListeners&&c.eventListeners(a).forEach(g=>{if(-1!==g.toString().indexOf("__ngUnwrap__")){const v=g("__ngUnwrap__");return-1===h.indexOf(v)&&v.call(c,l)}})}}function sA(o){return"string"==typeof o||"boolean"==typeof o||"number"==typeof o||null===o}function og(o,a,l,c){const h=Br(o.nativeNode);null!==h?od(h.lView[1].data[h.nodeIndex],h.lView,a,l,c,o.nativeNode):jC(o.nativeNode,a,l,c)}function od(o,a,l,c,h,g){const v=function(o,a){const l=null===o?-1:o.index;return-1!==l?mt(a[l]):null}(o,a);if(11&o.type){if(UC(v,l,c,h,g),Rl(o)){const D=jn(o.index,a);D&&D[1].firstChild&&od(D[1].firstChild,D,l,c,h,g)}else o.child&&od(o.child,a,l,c,h,g),v&&jC(v,l,c,h);const C=a[o.index];xn(C)&&oD(C,l,c,h,g)}else if(4&o.type){const C=a[o.index];UC(C[7],l,c,h,g),oD(C,l,c,h,g)}else if(16&o.type){const C=a[16],S=C[6].projection[o.projection];if(Array.isArray(S))for(let x of S)UC(x,l,c,h,g);else if(S){const x=C[3];od(x[1].data[S.index],x,l,c,h,g)}}else o.child&&od(o.child,a,l,c,h,g);if(g!==v){const C=4&o.flags?o.projectionNext:o.next;C&&od(C,a,l,c,h,g)}}function oD(o,a,l,c,h){for(let g=10;g<o.length;g++){const v=o[g],C=v[1].firstChild;C&&od(C,v,a,l,c,h)}}function UC(o,a,l,c,h){if(h!==o){const g=Vr(o);if(!g)return;(c&&g instanceof sg&&a(g)&&-1===l.indexOf(g)||!c&&a(g)&&-1===l.indexOf(g))&&l.push(g)}}function jC(o,a,l,c){const h=o.childNodes,g=h.length;for(let v=0;v<g;v++){const C=h[v],D=Vr(C);D&&((c&&D instanceof sg&&a(D)&&-1===l.indexOf(D)||!c&&a(D)&&-1===l.indexOf(D))&&l.push(D),jC(C,a,l,c))}}const qy=new Map,Tl="__ng_debug__";function ag(o){return o instanceof Node?(o.hasOwnProperty(Tl)||(o[Tl]=o.nodeType==Node.ELEMENT_NODE?new sg(o):new VC(o)),o[Tl]):null}const Vr=ag;function aA(o){return function(o){return qy.get(o)||null}(o)}const s=function(o){return null};function i(o){qy.set(o.nativeNode,o)}const d=VC,f=sg,w=qb(null,"core",[{provide:Sb,useValue:"unknown"},{provide:FC,deps:[Yt]},{provide:OC,deps:[]},{provide:Nb,deps:[]}]);function A(){return HT}function P(){return $T}function V(o){return o=o||Xp&&"undefined"!=typeof $localize&&$localize.locale||jc,Xp&&Dp(o),o}const pe=[{provide:ng,useClass:ng,deps:[cs,Yt,He,Gc,gu]},{provide:qh,deps:[cs],useFactory:Ue},{provide:gu,useClass:gu,deps:[[new ai,Vy]]},{provide:eg,useClass:eg,deps:[]},Yp,{provide:Pp,useFactory:A,deps:[]},{provide:Eo,useFactory:P,deps:[]},{provide:Uy,useFactory:V,deps:[[new La(Uy),new ai,new bs]]},{provide:Rb,useValue:sE}];function Ue(o){let a=[];return o.onStable.subscribe(()=>{for(;a.length;)a.pop()()}),function(l){a.push(l)}}let Ke=(()=>{class o{constructor(l){}}return o.\u0275fac=function(l){return new(l||o)(Hn(ng))},o.\u0275mod=Wi({type:o}),o.\u0275inj=$i({providers:pe}),o})();function ut(o,a,l,c,h,g){o|=1;const{matchedQueries:v,references:C,matchedQueryIds:D}=hw(a);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:o,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:v,matchedQueryIds:D,references:C,ngContentIndex:l,childCount:c,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:g?$h(g):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:h||bi},provider:null,text:null,query:null,ngContent:null}}function on(o,a,l,c,h,g,v=[],C,D,S,x,k){S||(S=bi);const{matchedQueries:U,references:q,matchedQueryIds:X}=hw(l);let _e=null,ae=null;g&&([_e,ae]=$p(g)),C=C||[];const je=[];for(let It=0;It<C.length;It++){const[zt,Jr,va]=C[It],[qC,Qy]=$p(Jr);let Yy,Jy;switch(15&zt){case 4:Jy=va;break;case 1:case 8:Yy=va}je[It]={flags:zt,ns:qC,name:Qy,nonMinifiedName:Qy,securityContext:Yy,suffix:Jy}}D=D||[];const Ne=[];for(let It=0;It<D.length;It++){const[zt,Jr]=D[It];Ne[It]={type:0,target:zt,eventName:Jr,propName:null}}const lt=(v=v||[]).map(([It,zt])=>{const[Jr,va]=$p(It);return[Jr,va,zt]});return k=function(o){return o&&o.id===KT&&(o.id=null!=o.encapsulation&&o.encapsulation!==pn.None||o.styles.length||Object.keys(o.data).length?"c"+ow++:Bh),o&&o.id===Bh&&(o=null),o||null}(k),x&&(a|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:o,flags:a|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:U,matchedQueryIds:X,references:q,ngContentIndex:c,childCount:h,bindings:je,bindingFlags:GE(je),outputs:Ne,element:{ns:_e,name:ae,attrs:lt,template:null,componentProvider:null,componentView:x||null,componentRendererType:k,publicProviders:null,allProviders:null,handleEvent:S||bi},provider:null,text:null,query:null,ngContent:null}}function Sn(o,a,l){const c=l.element,h=o.root.selectorOrNode,g=o.renderer;let v;if(o.parent||!h){v=c.name?g.createElement(c.name,c.ns):g.createComment("");const C=HE(o,a,l);C&&g.appendChild(C,v)}else v=g.selectRootElement(h,!!c.componentRendererType&&c.componentRendererType.encapsulation===pn.ShadowDom);if(c.attrs)for(let C=0;C<c.attrs.length;C++){const[D,S,x]=c.attrs[C];g.setAttribute(v,S,x,D)}return v}function $t(o,a,l,c){for(let h=0;h<l.outputs.length;h++){const g=l.outputs[h],v=kn(o,l.nodeIndex,Qc(g.target,g.eventName));let C=g.target,D=o;"component"===g.target&&(C=null,D=a);const S=D.renderer.listen(C||c,g.eventName,v);o.disposables[l.outputIndex+h]=S}}function kn(o,a,l){return c=>lw(o,a,l,c)}function yu(o,a,l,c){if(!hr(o,a,l,c))return!1;const h=a.bindings[l],g=sn(o,a.nodeIndex),v=g.renderElement,C=h.name;switch(15&h.flags){case 1:!function(o,a,l,c,h,g){const v=a.securityContext;let C=v?o.root.sanitizer.sanitize(v,g):g;C=null!=C?C.toString():null;const D=o.renderer;null!=g?D.setAttribute(l,h,C,c):D.removeAttribute(l,h,c)}(o,h,v,h.ns,C,c);break;case 2:!function(o,a,l,c){const h=o.renderer;c?h.addClass(a,l):h.removeClass(a,l)}(o,v,C,c);break;case 4:!function(o,a,l,c,h){let g=o.root.sanitizer.sanitize(kt.STYLE,h);if(null!=g){g=g.toString();const C=a.suffix;null!=C&&(g+=C)}else g=null;const v=o.renderer;null!=g?v.setStyle(l,c,g):v.removeStyle(l,c)}(o,h,v,C,c);break;case 8:!function(o,a,l,c,h){const g=a.securityContext;let v=g?o.root.sanitizer.sanitize(g,h):h;o.renderer.setProperty(l,c,v)}(33554432&a.flags&&32&h.flags?g.componentView:o,h,v,C,c)}return!0}function VN(o,a,l){let c=[];for(let h in l)c.push({propName:h,bindingType:l[h]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:o,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:a,filterId:dw(a),bindings:c},ngContent:null}}function UN(o){return new Do(o)}function jN(o){const a=o.def.nodeMatchedQueries;for(;o.parent&&fy(o);){let l=o.parentNodeDef;o=o.parent;const c=l.nodeIndex+l.childCount;for(let h=0;h<=c;h++){const g=o.def.nodes[h];67108864&g.flags&&536870912&g.flags&&(g.query.filterId&a)===g.query.filterId&&jh(o,h).setDirty(),(1&g.flags&&h+g.childCount<l.nodeIndex||!(67108864&g.childFlags)||!(536870912&g.childFlags))&&(h+=g.childCount)}}if(134217728&o.def.nodeFlags)for(let l=0;l<o.def.nodes.length;l++){const c=o.def.nodes[l];134217728&c.flags&&536870912&c.flags&&jh(o,l).setDirty(),l+=c.childCount}}function BN(o,a){const l=jh(o,a.nodeIndex);if(!l.dirty)return;let c,h;if(67108864&a.flags){const C=a.parent.parent;h=BC(o,C.nodeIndex,C.nodeIndex+C.childCount,a.query,[]),c=du(o,a.parent.nodeIndex).instance}else 134217728&a.flags&&(h=BC(o,0,o.def.nodes.length-1,a.query,[]),c=o.component);l.reset(h,SE);const g=a.query.bindings;let v=!1;for(let C=0;C<g.length;C++){const D=g[C];let S;switch(D.bindingType){case 0:S=l.first;break;case 1:S=l,v=!0}c[D.propName]=S}v&&l.notifyOnChanges()}function BC(o,a,l,c,h){for(let g=a;g<=l;g++){const v=o.def.nodes[g],C=v.matchedQueries[c.id];if(null!=C&&h.push(gN(o,v,C)),1&v.flags&&v.element.template&&(v.element.template.nodeMatchedQueries&c.filterId)===c.filterId){const D=sn(o,g);if((v.childMatchedQueries&c.filterId)===c.filterId&&(BC(o,g+1,g+v.childCount,c,h),g+=v.childCount),16777216&v.flags){const x=D.viewContainer._embeddedViews;for(let k=0;k<x.length;k++){const U=x[k],q=cw(U);q&&q===D&&BC(U,0,U.def.nodes.length-1,c,h)}}const S=D.template._projectedViews;if(S)for(let x=0;x<S.length;x++){const k=S[x];BC(k,0,k.def.nodes.length-1,c,h)}}(v.childMatchedQueries&c.filterId)!==c.filterId&&(g+=v.childCount)}return h}function gN(o,a,l){if(null!=l)switch(l){case 1:return sn(o,a.nodeIndex).renderElement;case 0:return new Us(sn(o,a.nodeIndex).renderElement);case 2:return sn(o,a.nodeIndex).template;case 3:return sn(o,a.nodeIndex).viewContainer;case 4:return du(o,a.nodeIndex).instance}}function HN(o,a){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:o,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:a}}}function $N(o,a,l){const c=HE(o,a,l);c&&WE(o,l.ngContent.index,1,c,null,void 0)}function WN(o,a){return lA(128,o,Is(a+1))}function GN(o,a){return lA(32,o,Is(a))}function qN(o,a){const l=Object.keys(a),c=l.length,h=[];for(let g=0;g<c;g++){h.push(l[g])}return lA(64,o,h)}function lA(o,a,l){const c=[];for(let h=0;h<l.length;h++){const g=l[h];c.push({flags:8,name:g,ns:null,nonMinifiedName:g,securityContext:null,suffix:null})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:a,flags:o,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:c,bindingFlags:GE(c),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function QN(o,a,l){const c=[];for(let h=1;h<l.length;h++)c[h-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:l[h]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:o,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:a,childCount:0,bindings:c,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:l[0]},query:null,ngContent:null}}function YN(o,a,l){let c;const h=o.renderer;c=h.createText(l.text.prefix);const g=HE(o,a,l);return g&&h.appendChild(g,c),{renderText:c}}function _u(o,a){return(null!=o?o.toString():"")+a.suffix}function eR(o,a,l,c){let h=0,g=0,v=0,C=0,D=0,S=null,x=null,k=!1,U=!1,q=null;for(let _e=0;_e<a.length;_e++){const ae=a[_e];if(ae.nodeIndex=_e,ae.parent=S,ae.bindingIndex=h,ae.outputIndex=g,ae.renderParent=x,v|=ae.flags,D|=ae.matchedQueryIds,ae.element){const je=ae.element;je.publicProviders=S?S.element.publicProviders:Object.create(null),je.allProviders=je.publicProviders,k=!1,U=!1,ae.element.template&&(D|=ae.element.template.nodeMatchedQueries)}if(tR(S,ae,a.length),h+=ae.bindings.length,g+=ae.outputs.length,!x&&3&ae.flags&&(q=ae),20224&ae.flags){k||(k=!0,S.element.publicProviders=Object.create(S.element.publicProviders),S.element.allProviders=S.element.publicProviders);const Ne=0!=(32768&ae.flags);0==(8192&ae.flags)||Ne?S.element.publicProviders[Yr(ae.provider.token)]=ae:(U||(U=!0,S.element.allProviders=Object.create(S.element.publicProviders)),S.element.allProviders[Yr(ae.provider.token)]=ae),Ne&&(S.element.componentProvider=ae)}if(S?(S.childFlags|=ae.flags,S.directChildFlags|=ae.flags,S.childMatchedQueries|=ae.matchedQueryIds,ae.element&&ae.element.template&&(S.childMatchedQueries|=ae.element.template.nodeMatchedQueries)):C|=ae.flags,ae.childCount>0)S=ae,mN(ae)||(x=ae);else for(;S&&_e===S.nodeIndex+S.childCount;){const je=S.parent;je&&(je.childFlags|=S.childFlags,je.childMatchedQueries|=S.childMatchedQueries),S=je,x=S&&mN(S)?S.renderParent:S}}return{factory:null,nodeFlags:v,rootNodeFlags:C,nodeMatchedQueries:D,flags:o,nodes:a,updateDirectives:l||bi,updateRenderer:c||bi,handleEvent:(_e,ae,je,Ne)=>a[ae].element.handleEvent(_e,je,Ne),bindingCount:h,outputCount:g,lastRenderRootNode:q}}function mN(o){return 0!=(1&o.flags)&&null===o.element.name}function tR(o,a,l){const c=a.element&&a.element.template;if(c){if(!c.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(c.lastRenderRootNode&&16777216&c.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${a.nodeIndex}!`)}if(20224&a.flags&&0==(1&(o?o.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${a.nodeIndex}!`);if(a.query){if(67108864&a.flags&&(!o||0==(16384&o.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${a.nodeIndex}!`);if(134217728&a.flags&&o)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${a.nodeIndex}!`)}if(a.childCount){const h=o?o.nodeIndex+o.childCount:l-1;if(a.nodeIndex<=h&&a.nodeIndex+a.childCount>h)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${a.nodeIndex}!`)}}function yN(o,a,l,c){const h=cA(o.root,o.renderer,o,a,l);return dA(h,o.component,c),hA(h),h}function _N(o,a,l){const c=cA(o,o.renderer,null,null,a);return dA(c,l,l),hA(c),c}function vN(o,a,l,c){const h=a.element.componentRendererType;let g;return g=h?o.root.rendererFactory.createRenderer(c,h):o.root.renderer,cA(o.root,g,o,a.element.componentProvider,l)}function cA(o,a,l,c,h){const g=new Array(h.nodes.length),v=h.outputCount?new Array(h.outputCount):null;return{def:h,parent:l,viewContainerParent:null,parentNodeDef:c,context:null,component:null,nodes:g,state:13,root:o,renderer:a,oldValues:new Array(h.bindingCount),disposables:v,initIndex:-1}}function dA(o,a,l){o.component=a,o.context=l}function hA(o){let a;Yc(o)&&(a=sn(o.parent,o.parentNodeDef.parent.nodeIndex).renderElement);const l=o.def,c=o.nodes;for(let h=0;h<l.nodes.length;h++){const g=l.nodes[h];let v;switch(Ct.setCurrentNode(o,h),201347067&g.flags){case 1:const C=Sn(o,a,g);let D;if(33554432&g.flags){const S=$h(g.element.componentView);D=Ct.createComponentView(o,g,S,C)}$t(o,D,g,C),v={renderElement:C,componentView:D,viewContainer:null,template:g.element.template?YA(o,g):void 0},16777216&g.flags&&(v.viewContainer=iS(o,g,v));break;case 2:v=YN(o,a,g);break;case 512:case 1024:case 2048:case 256:v=c[h],!v&&!(4096&g.flags)&&(v={instance:dS(o,g)});break;case 16:v={instance:Rw(o,g)};break;case 16384:v=c[h],v||(v={instance:hS(o,g)}),32768&g.flags&&dA(sn(o,g.parent.nodeIndex).componentView,v.instance,v.instance);break;case 32:case 64:case 128:v={value:void 0};break;case 67108864:case 134217728:v=UN(-2147483648==(-2147483648&g.flags));break;case 8:$N(o,a,g),v=void 0}c[h]=v}HC(o,vn.CreateViewNodes),pA(o,201326592,268435456,0)}function aD(o){CN(o),Ct.updateDirectives(o,1),lD(o,vn.CheckNoChanges),Ct.updateRenderer(o,1),HC(o,vn.CheckNoChanges),o.state&=-97}function uD(o){1&o.state?(o.state&=-2,o.state|=2):o.state&=-3,Kc(o,0,256),CN(o),Ct.updateDirectives(o,0),lD(o,vn.CheckAndUpdate),pA(o,67108864,536870912,0);let a=Kc(o,256,512);eC(o,2097152|(a?1048576:0)),Ct.updateRenderer(o,0),HC(o,vn.CheckAndUpdate),pA(o,134217728,536870912,0),a=Kc(o,512,768),eC(o,8388608|(a?4194304:0)),2&o.def.flags&&(o.state&=-9),o.state&=-97,Kc(o,768,1024)}function EN(o,a,l,c,h,g,v,C,D,S,x,k,U){return 0===l?function(o,a,l,c,h,g,v,C,D,S,x,k){switch(201347067&a.flags){case 1:return function(o,a,l,c,h,g,v,C,D,S,x,k){const U=a.bindings.length;let q=!1;return U>0&&yu(o,a,0,l)&&(q=!0),U>1&&yu(o,a,1,c)&&(q=!0),U>2&&yu(o,a,2,h)&&(q=!0),U>3&&yu(o,a,3,g)&&(q=!0),U>4&&yu(o,a,4,v)&&(q=!0),U>5&&yu(o,a,5,C)&&(q=!0),U>6&&yu(o,a,6,D)&&(q=!0),U>7&&yu(o,a,7,S)&&(q=!0),U>8&&yu(o,a,8,x)&&(q=!0),U>9&&yu(o,a,9,k)&&(q=!0),q}(o,a,l,c,h,g,v,C,D,S,x,k);case 2:return function(o,a,l,c,h,g,v,C,D,S,x,k){let U=!1;const q=a.bindings,X=q.length;if(X>0&&hr(o,a,0,l)&&(U=!0),X>1&&hr(o,a,1,c)&&(U=!0),X>2&&hr(o,a,2,h)&&(U=!0),X>3&&hr(o,a,3,g)&&(U=!0),X>4&&hr(o,a,4,v)&&(U=!0),X>5&&hr(o,a,5,C)&&(U=!0),X>6&&hr(o,a,6,D)&&(U=!0),X>7&&hr(o,a,7,S)&&(U=!0),X>8&&hr(o,a,8,x)&&(U=!0),X>9&&hr(o,a,9,k)&&(U=!0),U){let _e=a.text.prefix;X>0&&(_e+=_u(l,q[0])),X>1&&(_e+=_u(c,q[1])),X>2&&(_e+=_u(h,q[2])),X>3&&(_e+=_u(g,q[3])),X>4&&(_e+=_u(v,q[4])),X>5&&(_e+=_u(C,q[5])),X>6&&(_e+=_u(D,q[6])),X>7&&(_e+=_u(S,q[7])),X>8&&(_e+=_u(x,q[8])),X>9&&(_e+=_u(k,q[9]));const ae=Bp(o,a.nodeIndex).renderText;o.renderer.setValue(ae,_e)}return U}(o,a,l,c,h,g,v,C,D,S,x,k);case 16384:return function(o,a,l,c,h,g,v,C,D,S,x,k){const U=du(o,a.nodeIndex),q=U.instance;let _e,X=!1;const ae=a.bindings.length;return ae>0&&Co(o,a,0,l)&&(X=!0,_e=er(o,U,a,0,l,_e)),ae>1&&Co(o,a,1,c)&&(X=!0,_e=er(o,U,a,1,c,_e)),ae>2&&Co(o,a,2,h)&&(X=!0,_e=er(o,U,a,2,h,_e)),ae>3&&Co(o,a,3,g)&&(X=!0,_e=er(o,U,a,3,g,_e)),ae>4&&Co(o,a,4,v)&&(X=!0,_e=er(o,U,a,4,v,_e)),ae>5&&Co(o,a,5,C)&&(X=!0,_e=er(o,U,a,5,C,_e)),ae>6&&Co(o,a,6,D)&&(X=!0,_e=er(o,U,a,6,D,_e)),ae>7&&Co(o,a,7,S)&&(X=!0,_e=er(o,U,a,7,S,_e)),ae>8&&Co(o,a,8,x)&&(X=!0,_e=er(o,U,a,8,x,_e)),ae>9&&Co(o,a,9,k)&&(X=!0,_e=er(o,U,a,9,k,_e)),_e&&q.ngOnChanges(_e),65536&a.flags&&cu(o,256,a.nodeIndex)&&q.ngOnInit(),262144&a.flags&&q.ngDoCheck(),X}(o,a,l,c,h,g,v,C,D,S,x,k);case 32:case 64:case 128:return function(o,a,l,c,h,g,v,C,D,S,x,k){const U=a.bindings;let q=!1;const X=U.length;if(X>0&&hr(o,a,0,l)&&(q=!0),X>1&&hr(o,a,1,c)&&(q=!0),X>2&&hr(o,a,2,h)&&(q=!0),X>3&&hr(o,a,3,g)&&(q=!0),X>4&&hr(o,a,4,v)&&(q=!0),X>5&&hr(o,a,5,C)&&(q=!0),X>6&&hr(o,a,6,D)&&(q=!0),X>7&&hr(o,a,7,S)&&(q=!0),X>8&&hr(o,a,8,x)&&(q=!0),X>9&&hr(o,a,9,k)&&(q=!0),q){const _e=Il(o,a.nodeIndex);let ae;switch(201347067&a.flags){case 32:ae=[],X>0&&ae.push(l),X>1&&ae.push(c),X>2&&ae.push(h),X>3&&ae.push(g),X>4&&ae.push(v),X>5&&ae.push(C),X>6&&ae.push(D),X>7&&ae.push(S),X>8&&ae.push(x),X>9&&ae.push(k);break;case 64:ae={},X>0&&(ae[U[0].name]=l),X>1&&(ae[U[1].name]=c),X>2&&(ae[U[2].name]=h),X>3&&(ae[U[3].name]=g),X>4&&(ae[U[4].name]=v),X>5&&(ae[U[5].name]=C),X>6&&(ae[U[6].name]=D),X>7&&(ae[U[7].name]=S),X>8&&(ae[U[8].name]=x),X>9&&(ae[U[9].name]=k);break;case 128:const je=l;switch(X){case 1:ae=je.transform(l);break;case 2:ae=je.transform(c);break;case 3:ae=je.transform(c,h);break;case 4:ae=je.transform(c,h,g);break;case 5:ae=je.transform(c,h,g,v);break;case 6:ae=je.transform(c,h,g,v,C);break;case 7:ae=je.transform(c,h,g,v,C,D);break;case 8:ae=je.transform(c,h,g,v,C,D,S);break;case 9:ae=je.transform(c,h,g,v,C,D,S,x);break;case 10:ae=je.transform(c,h,g,v,C,D,S,x,k)}}_e.value=ae}return q}(o,a,l,c,h,g,v,C,D,S,x,k);default:throw"unreachable"}}(o,a,c,h,g,v,C,D,S,x,k,U):function(o,a,l){switch(201347067&a.flags){case 1:return function(o,a,l){let c=!1;for(let h=0;h<l.length;h++)yu(o,a,h,l[h])&&(c=!0);return c}(o,a,l);case 2:return function(o,a,l){const c=a.bindings;let h=!1;for(let g=0;g<l.length;g++)hr(o,a,g,l[g])&&(h=!0);if(h){let g="";for(let C=0;C<l.length;C++)g+=_u(l[C],c[C]);g=a.text.prefix+g;const v=Bp(o,a.nodeIndex).renderText;o.renderer.setValue(v,g)}return h}(o,a,l);case 16384:return function(o,a,l){const c=du(o,a.nodeIndex),h=c.instance;let v,g=!1;for(let C=0;C<l.length;C++)Co(o,a,C,l[C])&&(g=!0,v=er(o,c,a,C,l[C],v));return v&&h.ngOnChanges(v),65536&a.flags&&cu(o,256,a.nodeIndex)&&h.ngOnInit(),262144&a.flags&&h.ngDoCheck(),g}(o,a,l);case 32:case 64:case 128:return function(o,a,l){const c=a.bindings;let h=!1;for(let g=0;g<l.length;g++)hr(o,a,g,l[g])&&(h=!0);if(h){const g=Il(o,a.nodeIndex);let v;switch(201347067&a.flags){case 32:v=l;break;case 64:v={};for(let S=0;S<l.length;S++)v[c[S].name]=l[S];break;case 128:const C=l[0],D=l.slice(1);v=C.transform(...D)}g.value=v}return h}(o,a,l);default:throw"unreachable"}}(o,a,c)}function CN(o){const a=o.def;if(4&a.nodeFlags)for(let l=0;l<a.nodes.length;l++){const c=a.nodes[l];if(4&c.flags){const h=sn(o,l).template._projectedViews;if(h)for(let g=0;g<h.length;g++){const v=h[g];v.state|=32,uw(v,o)}}else 0==(4&c.childFlags)&&(l+=c.childCount)}}function IN(o,a,l,c,h,g,v,C,D,S,x,k,U){return 0===l?function(o,a,l,c,h,g,v,C,D,S,x,k){const U=a.bindings.length;U>0&&ga(o,a,0,l),U>1&&ga(o,a,1,c),U>2&&ga(o,a,2,h),U>3&&ga(o,a,3,g),U>4&&ga(o,a,4,v),U>5&&ga(o,a,5,C),U>6&&ga(o,a,6,D),U>7&&ga(o,a,7,S),U>8&&ga(o,a,8,x),U>9&&ga(o,a,9,k)}(o,a,c,h,g,v,C,D,S,x,k,U):function(o,a,l){for(let c=0;c<l.length;c++)ga(o,a,c,l[c])}(o,a,c),!1}function oR(o,a){if(jh(o,a.nodeIndex).dirty)throw iw(Ct.createDebugContext(o,a.nodeIndex),`Query ${a.query.id} not dirty`,`Query ${a.query.id} dirty`,0!=(1&o.state))}function fA(o){if(!(128&o.state)){if(lD(o,vn.Destroy),HC(o,vn.Destroy),eC(o,131072),o.disposables)for(let a=0;a<o.disposables.length;a++)o.disposables[a]();(function(o){if(!(16&o.state))return;const a=cw(o);if(a){const l=a.template._projectedViews;l&&(yi(l,l.indexOf(o)),Ct.dirtyParentQueries(o))}})(o),o.renderer.destroyNode&&function(o){const a=o.def.nodes.length;for(let l=0;l<a;l++){const c=o.def.nodes[l];1&c.flags?o.renderer.destroyNode(sn(o,l).renderElement):2&c.flags?o.renderer.destroyNode(Bp(o,l).renderText):(67108864&c.flags||134217728&c.flags)&&jh(o,l).destroy()}}(o),Yc(o)&&o.renderer.destroy(),o.state|=128}}var vn=(()=>((vn=vn||{})[vn.CreateViewNodes=0]="CreateViewNodes",vn[vn.CheckNoChanges=1]="CheckNoChanges",vn[vn.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",vn[vn.CheckAndUpdate=3]="CheckAndUpdate",vn[vn.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",vn[vn.Destroy=5]="Destroy",vn))();function HC(o,a){const l=o.def;if(33554432&l.nodeFlags)for(let c=0;c<l.nodes.length;c++){const h=l.nodes[c];33554432&h.flags?wN(sn(o,c).componentView,a):0==(33554432&h.childFlags)&&(c+=h.childCount)}}function lD(o,a){const l=o.def;if(16777216&l.nodeFlags)for(let c=0;c<l.nodes.length;c++){const h=l.nodes[c];if(16777216&h.flags){const g=sn(o,c).viewContainer._embeddedViews;for(let v=0;v<g.length;v++)wN(g[v],a)}else 0==(16777216&h.childFlags)&&(c+=h.childCount)}}function wN(o,a){const l=o.state;switch(a){case vn.CheckNoChanges:0==(128&l)&&(12==(12&l)?aD(o):64&l&&cD(o,vn.CheckNoChangesProjectedViews));break;case vn.CheckNoChangesProjectedViews:0==(128&l)&&(32&l?aD(o):64&l&&cD(o,a));break;case vn.CheckAndUpdate:0==(128&l)&&(12==(12&l)?uD(o):64&l&&cD(o,vn.CheckAndUpdateProjectedViews));break;case vn.CheckAndUpdateProjectedViews:0==(128&l)&&(32&l?uD(o):64&l&&cD(o,a));break;case vn.Destroy:fA(o);break;case vn.CreateViewNodes:hA(o)}}function cD(o,a){lD(o,a),HC(o,a)}function pA(o,a,l,c){if(!(o.def.nodeFlags&a&&o.def.nodeFlags&l))return;const h=o.def.nodes.length;for(let g=0;g<h;g++){const v=o.def.nodes[g];if(v.flags&a&&v.flags&l)switch(Ct.setCurrentNode(o,v.nodeIndex),c){case 0:BN(o,v);break;case 1:oR(o,v)}(!(v.childFlags&a)||!(v.childFlags&l))&&(g+=v.childCount)}}let bN=!1;function $C(){if(bN)return;bN=!0;const o=$s()?{setCurrentNode:Zy,createRootView:dR,createEmbeddedView:hR,createComponentView:fR,createNgModuleRef:pR,overrideProvider:gR,overrideComponentView:mR,clearOverrides:yR,checkAndUpdateView:vR,checkNoChangesView:ER,destroyView:CR,createDebugContext:(o,a)=>new yA(o,a),handleEvent:IR,updateDirectives:wR,updateRenderer:bR}:{setCurrentNode:()=>{},createRootView:cR,createEmbeddedView:yN,createComponentView:vN,createNgModuleRef:sS,overrideProvider:bi,overrideComponentView:bi,clearOverrides:bi,checkAndUpdateView:uD,checkNoChangesView:aD,destroyView:fA,createDebugContext:(o,a)=>new yA(o,a),handleEvent:(o,a,l,c)=>o.def.handleEvent(o,a,l,c),updateDirectives:(o,a)=>o.def.updateDirectives(0===a?TN:SN,o),updateRenderer:(o,a)=>o.def.updateRenderer(0===a?TN:SN,o)};Ct.setCurrentNode=o.setCurrentNode,Ct.createRootView=o.createRootView,Ct.createEmbeddedView=o.createEmbeddedView,Ct.createComponentView=o.createComponentView,Ct.createNgModuleRef=o.createNgModuleRef,Ct.overrideProvider=o.overrideProvider,Ct.overrideComponentView=o.overrideComponentView,Ct.clearOverrides=o.clearOverrides,Ct.checkAndUpdateView=o.checkAndUpdateView,Ct.checkNoChangesView=o.checkNoChangesView,Ct.destroyView=o.destroyView,Ct.resolveDep=hi,Ct.createDebugContext=o.createDebugContext,Ct.handleEvent=o.handleEvent,Ct.updateDirectives=o.updateDirectives,Ct.updateRenderer=o.updateRenderer,Ct.dirtyParentQueries=jN}function cR(o,a,l,c,h,g){const v=h.injector.get(Op);return _N(DN(o,h,v,a,l),c,g)}function dR(o,a,l,c,h,g){const v=h.injector.get(Op),C=DN(o,h,new SR(v),a,l),D=mA(c);return ug(Sr.create,_N,null,[C,D,g])}function DN(o,a,l,c,h){const g=a.injector.get(ry),v=a.injector.get(He),C=l.createRenderer(null,null);return{ngModule:a,injector:o,projectableNodes:c,selectorOrNode:h,sanitizer:g,rendererFactory:l,renderer:C,errorHandler:v}}function hR(o,a,l,c){const h=mA(l);return ug(Sr.create,yN,null,[o,a,h,c])}function fR(o,a,l,c){return l=gA.get(a.element.componentProvider.provider.token)||mA(l),ug(Sr.create,vN,null,[o,a,l,c])}function pR(o,a,l,c){const h=function(o){const{hasOverrides:a,hasDeprecatedOverrides:l}=function(g){let v=!1,C=!1;return 0===rf.size||(g.providers.forEach(D=>{const S=rf.get(D.token);3840&D.flags&&S&&(v=!0,C=C||S.deprecatedBehavior)}),g.modules.forEach(D=>{WC.forEach((S,x)=>{re(Gn(x).providedIn)===D&&(v=!0,C=C||S.deprecatedBehavior)})})),{hasOverrides:v,hasDeprecatedOverrides:C}}(o);return a?(function(g){for(let v=0;v<g.providers.length;v++){const C=g.providers[v];l&&(C.flags|=4096);const D=rf.get(C.token);D&&(C.flags=-3841&C.flags|D.flags,C.deps=Hh(D.deps),C.value=D.value)}if(WC.size>0){let v=new Set(g.modules);WC.forEach((C,D)=>{if(v.has(re(Gn(D).providedIn))){let S={token:D,flags:C.flags|(l?4096:0),deps:Hh(C.deps),value:C.value,index:g.providers.length};g.providers.push(S),g.providersByKey[Yr(D)]=S}})}}(o=o.factory(()=>bi)),o):o}(c);return sS(o,a,l,h)}const rf=new Map,WC=new Map,gA=new Map;function gR(o){let a;rf.set(o.token,o),"function"==typeof o.token&&(a=Gn(o.token))&&"function"==typeof a.providedIn&&WC.set(o.token,o)}function mR(o,a){const l=$h(Gp(a)),c=$h(l.nodes[0].element.componentView);gA.set(o,c)}function yR(){rf.clear(),WC.clear(),gA.clear()}function mA(o){if(0===rf.size)return o;const a=function(h){const g=[];let v=null;for(let C=0;C<h.nodes.length;C++){const D=h.nodes[C];1&D.flags&&(v=D),v&&3840&D.flags&&rf.has(D.provider.token)&&(g.push(v.nodeIndex),v=null)}return g}(o);if(0===a.length)return o;o=o.factory(()=>bi);for(let h=0;h<a.length;h++)c(o,a[h]);return o;function c(h,g){for(let v=g+1;v<h.nodes.length;v++){const C=h.nodes[v];if(1&C.flags)return;if(3840&C.flags){const D=C.provider,S=rf.get(D.token);S&&(C.flags=-3841&C.flags|S.flags,D.deps=Hh(S.deps),D.value=S.value)}}}}function TN(o,a,l,c,h,g,v,C,D,S,x,k,U){const q=o.def.nodes[a];return EN(o,q,l,c,h,g,v,C,D,S,x,k,U),224&q.flags?Il(o,a).value:void 0}function SN(o,a,l,c,h,g,v,C,D,S,x,k,U){const q=o.def.nodes[a];return IN(o,q,l,c,h,g,v,C,D,S,x,k,U),224&q.flags?Il(o,a).value:void 0}function vR(o){return ug(Sr.detectChanges,uD,null,[o])}function ER(o){return ug(Sr.checkNoChanges,aD,null,[o])}function CR(o){return ug(Sr.destroy,fA,null,[o])}var Sr=(()=>((Sr=Sr||{})[Sr.create=0]="create",Sr[Sr.detectChanges=1]="detectChanges",Sr[Sr.checkNoChanges=2]="checkNoChanges",Sr[Sr.destroy=3]="destroy",Sr[Sr.handleEvent=4]="handleEvent",Sr))();let GC,Ky,dD;function Zy(o,a){Ky=o,dD=a}function IR(o,a,l,c){return Zy(o,a),ug(Sr.handleEvent,o.def.handleEvent,null,[o,a,l,c])}function wR(o,a){if(128&o.state)throw Uh(Sr[GC]);return Zy(o,RN(o,0)),o.def.updateDirectives(function(c,h,g,...v){const C=c.def.nodes[h];return 0===a?AN(c,C,g,v):NN(c,C,g,v),16384&C.flags&&Zy(c,RN(c,h)),224&C.flags?Il(c,C.nodeIndex).value:void 0},o)}function bR(o,a){if(128&o.state)throw Uh(Sr[GC]);return Zy(o,xN(o,0)),o.def.updateRenderer(function(c,h,g,...v){const C=c.def.nodes[h];return 0===a?AN(c,C,g,v):NN(c,C,g,v),3&C.flags&&Zy(c,xN(c,h)),224&C.flags?Il(c,C.nodeIndex).value:void 0},o)}function AN(o,a,l,c){if(EN(o,a,l,...c)){const g=1===l?c[0]:c;if(16384&a.flags){const v={};for(let S=0;S<a.bindings.length;S++){const x=a.bindings[S],k=g[S];8&x.flags&&(v[nh(x.nonMinifiedName)]=Ns(k))}const C=a.parent,D=sn(o,C.nodeIndex).renderElement;if(C.element.name)for(let S in v){const x=v[S];null!=x?o.renderer.setAttribute(D,S,x):o.renderer.removeAttribute(D,S)}else o.renderer.setValue(D,As(`bindings=${JSON.stringify(v,null,2)}`))}}}function NN(o,a,l,c){IN(o,a,l,...c)}function RN(o,a){for(let l=a;l<o.def.nodes.length;l++){const c=o.def.nodes[l];if(16384&c.flags&&c.bindings&&c.bindings.length)return l}return null}function xN(o,a){for(let l=a;l<o.def.nodes.length;l++){const c=o.def.nodes[l];if(3&c.flags&&c.bindings&&c.bindings.length)return l}return null}class yA{constructor(a,l){this.view=a,this.nodeIndex=l,null==l&&(this.nodeIndex=l=0),this.nodeDef=a.def.nodes[l];let c=this.nodeDef,h=a;for(;c&&0==(1&c.flags);)c=c.parent;if(!c)for(;!c&&h;)c=Zc(h),h=h.parent;this.elDef=c,this.elView=h}get elOrCompView(){return sn(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return Sw(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const a=[];if(this.elDef)for(let l=this.elDef.nodeIndex+1;l<=this.elDef.nodeIndex+this.elDef.childCount;l++){const c=this.elView.def.nodes[l];20224&c.flags&&a.push(c.provider.token),l+=c.childCount}return a}get references(){const a={};if(this.elDef){MN(this.elView,this.elDef,a);for(let l=this.elDef.nodeIndex+1;l<=this.elDef.nodeIndex+this.elDef.childCount;l++){const c=this.elView.def.nodes[l];20224&c.flags&&MN(this.elView,c,a),l+=c.childCount}}return a}get componentRenderElement(){const a=function(o){for(;o&&!Yc(o);)o=o.parent;return o.parent?sn(o.parent,Zc(o).nodeIndex):null}(this.elOrCompView);return a?a.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Io(this.view,this.nodeDef):Io(this.elView,this.elDef)}logError(a,...l){let c,h;2&this.nodeDef.flags?(c=this.view.def,h=this.nodeDef.nodeIndex):(c=this.elView.def,h=this.elDef.nodeIndex);const g=function(o,a){let l=-1;for(let c=0;c<=a;c++)3&o.nodes[c].flags&&l++;return l}(c,h);let v=-1;c.factory(()=>(v++,v===g?a.error.bind(a,...l):bi)),v<g&&(a.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),a.error(...l))}}function MN(o,a,l){for(let c in a.references)l[c]=gN(o,a,a.references[c])}function ug(o,a,l,c){const h=GC,g=Ky,v=dD;try{GC=o;const C=a.apply(l,c);return Ky=g,dD=v,GC=h,C}catch(C){throw function(o){return!!M(o)}(C)||!Ky?C:function(o,a){return o instanceof Error||(o=new Error(o.toString())),jp(o,a),o}(C,_A())}}function _A(){return Ky?new yA(Ky,dD):null}class SR{constructor(a){this.delegate=a}createRenderer(a,l){return new AR(this.delegate.createRenderer(a,l))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class AR{constructor(a){this.delegate=a,this.debugContextFactory=_A,this.data=this.delegate.data}createDebugContext(a){return this.debugContextFactory(a)}destroyNode(a){const l=Vr(a);l&&(qy.delete(l.nativeNode),l instanceof ig&&(l.listeners.length=0)),this.delegate.destroyNode&&this.delegate.destroyNode(a)}destroy(){this.delegate.destroy()}createElement(a,l){const c=this.delegate.createElement(a,l),h=this.createDebugContext(c);if(h){const g=new Lr(c,null,h);g.name=a,i(g)}return c}createComment(a){const l=this.delegate.createComment(As(a)),c=this.createDebugContext(l);return c&&i(new ig(l,null,c)),l}createText(a){const l=this.delegate.createText(a),c=this.createDebugContext(l);return c&&i(new ig(l,null,c)),l}appendChild(a,l){const c=Vr(a),h=Vr(l);c&&h&&c instanceof Lr&&c.addChild(h),this.delegate.appendChild(a,l)}insertBefore(a,l,c,h){const g=Vr(a),v=Vr(l),C=Vr(c);g&&v&&g instanceof Lr&&g.insertBefore(C,v),this.delegate.insertBefore(a,l,c,h)}removeChild(a,l){const c=Vr(a),h=Vr(l);c&&h&&c instanceof Lr&&c.removeChild(h),this.delegate.removeChild(a,l)}selectRootElement(a,l){const c=this.delegate.selectRootElement(a,l),h=_A();return h&&i(new Lr(c,null,h)),c}setAttribute(a,l,c,h){const g=Vr(a);g&&g instanceof Lr&&(g.attributes[h?h+":"+l:l]=c),this.delegate.setAttribute(a,l,c,h)}removeAttribute(a,l,c){const h=Vr(a);h&&h instanceof Lr&&(h.attributes[c?c+":"+l:l]=null),this.delegate.removeAttribute(a,l,c)}addClass(a,l){const c=Vr(a);c&&c instanceof Lr&&(c.classes[l]=!0),this.delegate.addClass(a,l)}removeClass(a,l){const c=Vr(a);c&&c instanceof Lr&&(c.classes[l]=!1),this.delegate.removeClass(a,l)}setStyle(a,l,c,h){const g=Vr(a);g&&g instanceof Lr&&(g.styles[l]=c),this.delegate.setStyle(a,l,c,h)}removeStyle(a,l,c){const h=Vr(a);h&&h instanceof Lr&&(h.styles[l]=null),this.delegate.removeStyle(a,l,c)}setProperty(a,l,c){const h=Vr(a);h&&h instanceof Lr&&(h.properties[l]=c),this.delegate.setProperty(a,l,c)}listen(a,l,c){if("string"!=typeof a){const h=Vr(a);h&&h.listeners.push(new rD(l,c))}return this.delegate.listen(a,l,c)}parentNode(a){return this.delegate.parentNode(a)}nextSibling(a){return this.delegate.nextSibling(a)}setValue(a,l){return this.delegate.setValue(a,l)}}function NR(o){return $C(),Ct.overrideProvider(o)}function RR(o,a){return $C(),Ct.overrideComponentView(o,a)}function xR(){return $C(),Ct.clearOverrides()}function MR(o,a,l){return new PR(o,a,l)}class PR extends Vp{constructor(a,l,c){super(),this.moduleType=a,this._bootstrapComponents=l,this._ngModuleDefFactory=c}create(a){$C();const l=function(o){const a=Array.from(o.providers),l=Array.from(o.modules),c={};for(const h in o.providersByKey)c[h]=o.providersByKey[h];return{factory:o.factory,scope:o.scope,providers:a,modules:l,providersByKey:c}}($h(this._ngModuleDefFactory));return Ct.createNgModuleRef(this.moduleType,a||Yt.NULL,this._bootstrapComponents,l)}}function kR(o){return Jn().compileDirectiveDeclaration(tr,`ng:///${o.type.name}/\u0275fac.js`,o)}function FR(o){var a,l;Fw(o.type,o.decorators,null!==(a=o.ctorParameters)&&void 0!==a?a:null,null!==(l=o.propDecorators)&&void 0!==l?l:null)}function LR(o){return Jn().compileComponentDeclaration(tr,`ng:///${o.type.name}/\u0275cmp.js`,o)}function VR(o){return Jn(function(o){switch(o){case Yn.Directive:return"directive";case Yn.Component:return"component";case Yn.Injectable:return"injectable";case Yn.Pipe:return"pipe";case Yn.NgModule:;}}(o.target)).compileFactoryDeclaration(tr,`ng:///${o.type.name}/\u0275fac.js`,o)}function jR(o){return Jn().compileInjectableDeclaration(tr,`ng:///${o.type.name}/\u0275prov.js`,o)}function BR(o){return Jn().compileInjectorDeclaration(tr,`ng:///${o.type.name}/\u0275inj.js`,o)}function HR(o){return Jn().compileNgModuleDeclaration(tr,`ng:///${o.type.name}/\u0275mod.js`,o)}function $R(o){return Jn().compilePipeDeclaration(tr,`ng:///${o.type.name}/\u0275pipe.js`,o)}},8939:(Je,Te,j)=>{"use strict";j.d(Te,{hO:()=>G,xv:()=>J,Dh:()=>Ee,GT:()=>ce,on:()=>B,pX:()=>he});var T=j(3018),y=j(7841),K=j(9126);Je=j.hmd(Je);const le=["ngOnDestroy"],he=(z,te,ne,re={})=>new Proxy(z,{get:(Me,Ae)=>ne.runOutsideAngular(()=>{var Oe;if(z[Ae])return(null===(Oe=null==re?void 0:re.spy)||void 0===Oe?void 0:Oe.get)&&re.spy.get(Ae,z[Ae]),z[Ae];if(le.indexOf(Ae)>-1)return()=>{};const Be=te.toPromise().then(qe=>{const $e=qe&&qe[Ae];return"function"==typeof $e?$e.bind(qe):$e&&$e.then?$e.then(Ce=>ne.run(()=>Ce)):ne.run(()=>$e)});return new Proxy(()=>{},{get:(qe,$e)=>Be[$e],apply:(qe,$e,Ce)=>Be.then(Ht=>{var vt;const ve=Ht&&Ht(...Ce);return(null===(vt=null==re?void 0:re.spy)||void 0===vt?void 0:vt.apply)&&re.spy.apply(Ae,Ce,ve),ve})})})}),ce=(z,te)=>{te.forEach(ne=>{Object.getOwnPropertyNames(ne.prototype||ne).forEach(re=>{Object.defineProperty(z.prototype,re,Object.getOwnPropertyDescriptor(ne.prototype||ne,re))})})};class Se{constructor(te){return te}}const Ee=new T.InjectionToken("angularfire2.app.options"),J=new T.InjectionToken("angularfire2.app.name");function B(z,te,ne){const Me="object"==typeof ne&&ne||{};Me.name=Me.name||"string"==typeof ne&&ne||"[DEFAULT]";const Oe=y.Z.apps.filter(Be=>Be&&Be.name===Me.name)[0]||te.runOutsideAngular(()=>y.Z.initializeApp(z,Me));try{JSON.stringify(z)!==JSON.stringify(Oe.options)&&$("error",`${Oe.name} Firebase App already initialized with different options${Je.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Be){}return new Se(Oe)}const $=(z,...te)=>{(0,T.isDevMode)()&&"undefined"!=typeof console&&console[z](...te)},Z={provide:Se,useFactory:B,deps:[Ee,T.NgZone,[new T.Optional,J]]};let G=(()=>{class z{constructor(ne){y.Z.registerVersion("angularfire",K.q4.full,"core"),y.Z.registerVersion("angularfire",K.q4.full,"app-compat"),y.Z.registerVersion("angular",T.VERSION.full,ne.toString())}static initializeApp(ne,re){return{ngModule:z,providers:[{provide:Ee,useValue:ne},{provide:J,useValue:re}]}}}return z.\u0275fac=function(ne){return new(ne||z)(T.\u0275\u0275inject(T.PLATFORM_ID))},z.\u0275mod=T.\u0275\u0275defineNgModule({type:z}),z.\u0275inj=T.\u0275\u0275defineInjector({providers:[Z]}),z})()},9126:(Je,Te,j)=>{"use strict";j.d(Te,{q4:()=>B,iC:()=>ve,HU:()=>Be,cc:()=>G});var T=j(3018);(0,j(5452).registerVersion)("firebase","9.0.1","app");var he=j(7771),ce=j(3637),Se=j(3342),Ee=j(3101),J=j(309);Je=j.hmd(Je);const B=new T.Version("7.0.4"),$=!!Je.hot,Z=(ge,...se)=>{(0,T.isDevMode)()&&"undefined"!=typeof console&&console[ge](...se)};function G(ge,se,xe,it,Dt){const[,tt,wt]=globalThis.\u0275AngularfireInstanceCache.find(nn=>nn[0]===ge)||[];if(tt)return function(ge,se){try{return ge.toString()===se.toString()}catch(xe){return ge===se}}(Dt,wt)||(Z("error",`${se} was already initialized on the ${xe} Firebase App with different settings.${$?" You may need to reload as Firebase is not HMR aware.":""}`),Z("warn",{is:Dt,was:wt})),tt;{const nn=it();return globalThis.\u0275AngularfireInstanceCache.push([ge,nn,Dt]),nn}}function Me(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Ae{constructor(se,xe=he.N){this.zone=se,this.delegate=xe}now(){return this.delegate.now()}schedule(se,xe,it){const Dt=this.zone;return this.delegate.schedule(function(wt){Dt.runGuarded(()=>{se.apply(this,[wt])})},xe,it)}}class Oe{constructor(se){this.zone=se,this.task=null}call(se,xe){const it=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Me,{},Me,Me)),xe.pipe((0,Se.b)({next:it,complete:it,error:it})).subscribe(se).add(it)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Be=(()=>{class ge{constructor(xe){this.ngZone=xe,this.outsideAngular=xe.runOutsideAngular(()=>new Ae(Zone.current)),this.insideAngular=xe.run(()=>new Ae(Zone.current,ce.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return ge.\u0275fac=function(xe){return new(xe||ge)(T.\u0275\u0275inject(T.NgZone))},ge.\u0275prov=T.\u0275\u0275defineInjectable({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})();function qe(){const ge=globalThis.\u0275AngularFireScheduler;if(!ge)throw new Error("AngularFireModule has not been provided");return ge}function ve(ge){return qe(),function(ge){return function(xe){return(xe=xe.lift(new Oe(ge.ngZone))).pipe((0,Ee.R)(ge.outsideAngular),(0,J.QV)(ge.insideAngular))}}(qe())(ge)}},4486:(Je,Te,j)=>{"use strict";j.d(Te,{Z:()=>ne});var T=j(4685),y=j(6034),K=j(5452),le=j(300);class he{constructor(Me,Ae){this._delegate=Me,this.firebase=Ae,(0,K._addComponent)(Me,new y.wA("app-compat",()=>this,"PUBLIC")),this.container=Me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Me){this._delegate.automaticDataCollectionEnabled=Me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Me=>{this._delegate.checkDestroyed(),Me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,K.deleteApp)(this._delegate)))}_getService(Me,Ae=K._DEFAULT_ENTRY_NAME){var Oe;this._delegate.checkDestroyed();const Be=this._delegate.container.getProvider(Me);return!Be.isInitialized()&&"EXPLICIT"===(null===(Oe=Be.getComponent())||void 0===Oe?void 0:Oe.instantiationMode)&&Be.initialize(),Be.getImmediate({identifier:Ae})}_removeServiceInstance(Me,Ae=K._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Me).clearInstance(Ae)}_addComponent(Me){(0,K._addComponent)(this._delegate,Me)}_addOrOverwriteComponent(Me){(0,K._addOrOverwriteComponent)(this._delegate,Me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Se=new T.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function J(){const re=function(re){const Me={},Ae={__esModule:!0,initializeApp:function(vt,ve={}){const fe=K.initializeApp(vt,ve);if((0,T.r3)(Me,fe.name))return Me[fe.name];const ye=new re(fe,Ae);return Me[fe.name]=ye,ye},app:Be,registerVersion:K.registerVersion,setLogLevel:K.setLogLevel,onLog:K.onLog,apps:null,SDK_VERSION:K.SDK_VERSION,INTERNAL:{registerComponent:function(vt){const ve=vt.name,fe=ve.replace("-compat","");if(K._registerComponent(vt)&&"PUBLIC"===vt.type){const ye=(we=Be())=>{if("function"!=typeof we[fe])throw Se.create("invalid-app-argument",{appName:ve});return we[fe]()};void 0!==vt.serviceProps&&(0,T.ZB)(ye,vt.serviceProps),Ae[fe]=ye,re.prototype[fe]=function(...we){return this._getService.bind(this,ve).apply(this,vt.multipleInstances?we:[])}}return"PUBLIC"===vt.type?Ae[fe]:null},removeApp:function(vt){delete Me[vt]},useAsService:function(vt,ve){return"serverAuth"===ve?null:ve},modularAPIs:K}};function Be(vt){if(!(0,T.r3)(Me,vt=vt||K._DEFAULT_ENTRY_NAME))throw Se.create("no-app",{appName:vt});return Me[vt]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function(){return Object.keys(Me).map(vt=>Me[vt])}}),Be.App=re,Ae}(he);return re.INTERNAL=Object.assign(Object.assign({},re.INTERNAL),{createFirebaseNamespace:J,extendNamespace:function(Ae){(0,T.ZB)(re,Ae)},createSubscribe:T.ne,ErrorFactory:T.LL,deepExtend:T.ZB}),re}(),$=new le.Yd("@firebase/app-compat");if((0,T.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const re=self.firebase.SDK_VERSION;re&&re.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const te=B;(0,K.registerVersion)("@firebase/app-compat","0.1.1",undefined);const ne=te},5452:(Je,Te,j)=>{"use strict";j.r(Te),j.d(Te,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>So,_DEFAULT_ENTRY_NAME:()=>Dt,_addComponent:()=>An,_addOrOverwriteComponent:()=>fi,_apps:()=>wt,_clearComponents:()=>fr,_components:()=>nn,_getProvider:()=>Tt,_registerComponent:()=>cn,_removeServiceInstance:()=>Rt,deleteApp:()=>Gs,getApp:()=>Gn,getApps:()=>Ws,initializeApp:()=>$i,onLog:()=>Nn,registerVersion:()=>Di,setLogLevel:()=>Wr});var T=j(8239),y=j(6034),K=j(300),le=j(4685);class he{constructor(ke){this.container=ke}getPlatformInfoString(){return this.container.getProviders().map(Jt=>{if(function(St){const ke=St.getComponent();return"VERSION"===(null==ke?void 0:ke.type)}(Jt)){const dn=Jt.getImmediate();return`${dn.library}/${dn.version}`}return null}).filter(Jt=>Jt).join(" ")}}const Se="@firebase/app",J=new K.Yd("@firebase/app"),Dt="[DEFAULT]",tt={[Se]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},wt=new Map,nn=new Map;function An(St,ke){try{St.container.addComponent(ke)}catch(Jt){J.debug(`Component ${ke.name} failed to register with FirebaseApp ${St.name}`,Jt)}}function fi(St,ke){St.container.addOrOverwriteComponent(ke)}function cn(St){const ke=St.name;if(nn.has(ke))return J.debug(`There were multiple attempts to register component ${ke}.`),!1;nn.set(ke,St);for(const Jt of wt.values())An(Jt,St);return!0}function Tt(St,ke){return St.container.getProvider(ke)}function Rt(St,ke,Jt=Dt){Tt(St,ke).clearInstance(Jt)}function fr(){nn.clear()}const pr=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class an{constructor(ke,Jt,dn){this._isDeleted=!1,this._options=Object.assign({},ke),this._config=Object.assign({},Jt),this._name=Jt.name,this._automaticDataCollectionEnabled=Jt.automaticDataCollectionEnabled,this._container=dn,this.container.addComponent(new y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ke){this.checkDestroyed(),this._automaticDataCollectionEnabled=ke}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ke){this._isDeleted=ke}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}const So="9.0.0";function $i(St,ke={}){"object"!=typeof ke&&(ke={name:ke});const Jt=Object.assign({name:Dt,automaticDataCollectionEnabled:!1},ke),dn=Jt.name;if("string"!=typeof dn||!dn)throw pr.create("bad-app-name",{appName:String(dn)});const En=wt.get(dn);if(En){if((0,le.vZ)(St,En.options)&&(0,le.vZ)(Jt,En.config))return En;throw pr.create("duplicate-app",{appName:dn})}const Xt=new y.H0(dn);for(const Xe of nn.values())Xt.addComponent(Xe);const Qe=new an(St,Jt,Xt);return wt.set(dn,Qe),Qe}function Gn(St=Dt){const ke=wt.get(St);if(!ke)throw pr.create("no-app",{appName:St});return ke}function Ws(){return Array.from(wt.values())}function Gs(St){return fs.apply(this,arguments)}function fs(){return(fs=(0,T.Z)(function*(St){const ke=St.name;wt.has(ke)&&(wt.delete(ke),yield Promise.all(St.container.getProviders().map(Jt=>Jt.delete())),St.isDeleted=!0)})).apply(this,arguments)}function Di(St,ke,Jt){var dn;let En=null!==(dn=tt[St])&&void 0!==dn?dn:St;Jt&&(En+=`-${Jt}`);const Xt=En.match(/\s|\//),Qe=ke.match(/\s|\//);if(Xt||Qe){const Xe=[`Unable to register library "${En}" with version "${ke}":`];return Xt&&Xe.push(`library name "${En}" contains illegal characters (whitespace or "/")`),Xt&&Qe&&Xe.push("and"),Qe&&Xe.push(`version name "${ke}" contains illegal characters (whitespace or "/")`),void J.warn(Xe.join(" "))}cn(new y.wA(`${En}-version`,()=>({library:En,version:ke}),"VERSION"))}function Nn(St,ke){if(null!==St&&"function"!=typeof St)throw pr.create("invalid-log-argument");(0,K.Am)(St,ke)}function Wr(St){(0,K.Ub)(St)}cn(new y.wA("platform-logger",ke=>new he(ke),"PRIVATE")),Di(Se,"0.7.0",undefined),Di("fire-js","")},6034:(Je,Te,j)=>{"use strict";j.d(Te,{wA:()=>K,H0:()=>Ee});var T=j(4762),y=j(4685),K=function(){function J(B,$,Z){this.name=B,this.instanceFactory=$,this.type=Z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return J.prototype.setInstantiationMode=function(B){return this.instantiationMode=B,this},J.prototype.setMultipleInstances=function(B){return this.multipleInstances=B,this},J.prototype.setServiceProps=function(B){return this.serviceProps=B,this},J.prototype.setInstanceCreatedCallback=function(B){return this.onInstanceCreated=B,this},J}(),le="[DEFAULT]",he=function(){function J(B,$){this.name=B,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return J.prototype.get=function(B){var $=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has($)){var Z=new y.BH;if(this.instancesDeferred.set($,Z),this.isInitialized($)||this.shouldAutoInitialize())try{var G=this.getOrInitializeService({instanceIdentifier:$});G&&Z.resolve(G)}catch(z){}}return this.instancesDeferred.get($).promise},J.prototype.getImmediate=function(B){var $,Z=this.normalizeInstanceIdentifier(null==B?void 0:B.identifier),G=null!==($=null==B?void 0:B.optional)&&void 0!==$&&$;if(!this.isInitialized(Z)&&!this.shouldAutoInitialize()){if(G)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:Z})}catch(z){if(G)return null;throw z}},J.prototype.getComponent=function(){return this.component},J.prototype.setComponent=function(B){var $,Z;if(B.name!==this.name)throw Error("Mismatching Component "+B.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=B,this.shouldAutoInitialize()){if(function(J){return"EAGER"===J.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:le})}catch(Oe){}try{for(var G=(0,T.XA)(this.instancesDeferred.entries()),z=G.next();!z.done;z=G.next()){var te=(0,T.CR)(z.value,2),re=te[1],Me=this.normalizeInstanceIdentifier(te[0]);try{var Ae=this.getOrInitializeService({instanceIdentifier:Me});re.resolve(Ae)}catch(Oe){}}}catch(Oe){$={error:Oe}}finally{try{z&&!z.done&&(Z=G.return)&&Z.call(G)}finally{if($)throw $.error}}}},J.prototype.clearInstance=function(B){void 0===B&&(B=le),this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)},J.prototype.delete=function(){return(0,T.mG)(this,void 0,void 0,function(){var B;return(0,T.Jh)(this,function($){switch($.label){case 0:return B=Array.from(this.instances.values()),[4,Promise.all((0,T.ev)((0,T.ev)([],(0,T.CR)(B.filter(function(Z){return"INTERNAL"in Z}).map(function(Z){return Z.INTERNAL.delete()}))),(0,T.CR)(B.filter(function(Z){return"_delete"in Z}).map(function(Z){return Z._delete()}))))];case 1:return $.sent(),[2]}})})},J.prototype.isComponentSet=function(){return null!=this.component},J.prototype.isInitialized=function(B){return void 0===B&&(B=le),this.instances.has(B)},J.prototype.getOptions=function(B){return void 0===B&&(B=le),this.instancesOptions.get(B)||{}},J.prototype.initialize=function(B){var $,Z;void 0===B&&(B={});var G=B.options,z=void 0===G?{}:G,te=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(te))throw Error(this.name+"("+te+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ne=this.getOrInitializeService({instanceIdentifier:te,options:z});try{for(var re=(0,T.XA)(this.instancesDeferred.entries()),Me=re.next();!Me.done;Me=re.next()){var Ae=(0,T.CR)(Me.value,2),Be=Ae[1];te===this.normalizeInstanceIdentifier(Ae[0])&&Be.resolve(ne)}}catch($e){$={error:$e}}finally{try{Me&&!Me.done&&(Z=re.return)&&Z.call(re)}finally{if($)throw $.error}}return ne},J.prototype.onInit=function(B,$){var Z,G=this.normalizeInstanceIdentifier($),z=null!==(Z=this.onInitCallbacks.get(G))&&void 0!==Z?Z:new Set;z.add(B),this.onInitCallbacks.set(G,z);var te=this.instances.get(G);return te&&B(te,G),function(){z.delete(B)}},J.prototype.invokeOnInitCallbacks=function(B,$){var Z,G,z=this.onInitCallbacks.get($);if(z)try{for(var te=(0,T.XA)(z),ne=te.next();!ne.done;ne=te.next()){var re=ne.value;try{re(B,$)}catch(Me){}}}catch(Me){Z={error:Me}}finally{try{ne&&!ne.done&&(G=te.return)&&G.call(te)}finally{if(Z)throw Z.error}}},J.prototype.getOrInitializeService=function(B){var $=B.instanceIdentifier,Z=B.options,G=void 0===Z?{}:Z,z=this.instances.get($);if(!z&&this.component&&(z=this.component.instanceFactory(this.container,{instanceIdentifier:ce($),options:G}),this.instances.set($,z),this.instancesOptions.set($,G),this.invokeOnInitCallbacks(z,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,z)}catch(te){}return z||null},J.prototype.normalizeInstanceIdentifier=function(B){return void 0===B&&(B=le),this.component?this.component.multipleInstances?B:le:B},J.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},J}();function ce(J){return J===le?void 0:J}var Ee=function(){function J(B){this.name=B,this.providers=new Map}return J.prototype.addComponent=function(B){var $=this.getProvider(B.name);if($.isComponentSet())throw new Error("Component "+B.name+" has already been registered with "+this.name);$.setComponent(B)},J.prototype.addOrOverwriteComponent=function(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)},J.prototype.getProvider=function(B){if(this.providers.has(B))return this.providers.get(B);var $=new he(B,this);return this.providers.set(B,$),$},J.prototype.getProviders=function(){return Array.from(this.providers.values())},J}()},300:(Je,Te,j)=>{"use strict";function T(){for(var Z=0,G=0,z=arguments.length;G<z;G++)Z+=arguments[G].length;var te=Array(Z),ne=0;for(G=0;G<z;G++)for(var re=arguments[G],Me=0,Ae=re.length;Me<Ae;Me++,ne++)te[ne]=re[Me];return te}j.d(Te,{in:()=>le,Yd:()=>J,Ub:()=>B,Am:()=>$});var y,K=[],le=(()=>{return(Z=le||(le={}))[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT",le;var Z})(),he={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},ce=le.INFO,Se=((y={})[le.DEBUG]="log",y[le.VERBOSE]="log",y[le.INFO]="info",y[le.WARN]="warn",y[le.ERROR]="error",y),Ee=function(Z,G){for(var z=[],te=2;te<arguments.length;te++)z[te-2]=arguments[te];if(!(G<Z.logLevel)){var ne=(new Date).toISOString(),re=Se[G];if(!re)throw new Error("Attempted to log a message with an invalid logType (value: "+G+")");console[re].apply(console,T(["["+ne+"]  "+Z.name+":"],z))}},J=function(){function Z(G){this.name=G,this._logLevel=ce,this._logHandler=Ee,this._userLogHandler=null,K.push(this)}return Object.defineProperty(Z.prototype,"logLevel",{get:function(){return this._logLevel},set:function(G){if(!(G in le))throw new TypeError('Invalid value "'+G+'" assigned to `logLevel`');this._logLevel=G},enumerable:!1,configurable:!0}),Z.prototype.setLogLevel=function(G){this._logLevel="string"==typeof G?he[G]:G},Object.defineProperty(Z.prototype,"logHandler",{get:function(){return this._logHandler},set:function(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G},enumerable:!1,configurable:!0}),Object.defineProperty(Z.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(G){this._userLogHandler=G},enumerable:!1,configurable:!0}),Z.prototype.debug=function(){for(var G=[],z=0;z<arguments.length;z++)G[z]=arguments[z];this._userLogHandler&&this._userLogHandler.apply(this,T([this,le.DEBUG],G)),this._logHandler.apply(this,T([this,le.DEBUG],G))},Z.prototype.log=function(){for(var G=[],z=0;z<arguments.length;z++)G[z]=arguments[z];this._userLogHandler&&this._userLogHandler.apply(this,T([this,le.VERBOSE],G)),this._logHandler.apply(this,T([this,le.VERBOSE],G))},Z.prototype.info=function(){for(var G=[],z=0;z<arguments.length;z++)G[z]=arguments[z];this._userLogHandler&&this._userLogHandler.apply(this,T([this,le.INFO],G)),this._logHandler.apply(this,T([this,le.INFO],G))},Z.prototype.warn=function(){for(var G=[],z=0;z<arguments.length;z++)G[z]=arguments[z];this._userLogHandler&&this._userLogHandler.apply(this,T([this,le.WARN],G)),this._logHandler.apply(this,T([this,le.WARN],G))},Z.prototype.error=function(){for(var G=[],z=0;z<arguments.length;z++)G[z]=arguments[z];this._userLogHandler&&this._userLogHandler.apply(this,T([this,le.ERROR],G)),this._logHandler.apply(this,T([this,le.ERROR],G))},Z}();function B(Z){K.forEach(function(G){G.setLogLevel(Z)})}function $(Z,G){for(var z=function(Me){var Ae=null;G&&G.level&&(Ae=he[G.level]),Me.userLogHandler=null===Z?null:function(Oe,Be){for(var qe=[],$e=2;$e<arguments.length;$e++)qe[$e-2]=arguments[$e];var Ce=qe.map(function(Ht){if(null==Ht)return null;if("string"==typeof Ht)return Ht;if("number"==typeof Ht||"boolean"==typeof Ht)return Ht.toString();if(Ht instanceof Error)return Ht.message;try{return JSON.stringify(Ht)}catch(vt){return null}}).filter(function(Ht){return Ht}).join(" ");Be>=(null!=Ae?Ae:Oe.logLevel)&&Z({level:le[Be].toLowerCase(),message:Ce,args:qe,type:Oe.name})}},te=0,ne=K;te<ne.length;te++)z(ne[te])}},4685:(Je,Te,j)=>{"use strict";j.d(Te,{BH:()=>z,LL:()=>xe,ZR:()=>se,tV:()=>B,r3:()=>Rt,Sg:()=>te,ne:()=>fs,vZ:()=>an,ZB:()=>Z,pd:()=>Ws,m9:()=>gn,z$:()=>ne,jU:()=>Ae,ru:()=>Oe,d:()=>qe,xb:()=>hs,w1:()=>$e,hl:()=>ve,uI:()=>re,UG:()=>Me,b$:()=>Be,G6:()=>vt,Mn:()=>Ce,xO:()=>$i,zd:()=>Gn});var T=j(4762),he=function(Y){for(var H=[],oe=0,me=0;me<Y.length;me++){var ie=Y.charCodeAt(me);ie<128?H[oe++]=ie:ie<2048?(H[oe++]=ie>>6|192,H[oe++]=63&ie|128):55296==(64512&ie)&&me+1<Y.length&&56320==(64512&Y.charCodeAt(me+1))?(ie=65536+((1023&ie)<<10)+(1023&Y.charCodeAt(++me)),H[oe++]=ie>>18|240,H[oe++]=ie>>12&63|128,H[oe++]=ie>>6&63|128,H[oe++]=63&ie|128):(H[oe++]=ie>>12|224,H[oe++]=ie>>6&63|128,H[oe++]=63&ie|128)}return H},Se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(Y,H){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var oe=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,me=[],ie=0;ie<Y.length;ie+=3){var Re=Y[ie],at=ie+1<Y.length,Vt=at?Y[ie+1]:0,Ot=ie+2<Y.length,xt=Ot?Y[ie+2]:0,qn=(15&Vt)<<2|xt>>6,ps=63&xt;Ot||(ps=64,at||(qn=64)),me.push(oe[Re>>2],oe[(3&Re)<<4|Vt>>4],oe[qn],oe[ps])}return me.join("")},encodeString:function(Y,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(Y):this.encodeByteArray(he(Y),H)},decodeString:function(Y,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(Y):function(Y){for(var H=[],oe=0,me=0;oe<Y.length;){var ie=Y[oe++];if(ie<128)H[me++]=String.fromCharCode(ie);else if(ie>191&&ie<224){var Re=Y[oe++];H[me++]=String.fromCharCode((31&ie)<<6|63&Re)}else if(ie>239&&ie<365){var Ot=((7&ie)<<18|(63&(Re=Y[oe++]))<<12|(63&(at=Y[oe++]))<<6|63&Y[oe++])-65536;H[me++]=String.fromCharCode(55296+(Ot>>10)),H[me++]=String.fromCharCode(56320+(1023&Ot))}else{Re=Y[oe++];var at=Y[oe++];H[me++]=String.fromCharCode((15&ie)<<12|(63&Re)<<6|63&at)}}return H.join("")}(this.decodeStringToByteArray(Y,H))},decodeStringToByteArray:function(Y,H){this.init_();for(var oe=H?this.charToByteMapWebSafe_:this.charToByteMap_,me=[],ie=0;ie<Y.length;){var Re=oe[Y.charAt(ie++)],Vt=ie<Y.length?oe[Y.charAt(ie)]:0,xt=++ie<Y.length?oe[Y.charAt(ie)]:64,bn=++ie<Y.length?oe[Y.charAt(ie)]:64;if(++ie,null==Re||null==Vt||null==xt||null==bn)throw Error();me.push(Re<<2|Vt>>4),64!==xt&&(me.push(Vt<<4&240|xt>>2),64!==bn&&me.push(xt<<6&192|bn))}return me},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}},J=function(Y){return function(Y){var H=he(Y);return Se.encodeByteArray(H,!0)}(Y).replace(/\./g,"")},B=function(Y){try{return Se.decodeString(Y,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function Z(Y,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===Y&&(Y={});break;case Array:Y=[];break;default:return H}for(var me in H)!H.hasOwnProperty(me)||!G(me)||(Y[me]=Z(Y[me],H[me]));return Y}function G(Y){return"__proto__"!==Y}var z=function(){function Y(){var H=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(oe,me){H.resolve=oe,H.reject=me})}return Y.prototype.wrapCallback=function(H){var oe=this;return function(me,ie){me?oe.reject(me):oe.resolve(ie),"function"==typeof H&&(oe.promise.catch(function(){}),1===H.length?H(me):H(me,ie))}},Y}();function te(Y,H){if(Y.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var me=H||"demo-project",ie=Y.iat||0,Re=Y.sub||Y.user_id;if(!Re)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var at=(0,T.pi)({iss:"https://securetoken.google.com/"+me,aud:me,iat:ie,exp:ie+3600,auth_time:ie,sub:Re,user_id:Re,firebase:{sign_in_provider:"custom",identities:{}}},Y);return[J(JSON.stringify({alg:"none",type:"JWT"})),J(JSON.stringify(at)),""].join(".")}function ne(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function re(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ne())}function Me(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Y){return!1}}function Ae(){return"object"==typeof self&&self.self===self}function Oe(){var Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function Be(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function qe(){return ne().indexOf("Electron/")>=0}function $e(){var Y=ne();return Y.indexOf("MSIE ")>=0||Y.indexOf("Trident/")>=0}function Ce(){return ne().indexOf("MSAppHost/")>=0}function vt(){return!Me()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ve(){return"indexedDB"in self&&null!=indexedDB}var se=function(Y){function H(oe,me,ie){var Re=Y.call(this,me)||this;return Re.code=oe,Re.customData=ie,Re.name="FirebaseError",Object.setPrototypeOf(Re,H.prototype),Error.captureStackTrace&&Error.captureStackTrace(Re,xe.prototype.create),Re}return(0,T.ZT)(H,Y),H}(Error),xe=function(){function Y(H,oe,me){this.service=H,this.serviceName=oe,this.errors=me}return Y.prototype.create=function(H){for(var oe=[],me=1;me<arguments.length;me++)oe[me-1]=arguments[me];var ie=oe[0]||{},Re=this.service+"/"+H,at=this.errors[H],Vt=at?it(at,ie):"Error",Ot=this.serviceName+": "+Vt+" ("+Re+").",xt=new se(Re,Ot,ie);return xt},Y}();function it(Y,H){return Y.replace(Dt,function(oe,me){var ie=H[me];return null!=ie?String(ie):"<"+me+"?>"})}var Dt=/\{\$([^}]+)}/g;function Rt(Y,H){return Object.prototype.hasOwnProperty.call(Y,H)}function hs(Y){for(var H in Y)if(Object.prototype.hasOwnProperty.call(Y,H))return!1;return!0}function an(Y,H){if(Y===H)return!0;for(var oe=Object.keys(Y),me=Object.keys(H),ie=0,Re=oe;ie<Re.length;ie++){if(!me.includes(at=Re[ie]))return!1;var Vt=Y[at],Ot=H[at];if(So(Vt)&&So(Ot)){if(!an(Vt,Ot))return!1}else if(Vt!==Ot)return!1}for(var xt=0,Ln=me;xt<Ln.length;xt++){var at;if(!oe.includes(at=Ln[xt]))return!1}return!0}function So(Y){return null!==Y&&"object"==typeof Y}function $i(Y){for(var H=[],oe=function(Ot,xt){Array.isArray(xt)?xt.forEach(function(Ln){H.push(encodeURIComponent(Ot)+"="+encodeURIComponent(Ln))}):H.push(encodeURIComponent(Ot)+"="+encodeURIComponent(xt))},me=0,ie=Object.entries(Y);me<ie.length;me++){var Re=ie[me];oe(Re[0],Re[1])}return H.length?"&"+H.join("&"):""}function Gn(Y){var H={};return Y.replace(/^\?/,"").split("&").forEach(function(me){if(me){var ie=me.split("="),at=ie[1];H[decodeURIComponent(ie[0])]=decodeURIComponent(at)}}),H}function Ws(Y){var H=Y.indexOf("?");if(!H)return"";var oe=Y.indexOf("#",H);return Y.substring(H,oe>0?oe:void 0)}function fs(Y,H){var oe=new Di(Y,H);return oe.subscribe.bind(oe)}!function(){function Y(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var H=1;H<this.blockSize;++H)this.pad_[H]=0;this.reset()}Y.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Y.prototype.compress_=function(H,oe){oe||(oe=0);var me=this.W_;if("string"==typeof H)for(var ie=0;ie<16;ie++)me[ie]=H.charCodeAt(oe)<<24|H.charCodeAt(oe+1)<<16|H.charCodeAt(oe+2)<<8|H.charCodeAt(oe+3),oe+=4;else for(ie=0;ie<16;ie++)me[ie]=H[oe]<<24|H[oe+1]<<16|H[oe+2]<<8|H[oe+3],oe+=4;for(ie=16;ie<80;ie++)me[ie]=4294967295&((Re=me[ie-3]^me[ie-8]^me[ie-14]^me[ie-16])<<1|Re>>>31);var bn,qn,at=this.chain_[0],Vt=this.chain_[1],Ot=this.chain_[2],xt=this.chain_[3],Ln=this.chain_[4];for(ie=0;ie<80;ie++){ie<40?ie<20?(bn=xt^Vt&(Ot^xt),qn=1518500249):(bn=Vt^Ot^xt,qn=1859775393):ie<60?(bn=Vt&Ot|xt&(Vt|Ot),qn=2400959708):(bn=Vt^Ot^xt,qn=3395469782);var Re=(at<<5|at>>>27)+bn+Ln+qn+me[ie]&4294967295;Ln=xt,xt=Ot,Ot=4294967295&(Vt<<30|Vt>>>2),Vt=at,at=Re}this.chain_[0]=this.chain_[0]+at&4294967295,this.chain_[1]=this.chain_[1]+Vt&4294967295,this.chain_[2]=this.chain_[2]+Ot&4294967295,this.chain_[3]=this.chain_[3]+xt&4294967295,this.chain_[4]=this.chain_[4]+Ln&4294967295},Y.prototype.update=function(H,oe){if(null!=H){void 0===oe&&(oe=H.length);for(var me=oe-this.blockSize,ie=0,Re=this.buf_,at=this.inbuf_;ie<oe;){if(0===at)for(;ie<=me;)this.compress_(H,ie),ie+=this.blockSize;if("string"==typeof H){for(;ie<oe;)if(Re[at]=H.charCodeAt(ie),++ie,++at===this.blockSize){this.compress_(Re),at=0;break}}else for(;ie<oe;)if(Re[at]=H[ie],++ie,++at===this.blockSize){this.compress_(Re),at=0;break}}this.inbuf_=at,this.total_+=oe}},Y.prototype.digest=function(){var H=[],oe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var me=this.blockSize-1;me>=56;me--)this.buf_[me]=255&oe,oe/=256;this.compress_(this.buf_);var ie=0;for(me=0;me<5;me++)for(var Re=24;Re>=0;Re-=8)H[ie]=this.chain_[me]>>Re&255,++ie;return H}}();var Di=function(){function Y(H,oe){var me=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=oe,this.task.then(function(){H(me)}).catch(function(ie){me.error(ie)})}return Y.prototype.next=function(H){this.forEachObserver(function(oe){oe.next(H)})},Y.prototype.error=function(H){this.forEachObserver(function(oe){oe.error(H)}),this.close(H)},Y.prototype.complete=function(){this.forEachObserver(function(H){H.complete()}),this.close()},Y.prototype.subscribe=function(H,oe,me){var Re,ie=this;if(void 0===H&&void 0===oe&&void 0===me)throw new Error("Missing Observer.");void 0===(Re=function(Y,H){if("object"!=typeof Y||null===Y)return!1;for(var oe=0,me=["next","error","complete"];oe<me.length;oe++){var ie=me[oe];if(ie in Y&&"function"==typeof Y[ie])return!0}return!1}(H)?H:{next:H,error:oe,complete:me}).next&&(Re.next=Gr),void 0===Re.error&&(Re.error=Gr),void 0===Re.complete&&(Re.complete=Gr);var at=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{ie.finalError?Re.error(ie.finalError):Re.complete()}catch(Vt){}}),this.observers.push(Re),at},Y.prototype.unsubscribeOne=function(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},Y.prototype.forEachObserver=function(H){if(!this.finalized)for(var oe=0;oe<this.observers.length;oe++)this.sendOne(oe,H)},Y.prototype.sendOne=function(H,oe){var me=this;this.task.then(function(){if(void 0!==me.observers&&void 0!==me.observers[H])try{oe(me.observers[H])}catch(ie){"undefined"!=typeof console&&console.error&&console.error(ie)}})},Y.prototype.close=function(H){var oe=this;this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(function(){oe.observers=void 0,oe.onNoObservers=void 0}))},Y}();function Gr(){}function gn(Y){return Y&&Y._delegate?Y._delegate:Y}},7841:(Je,Te,j)=>{"use strict";j.d(Te,{Z:()=>T.Z});var T=j(4486);T.Z.registerVersion("firebase","9.0.1","app-compat")},9083:(Je,Te,j)=>{"use strict";j.r(Te);var T=j(8239),y=j(4486),K=j(4685),le=j(5452),he=j(4762),ce=j(300),Se=j(6034);const te=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},re=new K.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ae=new ce.Yd("@firebase/auth");function Oe(I,...m){Ae.logLevel<=ce.in.ERROR&&Ae.error(`Auth (${le.SDK_VERSION}): ${I}`,...m)}function Be(I,...m){throw $e(I,...m)}function qe(I,...m){return $e(I,...m)}function $e(I,...m){if("string"!=typeof I){const _=m[0],b=[...m.slice(1)];return b[0]&&(b[0].appName=I.name),I._errorFactory.create(_,...b)}return re.create(I,...m)}function Ce(I,m,..._){if(!I)throw $e(m,..._)}function Ht(I){const m="INTERNAL ASSERTION FAILED: "+I;throw Oe(m),new Error(m)}function vt(I,m){I||Ht(m)}const ve=new Map;function fe(I){vt(I instanceof Function,"Expected a class definition");let m=ve.get(I);return m?(vt(m instanceof I,"Instance stored in cache mismatched with class"),m):(m=new I,ve.set(I,m),m)}function ge(){var I;return"undefined"!=typeof self&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function se(){return"http:"===xe()||"https:"===xe()}function xe(){var I;return"undefined"!=typeof self&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class tt{constructor(m,_){this.shortDelay=m,this.longDelay=_,vt(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,K.uI)()||(0,K.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(se()||(0,K.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function wt(I,m){vt(I.emulator,"Emulator should always be set here");const{url:_}=I.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class nn{static initialize(m,_,b){this.fetchImpl=m,_&&(this.headersImpl=_),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ht("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ht("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ht("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const An={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded"},fi=new tt(3e4,6e4);function cn(I,m){return I.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:I.tenantId}):m}function Tt(I,m,_,b){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,T.Z)(function*(I,m,_,b,M={}){return fr(I,M,()=>{let L={},ee={};b&&("GET"===m?ee=b:L={body:JSON.stringify(b)});const De=(0,K.xO)(Object.assign({key:I.config.apiKey},ee)).slice(1),He=new(nn.headers());return He.set("Content-Type","application/json"),He.set("X-Client-Version",I._getSdkClientVersion()),I.languageCode&&He.set("X-Firebase-Locale",I.languageCode),nn.fetch()(So(I,I.config.apiHost,_,De),Object.assign({method:m,headers:He,referrerPolicy:"no-referrer"},L))})})).apply(this,arguments)}function fr(I,m,_){return hs.apply(this,arguments)}function hs(){return(hs=(0,T.Z)(function*(I,m,_){I._canInitEmulator=!1;const b=Object.assign(Object.assign({},An),m);try{const M=new $i(I),L=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const ee=yield L.json();if("needConfirmation"in ee)throw Gn(I,"account-exists-with-different-credential",ee);if(L.ok&&!("errorMessage"in ee))return ee;{const He=(L.ok?ee.errorMessage:ee.error.message).split(" : ")[0];if("FEDERATED_USER_ID_ALREADY_LINKED"===He)throw Gn(I,"credential-already-in-use",ee);if("EMAIL_EXISTS"===He)throw Gn(I,"email-already-in-use",ee);Be(I,b[He]||He.toLowerCase().replace(/[_\s]+/g,"-"))}}catch(M){if(M instanceof K.ZR)throw M;Be(I,"network-request-failed")}})).apply(this,arguments)}function pr(I,m,_,b){return an.apply(this,arguments)}function an(){return(an=(0,T.Z)(function*(I,m,_,b,M={}){const L=yield Tt(I,m,_,b,M);return"mfaPendingCredential"in L&&Be(I,"multi-factor-auth-required",{serverResponse:L}),L})).apply(this,arguments)}function So(I,m,_,b){const M=`${m}${_}?${b}`;return I.config.emulator?wt(I.config,M):`${I.config.apiScheme}://${M}`}class $i{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,b)=>{this.timer=setTimeout(()=>b(qe(this.auth,"timeout")),fi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gn(I,m,_){const b={appName:I.name};_.email&&(b.email=_.email),_.phoneNumber&&(b.phoneNumber=_.phoneNumber);const M=qe(I,m,b);return M.customData._tokenResponse=_,M}function Gs(){return(Gs=(0,T.Z)(function*(I,m){return Tt(I,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function fs(I,m){return Di.apply(this,arguments)}function Di(){return(Di=(0,T.Z)(function*(I,m){return Tt(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Nn(I,m){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,T.Z)(function*(I,m){return Tt(I,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Gr(I){if(I)try{const m=new Date(Number(I));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function Jt(){return(Jt=(0,T.Z)(function*(I,m=!1){const _=(0,K.m9)(I),b=yield _.getIdToken(m),M=En(b);Ce(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const L="object"==typeof M.firebase?M.firebase:void 0,ee=null==L?void 0:L.sign_in_provider;return{claims:M,token:b,authTime:Gr(dn(M.auth_time)),issuedAtTime:Gr(dn(M.iat)),expirationTime:Gr(dn(M.exp)),signInProvider:ee||null,signInSecondFactor:(null==L?void 0:L.sign_in_second_factor)||null}})).apply(this,arguments)}function dn(I){return 1e3*Number(I)}function En(I){const[m,_,b]=I.split(".");if(void 0===m||void 0===_||void 0===b)return Oe("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,K.tV)(_);return M?JSON.parse(M):(Oe("Failed to decode base64 JWT payload"),null)}catch(M){return Oe("Caught error parsing JWT payload as JSON",M),null}}function Qe(I,m){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,T.Z)(function*(I,m,_=!1){if(_)return m;try{return yield m}catch(b){throw b instanceof K.ZR&&gr(b)&&I.auth.currentUser===I&&(yield I.auth.signOut()),b}})).apply(this,arguments)}function gr({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}class Fn{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const b=this.getInterval(m);this.timerId=setTimeout((0,T.Z)(function*(){yield _.iteration()}),b)}iteration(){var m=this;return(0,T.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&m.schedule(!0))}m.schedule()})()}}class pi{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gr(this.lastLoginAt),this.creationTime=Gr(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function pn(I){return qr.apply(this,arguments)}function qr(){return(qr=(0,T.Z)(function*(I){var m;const _=I.auth,b=yield I.getIdToken(),M=yield Qe(I,Nn(_,{idToken:b}));Ce(null==M?void 0:M.users.length,_,"internal-error");const L=M.users[0];I._notifyReloadListener(L);const ee=(null===(m=L.providerUserInfo)||void 0===m?void 0:m.length)?H(L.providerUserInfo):[],De=Y(I.providerData,ee),_t=!!I.isAnonymous&&!(I.email&&L.passwordHash||(null==De?void 0:De.length)),ht={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:De,metadata:new pi(L.createdAt,L.lastLoginAt),isAnonymous:_t};Object.assign(I,ht)})).apply(this,arguments)}function gn(){return(gn=(0,T.Z)(function*(I){const m=(0,K.m9)(I);yield pn(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Y(I,m){return[...I.filter(b=>!m.some(M=>M.providerId===b.providerId)),...m]}function H(I){return I.map(m=>{var{providerId:_}=m,b=(0,he._T)(m,["providerId"]);return{providerId:_,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function me(){return(me=(0,T.Z)(function*(I,m){const _=yield fr(I,{},()=>{const b=(0,K.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:M,apiKey:L}=I.config,ee=So(I,M,"/v1/token",`key=${L}`);return nn.fetch()(ee,{method:"POST",headers:{"X-Client-Version":I._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:b})});return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class ie{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){Ce(m.idToken,"internal-error"),Ce(void 0!==m.idToken,"internal-error"),Ce(void 0!==m.refreshToken,"internal-error");const _="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function(I){const m=En(I);return Ce(m,"internal-error"),Ce(void 0!==m.exp,"internal-error"),Ce(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var b=this;return(0,T.Z)(function*(){return Ce(!b.accessToken||b.refreshToken,m,"user-token-expired"),_||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(m,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var b=this;return(0,T.Z)(function*(){const{accessToken:M,refreshToken:L,expiresIn:ee}=yield function(I,m){return me.apply(this,arguments)}(m,_);b.updateTokensAndExpiration(M,L,Number(ee))})()}updateTokensAndExpiration(m,_,b){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(m,_){const{refreshToken:b,accessToken:M,expirationTime:L}=_,ee=new ie;return b&&(Ce("string"==typeof b,"internal-error",{appName:m}),ee.refreshToken=b),M&&(Ce("string"==typeof M,"internal-error",{appName:m}),ee.accessToken=M),L&&(Ce("number"==typeof L,"internal-error",{appName:m}),ee.expirationTime=L),ee}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new ie,this.toJSON())}_performRefresh(){return Ht("not implemented")}}function Re(I,m){Ce("string"==typeof I||void 0===I,"internal-error",{appName:m})}class at{constructor(m){var{uid:_,auth:b,stsTokenManager:M}=m,L=(0,he._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Fn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=b,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.metadata=new pi(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,T.Z)(function*(){const b=yield Qe(_,_.stsTokenManager.getToken(_.auth,m));return Ce(b,_.auth,"internal-error"),_.accessToken!==b&&(_.accessToken=b,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),b})()}getIdTokenResult(m){return function(I){return Jt.apply(this,arguments)}(this,m)}reload(){return function(I){return gn.apply(this,arguments)}(this)}_assign(m){this!==m&&(Ce(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new at(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var b=this;return(0,T.Z)(function*(){let M=!1;m.idToken&&m.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(m),M=!0),_&&(yield pn(b)),yield b.auth._persistUserIfCurrent(b),M&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var m=this;return(0,T.Z)(function*(){const _=yield m.getIdToken();return yield Qe(m,function(I,m){return Gs.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var b,M,L,ee,De,He,rt,_t;const ht=null!==(b=_.displayName)&&void 0!==b?b:void 0,ur=null!==(M=_.email)&&void 0!==M?M:void 0,Vi=null!==(L=_.phoneNumber)&&void 0!==L?L:void 0,As=null!==(ee=_.photoURL)&&void 0!==ee?ee:void 0,vi=null!==(De=_.tenantId)&&void 0!==De?De:void 0,nh=null!==(He=_._redirectEventId)&&void 0!==He?He:void 0,Ff=null!==(rt=_.createdAt)&&void 0!==rt?rt:void 0,Ga=null!==(_t=_.lastLoginAt)&&void 0!==_t?_t:void 0,{uid:Ns,emailVerified:Mg,isAnonymous:co,providerData:dc,stsTokenManager:oa}=_;Ce(Ns&&oa,m,"internal-error");const Lf=ie.fromJSON(this.name,oa);Ce("string"==typeof Ns,m,"internal-error"),Re(ht,m.name),Re(ur,m.name),Ce("boolean"==typeof Mg,m,"internal-error"),Ce("boolean"==typeof co,m,"internal-error"),Re(Vi,m.name),Re(As,m.name),Re(vi,m.name),Re(nh,m.name),Re(Ff,m.name),Re(Ga,m.name);const ho=new at({uid:Ns,auth:m,email:ur,emailVerified:Mg,displayName:ht,isAnonymous:co,photoURL:As,phoneNumber:Vi,tenantId:vi,stsTokenManager:Lf,createdAt:Ff,lastLoginAt:Ga});return dc&&Array.isArray(dc)&&(ho.providerData=dc.map(ui=>Object.assign({},ui))),nh&&(ho._redirectEventId=nh),ho}static _fromIdTokenResponse(m,_,b=!1){return(0,T.Z)(function*(){const M=new ie;M.updateFromServerResponse(_);const L=new at({uid:_.localId,auth:m,stsTokenManager:M,isAnonymous:b});return yield pn(L),L})()}}const Ot=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,T.Z)(function*(){return!0})()}_set(_,b){var M=this;return(0,T.Z)(function*(){M.storage[_]=b})()}_get(_){var b=this;return(0,T.Z)(function*(){const M=b.storage[_];return void 0===M?null:M})()}_remove(_){var b=this;return(0,T.Z)(function*(){delete b.storage[_]})()}_addListener(_,b){}_removeListener(_,b){}}return I.type="NONE",I})();function xt(I,m,_){return`firebase:${I}:${m}:${_}`}class Ln{constructor(m,_,b){this.persistence=m,this.auth=_,this.userKey=b;const{config:M,name:L}=this.auth;this.fullUserKey=xt(this.userKey,M.apiKey,L),this.fullPersistenceKey=xt("persistence",M.apiKey,L),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,T.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?at._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,T.Z)(function*(){if(_.persistence===m)return;const b=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,b?_.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,b="authUser"){return(0,T.Z)(function*(){if(!_.length)return new Ln(fe(Ot),m,b);const M=(yield Promise.all(_.map(function(){var rt=(0,T.Z)(function*(_t){if(yield _t._isAvailable())return _t});return function(_t){return rt.apply(this,arguments)}}()))).filter(rt=>rt);let L=M[0]||fe(Ot);const ee=xt(b,m.config.apiKey,m.name);let De=null;for(const rt of _)try{const _t=yield rt._get(ee);if(_t){const ht=at._fromJSON(m,_t);rt!==L&&(De=ht),L=rt;break}}catch(_t){}const He=M.filter(rt=>rt._shouldAllowMigration);return L._shouldAllowMigration&&He.length?(L=He[0],De&&(yield L._set(ee,De.toJSON())),yield Promise.all(_.map(function(){var rt=(0,T.Z)(function*(_t){if(_t!==L)try{yield _t._remove(ee)}catch(ht){}});return function(_t){return rt.apply(this,arguments)}}())),new Ln(L,m,b)):new Ln(L,m,b)})()}}function bn(I){const m=I.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(ad(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(qn(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Al(m))return"Blackberry";if(ud(m))return"Webos";if(ps(m))return"Safari";if((m.includes("chrome/")||Ao(m))&&!m.includes("edge/"))return"Chrome";if(No(m))return"Android";{const b=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function qn(I=(0,K.z$)()){return/firefox\//i.test(I)}function ps(I=(0,K.z$)()){const m=I.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Ao(I=(0,K.z$)()){return/crios\//i.test(I)}function ad(I=(0,K.z$)()){return/iemobile/i.test(I)}function No(I=(0,K.z$)()){return/android/i.test(I)}function Al(I=(0,K.z$)()){return/blackberry/i.test(I)}function ud(I=(0,K.z$)()){return/webos/i.test(I)}function Wi(I=(0,K.z$)()){return/iphone|ipad|ipod/i.test(I)}function Ea(I=(0,K.z$)()){return Wi(I)||No(I)||ud(I)||Al(I)||/windows phone/i.test(I)||ad(I)}function Gi(I,m=[]){let _;switch(I){case"Browser":_=bn((0,K.z$)());break;case"Worker":_=`${bn((0,K.z$)())}-${I}`;break;default:_=I}const b=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${le.SDK_VERSION}/${b}`}class xo{constructor(m,_){this.app=m,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nl(this),this.idTokenSubscription=new Nl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=re,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(m,_){var b=this;return _&&(this._popupRedirectResolver=fe(_)),this._initializationPromise=this.queue((0,T.Z)(function*(){var M;b._deleted||(b.persistenceManager=yield Ln.create(b,m),!b._deleted&&((null===(M=b._popupRedirectResolver)||void 0===M?void 0:M._shouldInitProactively)&&(yield b._popupRedirectResolver._initialize(b)),yield b.initializeCurrentUser(_),!b._deleted&&(b._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,T.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_)}})()}initializeCurrentUser(m){var _=this;return(0,T.Z)(function*(){var b;let M=yield _.assertedPersistence.getCurrentUser();if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const L=null===(b=_.redirectUser)||void 0===b?void 0:b._redirectEventId,ee=null==M?void 0:M._redirectEventId,De=yield _.tryRedirectSignIn(m);(!L||L===ee)&&(null==De?void 0:De.user)&&(M=De.user)}return M?M._redirectEventId?(Ce(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===M._redirectEventId?_.directlySetCurrentUser(M):_.reloadAndSetCurrentUserOrClear(M)):_.reloadAndSetCurrentUserOrClear(M):_.directlySetCurrentUser(null)})()}tryRedirectSignIn(m){var _=this;return(0,T.Z)(function*(){let b=null;try{b=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch(M){yield _._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,T.Z)(function*(){try{yield pn(m)}catch(b){if("auth/network-request-failed"!==b.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var m=this;return(0,T.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,T.Z)(function*(){const b=m?(0,K.m9)(m):null;return b&&Ce(b.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(b&&b._clone(_))})()}_updateCurrentUser(m){var _=this;return(0,T.Z)(function*(){if(!_._deleted)return m&&Ce(_.tenantId===m.tenantId,_,"tenant-id-mismatch"),_.queue((0,T.Z)(function*(){yield _.directlySetCurrentUser(m),_.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,T.Z)(function*(){return(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null)})()}setPersistence(m){var _=this;return this.queue((0,T.Z)(function*(){yield _.assertedPersistence.setPersistence(fe(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new K.LL("auth","Firebase",m())}onAuthStateChanged(m,_,b){return this.registerStateListener(this.authStateSubscription,m,_,b)}onIdTokenChanged(m,_,b){return this.registerStateListener(this.idTokenSubscription,m,_,b)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var b=this;return(0,T.Z)(function*(){const M=yield b.getOrInitRedirectPersistenceManager(_);return null===m?M.removeCurrentUser():M.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,T.Z)(function*(){if(!_.redirectPersistenceManager){const b=m&&fe(m)||_._popupRedirectResolver;Ce(b,_,"argument-error"),_.redirectPersistenceManager=yield Ln.create(_,[fe(b._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,T.Z)(function*(){var b,M;return _._isInitialized&&(yield _.queue((0,T.Z)(function*(){}))),(null===(b=_._currentUser)||void 0===b?void 0:b._redirectEventId)===m?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,T.Z)(function*(){if(m===_.currentUser)return _.queue((0,T.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,b,M){if(this._deleted)return()=>{};const L="function"==typeof _?_:_.next.bind(_),ee=this._isInitialized?Promise.resolve():this._initializationPromise;return Ce(ee,this,"internal-error"),ee.then(()=>L(this.currentUser)),"function"==typeof _?m.addObserver(_,b,M):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,T.Z)(function*(){_.currentUser&&_.currentUser!==m&&(_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh()),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Gi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Kt(I){return(0,K.m9)(I)}class Nl{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,K.ne)(_=>this.observer=_)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ze(I){const m=I.indexOf(":");return m<0?"":I.substr(0,m+1)}function mn(I){if(!I)return null;const m=Number(I);return isNaN(m)?null:m}class ni{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return Ht("not implemented")}_getIdTokenResponse(m){return Ht("not implemented")}_linkToIdToken(m,_){return Ht("not implemented")}_getReauthenticationResolver(m){return Ht("not implemented")}}function Vn(I,m){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,T.Z)(function*(I,m){return Tt(I,"POST","/v1/accounts:resetPassword",cn(I,m))})).apply(this,arguments)}function Gt(I,m){return gs.apply(this,arguments)}function gs(){return(gs=(0,T.Z)(function*(I,m){return Tt(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function wr(I,m){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,T.Z)(function*(I,m){return Tt(I,"POST","/v1/accounts:update",cn(I,m))})).apply(this,arguments)}function hn(){return(hn=(0,T.Z)(function*(I,m){return pr(I,"POST","/v1/accounts:signInWithPassword",cn(I,m))})).apply(this,arguments)}function Ti(I,m){return qi.apply(this,arguments)}function qi(){return(qi=(0,T.Z)(function*(I,m){return Tt(I,"POST","/v1/accounts:sendOobCode",cn(I,m))})).apply(this,arguments)}function mr(I,m){return ms.apply(this,arguments)}function ms(){return(ms=(0,T.Z)(function*(I,m){return Ti(I,m)})).apply(this,arguments)}function Si(I,m){return yn.apply(this,arguments)}function yn(){return(yn=(0,T.Z)(function*(I,m){return Ti(I,m)})).apply(this,arguments)}function en(I,m){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,T.Z)(function*(I,m){return Ti(I,m)})).apply(this,arguments)}function vu(I,m){return ft.apply(this,arguments)}function ft(){return(ft=(0,T.Z)(function*(I,m){return Ti(I,m)})).apply(this,arguments)}function Mo(){return(Mo=(0,T.Z)(function*(I,m){return pr(I,"POST","/v1/accounts:signInWithEmailLink",cn(I,m))})).apply(this,arguments)}function Ai(){return(Ai=(0,T.Z)(function*(I,m){return pr(I,"POST","/v1/accounts:signInWithEmailLink",cn(I,m))})).apply(this,arguments)}class Rn extends ni{constructor(m,_,b,M=null){super("password",b),this._email=m,this._password=_,this._tenantId=M}static _fromEmailAndPassword(m,_){return new Rn(m,_,"password")}static _fromEmailAndCode(m,_,b=null){return new Rn(m,_,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,T.Z)(function*(){switch(_.signInMethod){case"password":return function(I,m){return hn.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function(I,m){return Mo.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:Be(m,"internal-error")}})()}_linkToIdToken(m,_){var b=this;return(0,T.Z)(function*(){switch(b.signInMethod){case"password":return Gt(m,{idToken:_,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function(I,m){return Ai.apply(this,arguments)}(m,{idToken:_,email:b._email,oobCode:b._password});default:Be(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Ni(I,m){return Un.apply(this,arguments)}function Un(){return(Un=(0,T.Z)(function*(I,m){return pr(I,"POST","/v1/accounts:signInWithIdp",cn(I,m))})).apply(this,arguments)}class ri extends ni{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new ri(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):Be("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:b,signInMethod:M}=_,L=(0,he._T)(_,["providerId","signInMethod"]);if(!b||!M)return null;const ee=new ri(b,M);return Object.assign(ee,L),ee}_getIdTokenResponse(m){return Ni(m,this.buildRequest())}_linkToIdToken(m,_){const b=this.buildRequest();return b.idToken=_,Ni(m,b)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Ni(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,K.xO)(_)}return m}}function Rl(I,m){return Po.apply(this,arguments)}function Po(){return(Po=(0,T.Z)(function*(I,m){return Tt(I,"POST","/v1/accounts:sendVerificationCode",cn(I,m))})).apply(this,arguments)}function ko(){return(ko=(0,T.Z)(function*(I,m){return pr(I,"POST","/v1/accounts:signInWithPhoneNumber",cn(I,m))})).apply(this,arguments)}function zi(){return(zi=(0,T.Z)(function*(I,m){const _=yield pr(I,"POST","/v1/accounts:signInWithPhoneNumber",cn(I,m));if(_.temporaryProof)throw Gn(I,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Wt={USER_NOT_FOUND:"user-not-found"};function Ml(){return(Ml=(0,T.Z)(function*(I,m){return pr(I,"POST","/v1/accounts:signInWithPhoneNumber",cn(I,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Wt)})).apply(this,arguments)}class qs extends ni{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new qs({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new qs({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function(I,m){return ko.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function(I,m){return zi.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function(I,m){return Ml.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:b,verificationCode:M}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:b,code:M}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:b,phoneNumber:M,temporaryProof:L}=m;return b||_||M||L?new qs({verificationId:_,verificationCode:b,phoneNumber:M,temporaryProof:L}):null}}class zs{constructor(m){var _,b,M,L,ee,De;const He=(0,K.zd)((0,K.pd)(m)),rt=null!==(_=He.apiKey)&&void 0!==_?_:null,_t=null!==(b=He.oobCode)&&void 0!==b?b:null,ht=function(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=He.mode)&&void 0!==M?M:null);Ce(rt&&_t&&ht,"argument-error"),this.apiKey=rt,this.operation=ht,this.code=_t,this.continueUrl=null!==(L=He.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(ee=He.languageCode)&&void 0!==ee?ee:null,this.tenantId=null!==(De=He.tenantId)&&void 0!==De?De:null}static parseLink(m){const _=function(I){const m=(0,K.zd)((0,K.pd)(I)).link,_=m?(0,K.zd)((0,K.pd)(m)).deep_link_id:null,b=(0,K.zd)((0,K.pd)(I)).deep_link_id;return(b?(0,K.zd)((0,K.pd)(b)).link:null)||b||_||m||I}(m);try{return new zs(_)}catch(b){return null}}}let Fo=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(_,b){return Rn._fromEmailAndPassword(_,b)}static credentialWithLink(_,b){const M=zs.parseLink(b);return Ce(M,"argument-error"),Rn._fromEmailAndCode(_,M.code,M.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Ri{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class xi extends Ri{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Lo extends xi{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return Ce("providerId"in _&&"signInMethod"in _,"argument-error"),ri._fromParams(_)}credential(m){return this._credential(m)}_credential(m){return Ce(m.idToken||m.accessToken,"argument-error"),ri._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Lo.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Lo.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:b,oauthTokenSecret:M,pendingToken:L,nonce:ee,providerId:De}=m;if(!b&&!M&&!_&&!L||!De)return null;try{return new Lo(De)._credential({idToken:_,accessToken:b,rawNonce:ee,pendingToken:L})}catch(He){return null}}}let Eu=(()=>{class I extends xi{constructor(){super("facebook.com")}static credential(_){return ri._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return I.credential(_.oauthAccessToken)}catch(b){return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Ol=(()=>{class I extends xi{constructor(){super("google.com"),this.addScope("profile")}static credential(_,b){return ri._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:b})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:b,oauthAccessToken:M}=_;if(!b&&!M)return null;try{return I.credential(b,M)}catch(L){return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Pl=(()=>{class I extends xi{constructor(){super("github.com")}static credential(_){return ri._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return I.credential(_.oauthAccessToken)}catch(b){return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class _n extends ni{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return Ni(m,this.buildRequest())}_linkToIdToken(m,_){const b=this.buildRequest();return b.idToken=_,Ni(m,b)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Ni(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:b,signInMethod:M,pendingToken:L}=_;return b&&M&&L&&b===M?new _n(b,L):null}static _create(m,_){return new _n(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Ki=(()=>{class I extends xi{constructor(){super("twitter.com")}static credential(_,b){return ri._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:b})}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:b,oauthTokenSecret:M}=_;if(!b||!M)return null;try{return I.credential(b,M)}catch(L){return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function Zi(I,m){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,T.Z)(function*(I,m){return pr(I,"POST","/v1/accounts:signUp",cn(I,m))})).apply(this,arguments)}class Ar{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,b,M=!1){return(0,T.Z)(function*(){const L=yield at._fromIdTokenResponse(m,b,M),ee=Ia(b);return new Ar({user:L,providerId:ee,_tokenResponse:b,operationType:_})})()}static _forOperation(m,_,b){return(0,T.Z)(function*(){yield m._updateTokensIfNecessary(b,!0);const M=Ia(b);return new Ar({user:m,providerId:M,_tokenResponse:b,operationType:_})})()}}function Ia(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Cu(){return(Cu=(0,T.Z)(function*(I){var m;const _=Kt(I);if(yield _._initializationPromise,null===(m=_.currentUser)||void 0===m?void 0:m.isAnonymous)return new Ar({user:_.currentUser,providerId:null,operationType:"signIn"});const b=yield Zi(_,{returnSecureToken:!0}),M=yield Ar._fromIdTokenResponse(_,"signIn",b,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Ks extends K.ZR{constructor(m,_,b,M){var L;super(_.code,_.message),this.operationType=b,this.user=M,this.name="FirebaseError",Object.setPrototypeOf(this,Ks.prototype),this.appName=m.name,this.code=_.code,this.tenantId=null!==(L=m.tenantId)&&void 0!==L?L:void 0,this.serverResponse=_.customData.serverResponse}static _fromErrorAndOperation(m,_,b,M){return new Ks(m,_,b,M)}}function Uo(I,m,_,b){return("reauthenticate"===m?_._getReauthenticationResolver(I):_._getIdTokenResponse(I)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?Ks._fromErrorAndOperation(I,L,m,b):L})}function Ll(I){return new Set(I.map(({providerId:m})=>m).filter(m=>!!m))}function wa(){return(wa=(0,T.Z)(function*(I,m){const _=(0,K.m9)(I);yield N(!0,_,m);const{providerUserInfo:b}=yield fs(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),M=Ll(b||[]);return _.providerData=_.providerData.filter(L=>M.has(L.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function rn(I,m){return ba.apply(this,arguments)}function ba(){return(ba=(0,T.Z)(function*(I,m,_=!1){const b=yield Qe(I,m._linkToIdToken(I.auth,yield I.getIdToken()),_);return Ar._forOperation(I,"link",b)})).apply(this,arguments)}function N(I,m,_){return O.apply(this,arguments)}function O(){return(O=(0,T.Z)(function*(I,m,_){yield pn(m);const M=!1===I?"provider-already-linked":"no-such-provider";Ce(Ll(m.providerData).has(_)===I,m.auth,M)})).apply(this,arguments)}function R(I,m){return F.apply(this,arguments)}function F(){return(F=(0,T.Z)(function*(I,m,_=!1){const{auth:b}=I,M="reauthenticate";try{const L=yield Qe(I,Uo(b,M,m,I),_);Ce(L.idToken,b,"internal-error");const ee=En(L.idToken);Ce(ee,b,"internal-error");const{sub:De}=ee;return Ce(I.uid===De,b,"user-mismatch"),Ar._forOperation(I,M,L)}catch(L){throw"auth/user-not-found"===(null==L?void 0:L.code)&&Be(b,"user-mismatch"),L}})).apply(this,arguments)}function Q(I,m){return de.apply(this,arguments)}function de(){return(de=(0,T.Z)(function*(I,m,_=!1){const b="signIn",M=yield Uo(I,b,m),L=yield Ar._fromIdTokenResponse(I,b,M);return _||(yield I._updateCurrentUser(L.user)),L})).apply(this,arguments)}function Le(I,m){return ot.apply(this,arguments)}function ot(){return(ot=(0,T.Z)(function*(I,m){return Q(Kt(I),m)})).apply(this,arguments)}function Ut(I,m){return mt.apply(this,arguments)}function mt(){return(mt=(0,T.Z)(function*(I,m){const _=(0,K.m9)(I);return yield N(!1,_,m.providerId),rn(_,m)})).apply(this,arguments)}function un(I,m){return jt.apply(this,arguments)}function jt(){return(jt=(0,T.Z)(function*(I,m){return R((0,K.m9)(I),m)})).apply(this,arguments)}function Kn(I,m){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,T.Z)(function*(I,m){return pr(I,"POST","/v1/accounts:signInWithCustomToken",cn(I,m))})).apply(this,arguments)}function gi(){return(gi=(0,T.Z)(function*(I,m){const _=Kt(I),b=yield Kn(_,{token:m,returnSecureToken:!0}),M=yield Ar._fromIdTokenResponse(_,"signIn",b);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class yr{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?jn._fromServerResponse(m,_):Be(m,"internal-error")}}class jn extends yr{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new jn(_)}}function Mi(I,m,_){var b;Ce((null===(b=_.url)||void 0===b?void 0:b.length)>0,I,"invalid-continue-uri"),Ce(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(Ce(_.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),m.iosBundleId=_.iOS.bundleId),_.android&&(Ce(_.android.packageName.length>0,I,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function Zs(){return(Zs=(0,T.Z)(function*(I,m,_){const b=(0,K.m9)(I),M={requestType:"PASSWORD_RESET",email:m};_&&Mi(b,M,_),yield Si(b,M)})).apply(this,arguments)}function dd(){return(dd=(0,T.Z)(function*(I,m,_){yield Vn((0,K.m9)(I),{oobCode:m,newPassword:_})})).apply(this,arguments)}function et(){return(et=(0,T.Z)(function*(I,m){yield wr((0,K.m9)(I),{oobCode:m})})).apply(this,arguments)}function Vl(I,m){return uf.apply(this,arguments)}function uf(){return(uf=(0,T.Z)(function*(I,m){const _=(0,K.m9)(I),b=yield Vn(_,{oobCode:m}),M=b.requestType;switch(Ce(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ce(b.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ce(b.mfaInfo,_,"internal-error");default:Ce(b.email,_,"internal-error")}let L=null;return b.mfaInfo&&(L=yr._fromServerResponse(Kt(_),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:L},operation:M}})).apply(this,arguments)}function lf(){return(lf=(0,T.Z)(function*(I,m){const{data:_}=yield Vl((0,K.m9)(I),m);return _.email})).apply(this,arguments)}function Da(){return(Da=(0,T.Z)(function*(I,m,_){const b=Kt(I),M=yield Zi(b,{returnSecureToken:!0,email:m,password:_}),L=yield Ar._fromIdTokenResponse(b,"signIn",M);return yield b._updateCurrentUser(L.user),L})).apply(this,arguments)}function Pt(){return(Pt=(0,T.Z)(function*(I,m,_){const b=(0,K.m9)(I),M={requestType:"EMAIL_SIGNIN",email:m};Ce(_.handleCodeInApp,b,"argument-error"),_&&Mi(b,M,_),yield en(b,M)})).apply(this,arguments)}function Bl(){return(Bl=(0,T.Z)(function*(I,m,_){const b=(0,K.m9)(I),M=Fo.credentialWithLink(m,_||ge());return Ce(M._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Le(b,M)})).apply(this,arguments)}function wu(I,m){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,T.Z)(function*(I,m){return Tt(I,"POST","/v1/accounts:createAuthUri",cn(I,m))})).apply(this,arguments)}function bu(){return(bu=(0,T.Z)(function*(I,m){const b={identifier:m,continueUri:se()?ge():"http://localhost"},{signinMethods:M}=yield wu((0,K.m9)(I),b);return M||[]})).apply(this,arguments)}function pd(){return(pd=(0,T.Z)(function*(I,m){const _=(0,K.m9)(I),M={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};m&&Mi(_.auth,M,m);const{email:L}=yield mr(_.auth,M);L!==I.email&&(yield I.reload())})).apply(this,arguments)}function jo(){return(jo=(0,T.Z)(function*(I,m,_){const b=(0,K.m9)(I),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:m};_&&Mi(b.auth,L,_);const{email:ee}=yield vu(b.auth,L);ee!==I.email&&(yield I.reload())})).apply(this,arguments)}function br(I,m){return ii.apply(this,arguments)}function ii(){return(ii=(0,T.Z)(function*(I,m){return Tt(I,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Dn(){return(Dn=(0,T.Z)(function*(I,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const b=(0,K.m9)(I),L={idToken:yield b.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},ee=yield Qe(b,br(b.auth,L));b.displayName=ee.displayName||null,b.photoURL=ee.photoUrl||null;const De=b.providerData.find(({providerId:He})=>"password"===He);De&&(De.displayName=b.displayName,De.photoURL=b.photoURL),yield b._updateTokensIfNecessary(ee)})).apply(this,arguments)}function df(I,m,_){return hf.apply(this,arguments)}function hf(){return(hf=(0,T.Z)(function*(I,m,_){const{auth:b}=I,L={idToken:yield I.getIdToken(),returnSecureToken:!0};m&&(L.email=m),_&&(L.password=_);const ee=yield Qe(I,Gt(b,L));yield I._updateTokensIfNecessary(ee,!0)})).apply(this,arguments)}class Bo{constructor(m,_,b={}){this.isNewUser=m,this.providerId=_,this.profile=b}}class md extends Bo{constructor(m,_,b,M){super(m,_,b),this.username=M}}class yd extends Bo{constructor(m,_){super(m,"facebook.com",_)}}class Hl extends md{constructor(m,_){super(m,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class Xy extends Bo{constructor(m,_){super(m,"google.com",_)}}class _d extends md{constructor(m,_,b){super(m,"twitter.com",_,b)}}function $l(I){const{user:m,_tokenResponse:_}=I;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function(I){var m,_;if(!I)return null;const{providerId:b}=I,M=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},L=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!b&&(null==I?void 0:I.idToken)){const ee=null===(_=null===(m=En(I.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(ee)return new Bo(L,"anonymous"!==ee&&"custom"!==ee?ee:null)}if(!b)return null;switch(b){case"facebook.com":return new yd(L,M);case"github.com":return new Hl(L,M);case"google.com":return new Xy(L,M);case"twitter.com":return new _d(L,M,I.screenName||null);case"custom":case"anonymous":return new Bo(L,null);default:return new Bo(L,b,M)}}(_)}class zr{constructor(m,_){this.type=m,this.credential=_}static _fromIdtoken(m){return new zr("enroll",m)}static _fromMfaPendingCredential(m){return new zr("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,b;if(null==m?void 0:m.multiFactorSession){if(null===(_=m.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return zr._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(b=m.multiFactorSession)||void 0===b?void 0:b.idToken)return zr._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Cn{constructor(m,_,b){this.session=m,this.hints=_,this.signInResolver=b}static _fromError(m,_){const b=Kt(m),M=(_.serverResponse.mfaInfo||[]).map(ee=>yr._fromServerResponse(b,ee));Ce(_.serverResponse.mfaPendingCredential,b,"internal-error");const L=zr._fromMfaPendingCredential(_.serverResponse.mfaPendingCredential);return new Cn(L,M,function(){var ee=(0,T.Z)(function*(De){const He=yield De._process(b,L);delete _.serverResponse.mfaInfo,delete _.serverResponse.mfaPendingCredential;const rt=Object.assign(Object.assign({},_.serverResponse),{idToken:He.idToken,refreshToken:He.refreshToken});switch(_.operationType){case"signIn":const _t=yield Ar._fromIdTokenResponse(b,_.operationType,rt);return yield b._updateCurrentUser(_t.user),_t;case"reauthenticate":return Ce(_.user,b,"internal-error"),Ar._forOperation(_.user,_.operationType,rt);default:Be(b,"internal-error")}});return function(De){return ee.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,T.Z)(function*(){return _.signInResolver(m)})()}}function hg(I,m){return Tt(I,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:I.tenantId},m))}class gf{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(b=>yr._fromServerResponse(m.auth,b)))})}static _fromUser(m){return new gf(m)}getSession(){var m=this;return(0,T.Z)(function*(){return zr._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,_){var b=this;return(0,T.Z)(function*(){const M=m,L=yield b.getSession(),ee=yield Qe(b.user,M._process(b.user.auth,L,_));return yield b.user._updateTokensIfNecessary(ee),b.user.reload()})()}unenroll(m){var _=this;return(0,T.Z)(function*(){const b="string"==typeof m?m:m.uid,M=yield _.user.getIdToken(),L=yield Qe(_.user,function(I,m){return Tt(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:I.tenantId},m))}(_.user.auth,{idToken:M,mfaEnrollmentId:b}));_.enrolledFactors=_.enrolledFactors.filter(({uid:ee})=>ee!==b),yield _.user._updateTokensIfNecessary(L);try{yield _.user.reload()}catch(ee){if("auth/user-token-expired"!==ee.code)throw ee}})()}}const mf=new WeakMap,Ho="__sak";class $o{constructor(m,_){this.storage=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Ho,"1"),this.storage.removeItem(Ho),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}}const Qs=(()=>{class I extends $o{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const I=(0,K.z$)();return ps(I)||Wi(I)}()&&function(){try{return!(!window||window===window.top)}catch(I){return!1}}(),this.fallbackToPolling=Ea(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(_){for(const b of Object.keys(this.listeners)){const M=this.storage.getItem(b),L=this.localCache[b];M!==L&&_(b,L,M)}}onStorageEvent(_,b=!1){if(!_.key)return void this.forAllChangedKeys((De,He,rt)=>{this.notifyListeners(De,rt)});const M=_.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const De=this.storage.getItem(M);if(_.newValue!==De)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!b)return}const L=()=>{const De=this.storage.getItem(M);!b&&this.localCache[M]===De||this.notifyListeners(M,De)},ee=this.storage.getItem(M);(0,K.w1)()&&10===document.documentMode&&ee!==_.newValue&&_.newValue!==_.oldValue?setTimeout(L,10):L()}notifyListeners(_,b){this.localCache[_]=b;const M=this.listeners[_];if(M)for(const L of Array.from(M))L(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,b,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:b,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(b)}_removeListener(_,b){this.listeners[_]&&(this.listeners[_].delete(b),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,b){var M=()=>super._set,L=this;return(0,T.Z)(function*(){yield M().call(L,_,b),L.localCache[_]=JSON.stringify(b)})()}_get(_){var b=()=>super._get,M=this;return(0,T.Z)(function*(){const L=yield b().call(M,_);return M.localCache[_]=JSON.stringify(L),L})()}_remove(_){var b=()=>super._remove,M=this;return(0,T.Z)(function*(){yield b().call(M,_),delete M.localCache[_]})()}}return I.type="LOCAL",I})(),Qi=(()=>{class I extends $o{constructor(){super(window.sessionStorage,"SESSION")}_addListener(_,b){}_removeListener(_,b){}}return I.type="SESSION",I})();let Gl=(()=>{class I{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const b=this.receivers.find(L=>L.isListeningto(_));if(b)return b;const M=new I(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var b=this;return(0,T.Z)(function*(){const M=_,{eventId:L,eventType:ee,data:De}=M.data,He=b.handlersMap[ee];if(!(null==He?void 0:He.size))return;M.ports[0].postMessage({status:"ack",eventId:L,eventType:ee});const rt=Array.from(He).map(function(){var ht=(0,T.Z)(function*(ur){return ur(M.origin,De)});return function(ur){return ht.apply(this,arguments)}}()),_t=yield function(I){return Promise.all(I.map(function(){var m=(0,T.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(b){return{fulfilled:!1,reason:b}}});return function(_){return m.apply(this,arguments)}}()))}(rt);M.ports[0].postMessage({status:"done",eventId:L,eventType:ee,response:_t})})()}_subscribe(_,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(b)}_unsubscribe(_,b){this.handlersMap[_]&&b&&this.handlersMap[_].delete(b),(!b||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Au(I="",m=10){let _="";for(let b=0;b<m;b++)_+=Math.floor(10*Math.random());return I+_}class gg{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,b=50){var M=this;return(0,T.Z)(function*(){const L="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let ee,De;return new Promise((He,rt)=>{const _t=Au("",20);L.port1.start();const ht=setTimeout(()=>{rt(new Error("unsupported_event"))},b);De={messageChannel:L,onMessage(ur){const Vi=ur;if(Vi.data.eventId===_t)switch(Vi.data.status){case"ack":clearTimeout(ht),ee=setTimeout(()=>{rt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ee),He(Vi.data.response);break;default:clearTimeout(ht),clearTimeout(ee),rt(new Error("invalid_response"))}}},M.handlers.add(De),L.port1.addEventListener("message",De.onMessage),M.target.postMessage({eventType:m,eventId:_t,data:_},[L.port2])}).finally(()=>{De&&M.removeMessageHandler(De)})})()}}function Bn(){return window}function Wo(){return void 0!==Bn().WorkerGlobalScope&&"function"==typeof Bn().importScripts}function Go(){return(Go=(0,T.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(I){return null}})).apply(this,arguments)}const _f="firebaseLocalStorageDb",Ta="firebaseLocalStorage",Ys="fbase_key";class Ko{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Zo(I,m){return I.transaction([Ta],m?"readwrite":"readonly").objectStore(Ta)}function Dd(){const I=indexedDB.open(_f,1);return new Promise((m,_)=>{I.addEventListener("error",()=>{_(I.error)}),I.addEventListener("upgradeneeded",()=>{const b=I.result;try{b.createObjectStore(Ta,{keyPath:Ys})}catch(M){_(M)}}),I.addEventListener("success",(0,T.Z)(function*(){const b=I.result;b.objectStoreNames.contains(Ta)?m(b):(b.close(),yield function(){const I=indexedDB.deleteDatabase(_f);return new Ko(I).toPromise()}(),m(yield Dd()))}))})}function Sa(I,m,_){return Td.apply(this,arguments)}function Td(){return(Td=(0,T.Z)(function*(I,m,_){const b=Zo(I,!0).put({[Ys]:m,value:_});return new Ko(b).toPromise()})).apply(this,arguments)}function Yi(){return(Yi=(0,T.Z)(function*(I,m){const _=Zo(I,!1).get(m),b=yield new Ko(_).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function vs(I,m){const _=Zo(I,!0).delete(m);return new Ko(_).toPromise()}const Ji=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,T.Z)(function*(){return _.db||(_.db=yield Dd()),_.db})()}_withRetries(_){var b=this;return(0,T.Z)(function*(){let M=0;for(;;)try{const L=yield b._openDb();return yield _(L)}catch(L){if(M++>3)throw L;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,T.Z)(function*(){return Wo()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,T.Z)(function*(){_.receiver=Gl._getInstance(Wo()?self:null),_.receiver._subscribe("keyChanged",function(){var b=(0,T.Z)(function*(M,L){return{keyProcessed:(yield _._poll()).includes(L.key)}});return function(M,L){return b.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var b=(0,T.Z)(function*(M,L){return["keyChanged"]});return function(M,L){return b.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,T.Z)(function*(){var b,M;if(_.activeServiceWorker=yield function(){return Go.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new gg(_.activeServiceWorker);const L=yield _.sender._send("ping",{},800);!L||(null===(b=L[0])||void 0===b?void 0:b.fulfilled)&&(null===(M=L[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var b=this;return(0,T.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function(){var I;return(null===(I=null==navigator?void 0:navigator.serviceWorker)||void 0===I?void 0:I.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:_},b.serviceWorkerReceiverAvailable?800:50)}catch(M){}})()}_isAvailable(){return(0,T.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Dd();return yield Sa(_,Ho,"1"),yield vs(_,Ho),!0}catch(_){}return!1})()}_withPendingWrite(_){var b=this;return(0,T.Z)(function*(){b.pendingWrites++;try{yield _()}finally{b.pendingWrites--}})()}_set(_,b){var M=this;return(0,T.Z)(function*(){return M._withPendingWrite((0,T.Z)(function*(){return yield M._withRetries(L=>Sa(L,_,b)),M.localCache[_]=b,M.notifyServiceWorker(_)}))})()}_get(_){var b=this;return(0,T.Z)(function*(){const M=yield b._withRetries(L=>function(I,m){return Yi.apply(this,arguments)}(L,_));return b.localCache[_]=M,M})()}_remove(_){var b=this;return(0,T.Z)(function*(){return b._withPendingWrite((0,T.Z)(function*(){return yield b._withRetries(M=>vs(M,_)),delete b.localCache[_],b.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,T.Z)(function*(){const b=yield _._withRetries(ee=>{const De=Zo(ee,!1).getAll();return new Ko(De).toPromise()});if(!b)return[];if(0!==_.pendingWrites)return[];const M=[],L=new Set;for(const{fbase_key:ee,value:De}of b)L.add(ee),JSON.stringify(_.localCache[ee])!==JSON.stringify(De)&&(_.notifyListeners(ee,De),M.push(ee));for(const ee of Object.keys(_.localCache))_.localCache[ee]&&!L.has(ee)&&(_.notifyListeners(ee,null),M.push(ee));return M})()}notifyListeners(_,b){this.localCache[_]=b;const M=this.listeners[_];if(M)for(const L of Array.from(M))L(b)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,T.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(b)}_removeListener(_,b){this.listeners[_]&&(this.listeners[_].delete(b),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function Nd(I,m){return Tt(I,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:I.tenantId},m))}function Rd(){return(Rd=(0,T.Z)(function*(I){return(yield Tt(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Es(I){return new Promise((m,_)=>{const b=document.createElement("script");b.setAttribute("src",I),b.onload=m,b.onerror=M=>{const L=qe("internal-error");L.customData=M,_(L)},b.type="text/javascript",b.charset="UTF-8",function(){var I,m;return null!==(m=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==m?m:document}().appendChild(b)})}function Yo(I){return`__${I}${Math.floor(1e6*Math.random())}`}const Nu=1e12;class In{constructor(m){this.auth=m,this.counter=Nu,this._widgets=new Map}render(m,_){const b=this.counter;return this._widgets.set(b,new Js(m,this.auth.name,_||{})),this.counter++,b}reset(m){var _;const b=m||Nu;null===(_=this._widgets.get(b))||void 0===_||_.delete(),this._widgets.delete(b)}getResponse(m){var _;return(null===(_=this._widgets.get(m||Nu))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,T.Z)(function*(){var b;return null===(b=_._widgets.get(m||Nu))||void 0===b||b.execute(),""})()}}class Js{constructor(m,_,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof m?document.getElementById(m):m;Ce(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(I){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<50;b++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}();const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Kl=Yo("rcb"),Na=new tt(3e4,6e4);class Ru{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Bn().grecaptcha}load(m,_=""){return Ce((I=_).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Bn().grecaptcha):new Promise((b,M)=>{const L=Bn().setTimeout(()=>{M(qe(m,"network-request-failed"))},Na.get());Bn()[Kl]=()=>{Bn().clearTimeout(L),delete Bn()[Kl];const De=Bn().grecaptcha;if(!De)return void M(qe(m,"internal-error"));const He=De.render;De.render=(rt,_t)=>{const ht=He(rt,_t);return this.counter++,ht},this.hostLanguage=_,b(De)},Es(`https://www.google.com/recaptcha/api.js??${(0,K.xO)({onload:Kl,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(L),M(qe(m,"internal-error"))})});var I}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){return!!Bn().grecaptcha&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class xu{load(m){return(0,T.Z)(function*(){return new In(m)})()}clearedOneInstance(){}}const Md="recaptcha",Xo={theme:"light",type:"image"};class Xs{constructor(m,_=Object.assign({},Xo),b){this.parameters=_,this.type=Md,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Kt(b),this.isInvisible="invisible"===this.parameters.size,Ce("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof m?document.getElementById(m):m;Ce(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new xu:new Ru,this.validateStartingState()}verify(){var m=this;return(0,T.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),b=m.getAssertedRecaptcha();return b.getResponse(_)||new Promise(L=>{const ee=De=>{!De||(m.tokenChangeListeners.delete(ee),L(De))};m.tokenChangeListeners.add(ee),m.isInvisible&&b.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){Ce(!this.parameters.sitekey,this.auth,"argument-error"),Ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ce("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(b=>b(_)),"function"==typeof m)m(_);else if("string"==typeof m){const b=Bn()[m];"function"==typeof b&&b(_)}}}assertNotDestroyed(){Ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,T.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const b=document.createElement("div");_.appendChild(b),_=b}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,T.Z)(function*(){Ce(se()&&!Wo(),m.auth,"internal-error"),yield function(){let I=null;return new Promise(m=>{"complete"!==document.readyState?(I=()=>m(),window.addEventListener("load",I)):m()}).catch(m=>{throw I&&window.removeEventListener("load",I),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function(I){return Rd.apply(this,arguments)}(m.auth);Ce(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return Ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Xi{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=qs._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function Zl(){return(Zl=(0,T.Z)(function*(I,m,_){const b=Kt(I),M=yield Pd(b,m,(0,K.m9)(_));return new Xi(M,L=>Le(b,L))})).apply(this,arguments)}function ea(){return(ea=(0,T.Z)(function*(I,m,_){const b=(0,K.m9)(I);yield N(!1,b,"phone");const M=yield Pd(b.auth,m,(0,K.m9)(_));return new Xi(M,L=>Ut(b,L))})).apply(this,arguments)}function xa(){return(xa=(0,T.Z)(function*(I,m,_){const b=(0,K.m9)(I),M=yield Pd(b.auth,m,(0,K.m9)(_));return new Xi(M,L=>un(b,L))})).apply(this,arguments)}function Pd(I,m,_){return Ef.apply(this,arguments)}function Ef(){return(Ef=(0,T.Z)(function*(I,m,_){var b;const M=yield _.verify();try{let L;if(Ce("string"==typeof M,I,"argument-error"),Ce(_.type===Md,I,"argument-error"),L="string"==typeof m?{phoneNumber:m}:m,"session"in L){const ee=L.session;if("phoneNumber"in L)return Ce("enroll"===ee.type,I,"internal-error"),(yield hg(I,{idToken:ee.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{Ce("signin"===ee.type,I,"internal-error");const De=(null===(b=L.multiFactorHint)||void 0===b?void 0:b.uid)||L.multiFactorUid;return Ce(De,I,"missing-multi-factor-info"),(yield Nd(I,{mfaPendingCredential:ee.credential,mfaEnrollmentId:De,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ee}=yield Rl(I,{phoneNumber:L.phoneNumber,recaptchaToken:M});return ee}}finally{_._reset()}})).apply(this,arguments)}function kd(){return(kd=(0,T.Z)(function*(I,m){yield rn((0,K.m9)(I),m)})).apply(this,arguments)}let Mu=(()=>{class I{constructor(_){this.providerId=I.PROVIDER_ID,this.auth=Kt(_)}verifyPhoneNumber(_,b){return Pd(this.auth,_,(0,K.m9)(b))}static credential(_,b){return qs._fromVerification(_,b)}static credentialFromResult(_){return I.credentialFromTaggedObject(_)}static credentialFromError(_){return I.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:b,temporaryProof:M}=_;return b&&M?qs._fromTokenResponse(b,M):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function eo(I,m){return m?fe(m):(Ce(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class Cf extends ni{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Ni(m,this._buildIdpRequest())}_linkToIdToken(m,_){return Ni(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return Ni(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function vg(I){return Q(I.auth,new Cf(I),I.bypassAuthState)}function Yn(I){const{auth:m,user:_}=I;return Ce(_,m,"internal-error"),R(_,new Cf(I),I.bypassAuthState)}function zC(I){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,T.Z)(function*(I){const{auth:m,user:_}=I;return Ce(_,m,"internal-error"),rn(_,new Cf(I),I.bypassAuthState)})).apply(this,arguments)}class Ql{constructor(m,_,b,M,L=!1){this.auth=m,this.resolver=b,this.user=M,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,T.Z)(function*(b,M){m.pendingPromise={resolve:b,reject:M};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(L){m.reject(L)}});return function(b,M){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,T.Z)(function*(){const{urlResponse:b,sessionId:M,postBody:L,tenantId:ee,error:De,type:He}=m;if(De)return void _.reject(De);const rt={auth:_.auth,requestUri:b,sessionId:M,tenantId:ee||void 0,postBody:L||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(He)(rt))}catch(_t){_.reject(_t)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return vg;case"linkViaPopup":case"linkViaRedirect":return zC;case"reauthViaPopup":case"reauthViaRedirect":return Yn;default:Be(this.auth,"internal-error")}}resolve(m){vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ma=new tt(2e3,1e4);function Ou(){return(Ou=(0,T.Z)(function*(I,m,_){const b=Kt(I);Ce(m instanceof Ri,I,"argument-error");const M=eo(b,_);return new Is(b,"signInViaPopup",m,M).executeNotNull()})).apply(this,arguments)}function mi(){return(mi=(0,T.Z)(function*(I,m,_){const b=(0,K.m9)(I);Ce(m instanceof Ri,b.auth,"argument-error");const M=eo(b.auth,_);return new Is(b.auth,"reauthViaPopup",m,M,b).executeNotNull()})).apply(this,arguments)}function yi(){return(yi=(0,T.Z)(function*(I,m,_){const b=(0,K.m9)(I);Ce(m instanceof Ri,b.auth,"argument-error");const M=eo(b.auth,_);return new Is(b.auth,"linkViaPopup",m,M,b).executeNotNull()})).apply(this,arguments)}let Is=(()=>{class I extends Ql{constructor(_,b,M,L,ee){super(_,b,L,ee),this.provider=M,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var _=this;return(0,T.Z)(function*(){const b=yield _.execute();return Ce(b,_.auth,"internal-error"),b})()}onExecution(){var _=this;return(0,T.Z)(function*(){vt(1===_.filter.length,"Popup operations only handle one event");const b=Au();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],b),_.authWindow.associatedEvent=b,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(qe(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(qe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const _=()=>{var b,M;this.pollId=(null===(M=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===M?void 0:M.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(qe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Ma.get())};_()}}return I.currentPopupAction=null,I})();const Ld=new Map;class s_ extends Ql{constructor(m,_,b=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,b),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,T.Z)(function*(){let b=Ld.get(_.auth._key());if(!b){try{const L=(yield function(I,m){return Eg.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;b=()=>Promise.resolve(L)}catch(M){b=()=>Promise.reject(M)}Ld.set(_.auth._key(),b)}return b()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,b=this;return(0,T.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(b,m);if("unknown"!==m.type){if(m.eventId){const M=yield b.auth._redirectUserForId(m.eventId);if(M)return b.user=M,_().call(b,m);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,T.Z)(function*(){})()}cleanUp(){}}function Eg(){return(Eg=(0,T.Z)(function*(I,m){const _=jd(m),b="true"===(yield to(I)._get(_));return yield to(I)._remove(_),b})).apply(this,arguments)}function Vd(I,m){return jr.apply(this,arguments)}function jr(){return(jr=(0,T.Z)(function*(I,m){return to(I)._set(jd(m),"true")})).apply(this,arguments)}function to(I){return fe(I._redirectPersistence)}function jd(I){return xt("pendingRedirect",I.config.apiKey,I.name)}function Bd(){return(Bd=(0,T.Z)(function*(I,m,_){const b=Kt(I);Ce(m instanceof Ri,I,"argument-error");const M=eo(b,_);return yield Vd(M,b),M._openRedirect(b,m,"signInViaRedirect")})).apply(this,arguments)}function Oa(){return(Oa=(0,T.Z)(function*(I,m,_){const b=(0,K.m9)(I);Ce(m instanceof Ri,b.auth,"argument-error");const M=eo(b.auth,_);yield Vd(M,b.auth);const L=yield bf(b);return M._openRedirect(b.auth,m,"reauthViaRedirect",L)})).apply(this,arguments)}function ro(){return(ro=(0,T.Z)(function*(I,m,_){const b=(0,K.m9)(I);Ce(m instanceof Ri,b.auth,"argument-error");const M=eo(b.auth,_);yield N(!1,b,m.providerId),yield Vd(M,b.auth);const L=yield bf(b);return M._openRedirect(b.auth,m,"linkViaRedirect",L)})).apply(this,arguments)}function Fi(){return(Fi=(0,T.Z)(function*(I,m){return yield Kt(I)._initializationPromise,io(I,m,!1)})).apply(this,arguments)}function io(I,m){return na.apply(this,arguments)}function na(){return(na=(0,T.Z)(function*(I,m,_=!1){const b=Kt(I),M=eo(b,m),ee=yield new s_(b,M,_).execute();return ee&&!_&&(delete ee.user._redirectEventId,yield b._persistUserIfCurrent(ee.user),yield b._setRedirectUser(null,m)),ee})).apply(this,arguments)}function bf(I){return ka.apply(this,arguments)}function ka(){return(ka=(0,T.Z)(function*(I){const m=Au(`${I.uid}:::`);return I._redirectEventId=m,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),m})).apply(this,arguments)}class Jl{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(m,b)&&(_=!0,this.sendToConsumer(m,b),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pu(I);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var b;if(m.error&&!Pu(m)){const M=(null===(b=m.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";_.onError(qe(this.auth,M))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const b=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&b}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Df(m))}saveEventToCache(m){this.cachedEventUids.add(Df(m)),this.lastProcessedEventTime=Date.now()}}function Df(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(m=>m).join("-")}function Pu({type:I,error:m}){return"unknown"===I&&"auth/no-auth-event"===(null==m?void 0:m.code)}function es(I){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,T.Z)(function*(I,m={}){return Tt(I,"GET","/v1/projects",m)})).apply(this,arguments)}const Hn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,so=/^https?/;function ws(){return(ws=(0,T.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:m}=yield es(I);for(const _ of m)try{if(Fa(_))return}catch(b){}Be(I,"unauthorized-domain")})).apply(this,arguments)}function Fa(I){const m=ge(),{protocol:_,hostname:b}=new URL(m);if(I.startsWith("chrome-extension://")){const ee=new URL(I);return""===ee.hostname&&""===b?"chrome-extension:"===_&&I.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&ee.hostname===b}if(!so.test(_))return!1;if(Hn.test(I))return b===I;const M=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(b)}const wg=new tt(3e4,6e4);function Fu(){const I=Bn().___jsl;if(null==I?void 0:I.H)for(const m of Object.keys(I.H))if(I.H[m].r=I.H[m].r||[],I.H[m].L=I.H[m].L||[],I.H[m].r=[...I.H[m].L],I.CP)for(let _=0;_<I.CP.length;_++)I.CP[_]=null}let Lu=null;function La(I){return Lu=Lu||function(I){return new Promise((m,_)=>{var b,M,L;function ee(){Fu(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Fu(),_(qe(I,"network-request-failed"))},timeout:wg.get()})}if(null===(M=null===(b=Bn().gapi)||void 0===b?void 0:b.iframes)||void 0===M?void 0:M.Iframe)m(gapi.iframes.getContext());else{if(!(null===(L=Bn().gapi)||void 0===L?void 0:L.load)){const De=Yo("iframefcb");return Bn()[De]=()=>{gapi.load?ee():_(qe(I,"network-request-failed"))},Es(`https://apis.google.com/js/api.js?onload=${De}`)}ee()}}).catch(m=>{throw Lu=null,m})}(I),Lu}const ai=new tt(5e3,15e3),ec={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},Tf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hd(I){const m=I.config;Ce(m.authDomain,I,"auth-domain-config-required");const _=m.emulator?wt(m,"emulator/auth/iframe"):`https://${I.config.authDomain}/__/auth/iframe`,b={apiKey:m.apiKey,appName:I.name,v:le.SDK_VERSION},M=Tf.get(I.config.apiHost);M&&(b.eid=M);const L=I._getFrameworks();return L.length&&(b.fw=L.join(",")),`${_}?${(0,K.xO)(b).slice(1)}`}function tc(){return(tc=(0,T.Z)(function*(I){const m=yield La(I),_=Bn().gapi;return Ce(_,I,"internal-error"),m.open({where:document.body,url:Hd(I),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ec,dontclear:!0},b=>new Promise(function(){var M=(0,T.Z)(function*(L,ee){yield b.restyle({setHideOnLeave:!1});const De=qe(I,"network-request-failed"),He=Bn().setTimeout(()=>{ee(De)},ai.get());function rt(){Bn().clearTimeout(He),L(b)}b.ping(rt).then(rt,()=>{ee(De)})});return function(L,ee){return M.apply(this,arguments)}}()))})).apply(this,arguments)}const nc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Uu{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function $n(I,m,_,b,M,L){Ce(I.config.authDomain,I,"auth-domain-config-required"),Ce(I.config.apiKey,I,"invalid-api-key");const ee={apiKey:I.config.apiKey,appName:I.name,authType:_,redirectUrl:b,v:le.SDK_VERSION,eventId:M};if(m instanceof Ri){m.setDefaultLanguage(I.languageCode),ee.providerId=m.providerId||"",(0,K.xb)(m.getCustomParameters())||(ee.customParameters=JSON.stringify(m.getCustomParameters()));for(const[He,rt]of Object.entries(L||{}))ee[He]=rt}if(m instanceof xi){const He=m.getScopes().filter(rt=>""!==rt);He.length>0&&(ee.scopes=He.join(","))}I.tenantId&&(ee.tid=I.tenantId);const De=ee;for(const He of Object.keys(De))void 0===De[He]&&delete De[He];return`${function({config:I}){return I.emulator?wt(I,"emulator/auth/handler"):`https://${I.authDomain}/__/auth/handler`}(I)}?${(0,K.xO)(De).slice(1)}`}const ra="webStorageSupport";class Ge extends class{constructor(m){this.factorId=m}_process(m,_,b){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,b);case"signin":return this._finalizeSignIn(m,_.credential);default:return Ht("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Ge(m)}_finalizeEnroll(m,_,b){return function(I,m){return Tt(I,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:I.tenantId},m))}(m,{idToken:_,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function(I,m){return Tt(I,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:I.tenantId},m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Ie{constructor(){}static assertion(m){return Ge._fromCredential(m)}}var I;class Af{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,T.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(b=>{var M;m((null===(M=b)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ua(){return window}function Nf(){return(Nf=(0,T.Z)(function*(I,m,_){var b;const{BuildInfo:M}=Ua();vt(m.sessionId,"AuthEvent did not contain a session ID");const L=yield Sg(m.sessionId),ee={};return Wi()?ee.ibi=M.packageName:No()?ee.apn=M.packageName:Be(I,"operation-not-supported-in-this-environment"),M.displayName&&(ee.appDisplayName=M.displayName),ee.sessionId=L,$n(I,_,m.type,void 0,null!==(b=m.eventId)&&void 0!==b?b:void 0,ee)})).apply(this,arguments)}function yt(){return(yt=(0,T.Z)(function*(I){const{BuildInfo:m}=Ua(),_={};Wi()?_.iosBundleId=m.packageName:No()?_.androidPackageName=m.packageName:Be(I,"operation-not-supported-in-this-environment"),yield es(I,_)})).apply(this,arguments)}function ar(){return(ar=(0,T.Z)(function*(I,m,_){const{cordova:b}=Ua();let M=()=>{};try{yield new Promise((L,ee)=>{let De=null;function He(){var ht;L();const ur=null===(ht=b.plugins.browsertab)||void 0===ht?void 0:ht.close;"function"==typeof ur&&ur(),"function"==typeof(null==_?void 0:_.close)&&_.close()}function rt(){De||(De=window.setTimeout(()=>{ee(qe(I,"redirect-cancelled-by-user"))},2e3))}function _t(){"visible"===(null==document?void 0:document.visibilityState)&&rt()}m.addPassiveListener(He),document.addEventListener("resume",rt,!1),No()&&document.addEventListener("visibilitychange",_t,!1),M=()=>{m.removePassiveListener(He),document.removeEventListener("resume",rt,!1),document.removeEventListener("visibilitychange",_t,!1),De&&window.clearTimeout(De)}})}finally{M()}})).apply(this,arguments)}function Sg(I){return ao.apply(this,arguments)}function ao(){return(ao=(0,T.Z)(function*(I){const m=Ag(I),_=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(_)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ag(I){if(vt(/[0-9a-zA-Z]+/.test(I),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(I);const m=new ArrayBuffer(I.length),_=new Uint8Array(m);for(let b=0;b<I.length;b++)_[b]=I.charCodeAt(b);return _}I="Browser",(0,le._registerComponent)(new Se.wA("auth",(m,{options:_})=>{const b=m.getProvider("app").getImmediate(),{apiKey:M,authDomain:L}=b.options;return(ee=>{Ce(M&&!M.includes(":"),"invalid-api-key",{appName:ee.name}),Ce(!(null==L?void 0:L.includes(":")),"argument-error",{appName:ee.name});const De={apiKey:M,authDomain:L,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gi(I)},He=new xo(ee,De);return function(I,m){const _=(null==m?void 0:m.persistence)||[],b=(Array.isArray(_)?_:[_]).map(fe);(null==m?void 0:m.errorMap)&&I._updateErrorMap(m.errorMap),I._initializeWithPersistence(b,null==m?void 0:m.popupRedirectResolver)}(He,_),He})(b)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,b)=>{m.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new Se.wA("auth-internal",m=>{const _=Kt(m.getProvider("auth").getImmediate());return new Af(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)("@firebase/auth","0.17.1",void 0);class Zt extends Jl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(m)),super.onEvent(m)}initialized(){var m=this;return(0,T.Z)(function*(){yield m.initPromise})()}}function ja(I){return Ng.apply(this,arguments)}function Ng(){return(Ng=(0,T.Z)(function*(I){const m=yield ns()._get(tn(I));return m&&(yield ns()._remove(tn(I))),m})).apply(this,arguments)}function sc(){const I=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const b=Math.floor(Math.random()*m.length);I.push(m.charAt(b))}return I.join("")}function ns(){return fe(Qs)}function tn(I){return xt("authEvent",I.config.apiKey,I.name)}function Hu(I){if(!(null==I?void 0:I.includes("?")))return{};const[m,..._]=I.split("?");return(0,K.zd)(_.join("?"))}function Rg(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:qe("no-auth-event")}}function ia(){var I;return(null===(I=null==self?void 0:self.location)||void 0===I?void 0:I.protocol)||null}function zd(I=(0,K.z$)()){return!("file:"!==ia()&&"ionic:"!==ia()||!I.toLowerCase().match(/iphone|ipad|ipod|android/))}function Gu(){try{const I=self.localStorage,m=Au();if(I)return I.setItem(m,"1"),I.removeItem(m),!function(I=(0,K.z$)()){return(0,K.w1)()&&11===(null==document?void 0:document.documentMode)||function(I=(0,K.z$)()){return/Edge\/\d+/.test(I)}(I)}()||(0,K.hl)()}catch(I){return oc()&&(0,K.hl)()}return!1}function oc(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function sa(){return("http:"===ia()||"https:"===ia()||(0,K.ru)()||zd())&&!((0,K.b$)()||(0,K.UG)())&&Gu()&&!oc()}function qu(){return zd()&&"undefined"!=typeof document}function ac(){return(ac=(0,T.Z)(function*(){return!!qu()&&new Promise(I=>{const m=setTimeout(()=>{I(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(m),I(!0)})})})).apply(this,arguments)}const Ft={LOCAL:"local",NONE:"none",SESSION:"session"},Ba=Ce,uc="persistence";function Qd(I){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,T.Z)(function*(I){yield I._initializationPromise;const m=xr(),_=xt(uc,I.config.apiKey,I.name);(null==m?void 0:m.sessionStorage)&&m.sessionStorage.setItem(_,I._getPersistence())})).apply(this,arguments)}function xr(){return"undefined"!=typeof window?window:null}const QC=Ce;class $a{constructor(){this.browserResolver=fe(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qi,this._completeRedirectFn=io}_openPopup(m,_,b,M){var L=this;return(0,T.Z)(function*(){var ee;vt(null===(ee=L.eventManagers[m._key()])||void 0===ee?void 0:ee.manager,"_initialize() not called before _openPopup()");const De=$n(m,_,b,ge(),M);return function(I,m,_,b=500,M=600){const L=Math.max((window.screen.availHeight-M)/2,0).toString(),ee=Math.max((window.screen.availWidth-b)/2,0).toString();let De="";const He=Object.assign(Object.assign({},nc),{width:b.toString(),height:M.toString(),top:L,left:ee}),rt=(0,K.z$)().toLowerCase();_&&(De=Ao(rt)?"_blank":_),qn(rt)&&(m=m||"http://localhost",He.scrollbars="yes");const _t=Object.entries(He).reduce((ur,[Vi,As])=>`${ur}${Vi}=${As},`,"");if(function(I=(0,K.z$)()){var m;return Wi(I)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(rt)&&"_self"!==De)return function(I,m){const _=document.createElement("a");_.href=I,_.target=m;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(b)}(m||"",De),new Uu(null);const ht=window.open(m||"",De,_t);Ce(ht,I,"popup-blocked");try{ht.focus()}catch(ur){}return new Uu(ht)}(m,De,Au())})()}_openRedirect(m,_,b,M){var L=this;return(0,T.Z)(function*(){return yield L._originValidation(m),I=$n(m,_,b,ge(),M),Bn().location.href=I,new Promise(()=>{});var I})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:M,promise:L}=this.eventManagers[_];return M?Promise.resolve(M):(vt(L,"If manager is not set, promise should be"),L)}const b=this.initAndGetManager(m);return this.eventManagers[_]={promise:b},b}initAndGetManager(m){var _=this;return(0,T.Z)(function*(){const b=yield function(I){return tc.apply(this,arguments)}(m),M=new Jl(m);return b.register("authEvent",L=>(Ce(null==L?void 0:L.authEvent,m,"invalid-auth-event"),{status:M.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:M},_.iframes[m._key()]=b,M})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(ra,{type:ra},M=>{var L;const ee=null===(L=null==M?void 0:M[0])||void 0===L?void 0:L[ra];void 0!==ee&&_(!!ee),Be(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function(I){return ws.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return Ea()||ps()||Wi()}}),this.cordovaResolver=fe(class{constructor(){this._redirectPersistence=Qi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=io}_initialize(m){var _=this;return(0,T.Z)(function*(){const b=m._key();let M=_.eventManagers.get(b);return M||(M=new Zt(m),_.eventManagers.set(b,M),_.attachCallbackListeners(m,M)),M})()}_openPopup(m){Be(m,"operation-not-supported-in-this-environment")}_openRedirect(m,_,b,M){var L=this;return(0,T.Z)(function*(){!function(I){var m,_,b,M,L,ee,De,He,rt,_t;const ht=Ua();Ce("function"==typeof(null===(m=null==ht?void 0:ht.universalLinks)||void 0===m?void 0:m.subscribe),I,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ce(void 0!==(null===(_=null==ht?void 0:ht.BuildInfo)||void 0===_?void 0:_.packageName),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ce("function"==typeof(null===(L=null===(M=null===(b=null==ht?void 0:ht.cordova)||void 0===b?void 0:b.plugins)||void 0===M?void 0:M.browsertab)||void 0===L?void 0:L.openUrl),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ce("function"==typeof(null===(He=null===(De=null===(ee=null==ht?void 0:ht.cordova)||void 0===ee?void 0:ee.plugins)||void 0===De?void 0:De.browsertab)||void 0===He?void 0:He.isAvailable),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ce("function"==typeof(null===(_t=null===(rt=null==ht?void 0:ht.cordova)||void 0===rt?void 0:rt.InAppBrowser)||void 0===_t?void 0:_t.open),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const ee=yield L._initialize(m);yield ee.initialized(),ee.resetRedirect(),Ld.clear(),yield L._originValidation(m);const De=function(I,m,_=null){return{type:m,eventId:_,urlResponse:null,sessionId:sc(),postBody:null,tenantId:I.tenantId,error:qe(I,"no-auth-event")}}(m,b,M);yield function(I,m){return ns()._set(tn(I),m)}(m,De);const He=yield function(I,m,_){return Nf.apply(this,arguments)}(m,De,_),rt=yield function(I){const{cordova:m}=Ua();return new Promise(_=>{m.plugins.browsertab.isAvailable(b=>{let M=null;b?m.plugins.browsertab.openUrl(I):M=m.InAppBrowser.open(I,function(I=(0,K.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}()?"_blank":"_system","location=yes"),_(M)})})}(He);return function(I,m,_){return ar.apply(this,arguments)}(m,ee,rt)})()}_isIframeWebStorageSupported(m,_){throw new Error("Method not implemented.")}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function(I){return yt.apply(this,arguments)}(m)),this.originValidationPromises[_]}attachCallbackListeners(m,_){const{universalLinks:b,handleOpenURL:M,BuildInfo:L}=Ua(),ee=setTimeout((0,T.Z)(function*(){yield ja(m),_.onEvent(Rg())}),500),De=function(){var _t=(0,T.Z)(function*(ht){clearTimeout(ee);const ur=yield ja(m);let Vi=null;ur&&(null==ht?void 0:ht.url)&&(Vi=function(I,m){var _,b;const M=function(I){const m=Hu(I),_=m.link?decodeURIComponent(m.link):void 0,b=Hu(_).link,M=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return Hu(M).link||M||b||_||I}(m);if(M.includes("/__/auth/callback")){const L=Hu(M),ee=L.firebaseError?function(I){try{return JSON.parse(I)}catch(m){return null}}(decodeURIComponent(L.firebaseError)):null,De=null===(b=null===(_=null==ee?void 0:ee.code)||void 0===_?void 0:_.split("auth/"))||void 0===b?void 0:b[1],He=De?qe(De):null;return He?{type:I.type,eventId:I.eventId,tenantId:I.tenantId,error:He,urlResponse:null,sessionId:null,postBody:null}:{type:I.type,eventId:I.eventId,tenantId:I.tenantId,sessionId:I.sessionId,urlResponse:M,postBody:null}}return null}(ur,ht.url)),_.onEvent(Vi||Rg())});return function(ur){return _t.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,De);const He=M,rt=`${L.packageName.toLowerCase()}://`;Ua().handleOpenURL=function(){var _t=(0,T.Z)(function*(ht){if(ht.toLowerCase().startsWith(rt)&&De({url:ht}),"function"==typeof He)try{He(ht)}catch(ur){console.error(ur)}});return function(ht){return _t.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Qi,this._completeRedirectFn=io}_initialize(m){var _=this;return(0,T.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,_,b,M){var L=this;return(0,T.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openPopup(m,_,b,M)})()}_openRedirect(m,_,b,M){var L=this;return(0,T.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openRedirect(m,_,b,M)})()}_isIframeWebStorageSupported(m,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,_)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return qu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return QC(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,T.Z)(function*(){if(m.underlyingResolver)return;const _=yield function(){return ac.apply(this,arguments)}();m.underlyingResolver=_?m.cordovaResolver:m.browserResolver})()}}function Ku(I){return I.unwrap()}function Yd(I){return kf(I)}function xg(I,m){var _;const b=null===(_=m.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===m.code)m.resolver=new Qu(I,function(I,m){var _;const b=(0,K.m9)(I),M=m;return Ce(m.operationType,b,"argument-error"),Ce(null===(_=M.serverResponse)||void 0===_?void 0:_.mfaPendingCredential,b,"argument-error"),Cn._fromError(b,M)}(I,m));else if(b){const M=kf(m),L=m;M&&(L.credential=M,L.tenantId=b.tenantId||void 0,L.email=b.email||void 0,L.phoneNumber=b.phoneNumber||void 0)}}function kf(I){const{_tokenResponse:m}=I instanceof K.ZR?I.customData:I;if(!m)return null;if(!(I instanceof K.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return Mu.credentialFromResult(I);const _=m.providerId;if(!_||"password"===_)return null;let b;switch(_){case"google.com":b=Ol;break;case"facebook.com":b=Eu;break;case"github.com":b=Pl;break;case"twitter.com":b=Ki;break;default:const{oauthIdToken:M,oauthAccessToken:L,oauthTokenSecret:ee,pendingToken:De,nonce:He}=m;return L||ee||M||De?De?_.startsWith("saml.")?_n._create(_,De):ri._fromParams({providerId:_,signInMethod:_,pendingToken:De,idToken:M,accessToken:L}):new Lo(_).credential({idToken:M,accessToken:L,rawNonce:He}):null}return I instanceof K.ZR?b.credentialFromError(I):b.credentialFromResult(I)}function ln(I,m){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,T.Z)(function*(I,m){let _;try{_=yield m}catch(L){throw L instanceof K.ZR&&xg(I,L),L}const{operationType:b,user:M}=_;return{operationType:b,credential:Yd(_),additionalUserInfo:$l(_),user:Ts.getOrCreate(M)}})).apply(this,arguments)}function lo(I,m){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,T.Z)(function*(I,m){const _=yield m;return{verificationId:_.verificationId,confirm:b=>ln(I,_.confirm(b))}})).apply(this,arguments)}class Qu{constructor(m,_){this.resolver=_,this.auth=function(I){return I.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return ln(Ku(this.auth),this.resolver.resolveSignIn(m))}}class Ts{constructor(m){this._delegate=m,this.multiFactor=function(I){const m=(0,K.m9)(I);return mf.has(m)||mf.set(m,gf._fromUser(m)),mf.get(m)}(m)}static getOrCreate(m){return Ts.USER_MAP.has(m)||Ts.USER_MAP.set(m,new Ts(m)),Ts.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var _=this;return(0,T.Z)(function*(){return ln(_.auth,Ut(_._delegate,m))})()}linkWithPhoneNumber(m,_){var b=this;return(0,T.Z)(function*(){return lo(b.auth,function(I,m,_){return ea.apply(this,arguments)}(b._delegate,m,_))})()}linkWithPopup(m){var _=this;return(0,T.Z)(function*(){return ln(_.auth,function(I,m,_){return yi.apply(this,arguments)}(_._delegate,m,$a))})()}linkWithRedirect(m){var _=this;return(0,T.Z)(function*(){return yield Qd(Kt(_.auth)),function(I,m,_){return function(I,m,_){return ro.apply(this,arguments)}(I,m,_)}(_._delegate,m,$a)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var _=this;return(0,T.Z)(function*(){return ln(_.auth,un(_._delegate,m))})()}reauthenticateWithPhoneNumber(m,_){return lo(this.auth,function(I,m,_){return xa.apply(this,arguments)}(this._delegate,m,_))}reauthenticateWithPopup(m){return ln(this.auth,function(I,m,_){return mi.apply(this,arguments)}(this._delegate,m,$a))}reauthenticateWithRedirect(m){var _=this;return(0,T.Z)(function*(){return yield Qd(Kt(_.auth)),function(I,m,_){return function(I,m,_){return Oa.apply(this,arguments)}(I,m,_)}(_._delegate,m,$a)})()}sendEmailVerification(m){return function(I,m){return pd.apply(this,arguments)}(this._delegate,m)}unlink(m){var _=this;return(0,T.Z)(function*(){return yield function(I,m){return wa.apply(this,arguments)}(_._delegate,m),_})()}updateEmail(m){return function(I,m){return df((0,K.m9)(I),m,null)}(this._delegate,m)}updatePassword(m){return function(I,m){return df((0,K.m9)(I),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function(I,m){return kd.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function(I,m){return Dn.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,_){return function(I,m,_){return jo.apply(this,arguments)}(this._delegate,m,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ts.USER_MAP=new WeakMap;const Yu=Ce;let Jd=(()=>{class I{constructor(_,b){if(this.app=_,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=_.options;Yu(M,"invalid-api-key",{appName:_.name});let L=[Ot];if("undefined"!=typeof window){L=function(I,m){const _=xr();if(!(null==_?void 0:_.sessionStorage))return[];const b=xt(uc,I,m);switch(_.sessionStorage.getItem(b)){case Ft.NONE:return[Ot];case Ft.LOCAL:return[Ji,Qi];case Ft.SESSION:return[Qi];default:return[]}}(M,_.name);for(const De of[Ji,Qs,Qi])L.includes(De)||L.push(De)}Yu(M,"invalid-api-key",{appName:_.name});const ee="undefined"!=typeof window?$a:void 0;this._delegate=b.initialize({options:{persistence:L,popupRedirectResolver:ee}}),this._delegate._updateErrorMap(te),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ts.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,b){!function(I,m,_){const b=Kt(I);Ce(b._canInitEmulator,b,"emulator-config-failed"),Ce(/^https?:\/\//.test(m),b,"invalid-emulator-scheme");const M=!!(null==_?void 0:_.disableWarnings),L=ze(m),{host:ee,port:De}=function(I){const m=ze(I),_=/(\/\/)?([^?#/]+)/.exec(I.substr(m.length));if(!_)return{host:"",port:null};const b=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(b);if(M){const L=M[1];return{host:L,port:mn(b.substr(L.length+1))}}{const[L,ee]=b.split(":");return{host:L,port:mn(ee)}}}(m);b.config.emulator={url:`${L}//${ee}${null===De?"":`:${De}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:ee,port:De,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:M})}),function(I){function m(){const _=document.createElement("p"),b=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!I&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}(M)}(this._delegate,_,b)}applyActionCode(_){return function(I,m){return et.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return Vl(this._delegate,_)}confirmPasswordReset(_,b){return function(I,m,_){return dd.apply(this,arguments)}(this._delegate,_,b)}createUserWithEmailAndPassword(_,b){var M=this;return(0,T.Z)(function*(){return ln(M._delegate,function(I,m,_){return Da.apply(this,arguments)}(M._delegate,_,b))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function(I,m){return bu.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function(I,m){const _=zs.parseLink(m);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}(0,_)}getRedirectResult(){var _=this;return(0,T.Z)(function*(){Yu(sa(),_._delegate,"operation-not-supported-in-this-environment");const b=yield function(I,m){return Fi.apply(this,arguments)}(_._delegate,$a);return b?ln(_._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function(I,m){Kt(I)._logFramework(m)}(this._delegate,_)}onAuthStateChanged(_,b,M){const{next:L,error:ee,complete:De}=Ss(_,b,M);return this._delegate.onAuthStateChanged(L,ee,De)}onIdTokenChanged(_,b,M){const{next:L,error:ee,complete:De}=Ss(_,b,M);return this._delegate.onIdTokenChanged(L,ee,De)}sendSignInLinkToEmail(_,b){return function(I,m,_){return Pt.apply(this,arguments)}(this._delegate,_,b)}sendPasswordResetEmail(_,b){return function(I,m,_){return Zs.apply(this,arguments)}(this._delegate,_,b||void 0)}setPersistence(_){var b=this;return(0,T.Z)(function*(){let M;switch(function(I,m){Ba(Object.values(Ft).includes(m),I,"invalid-persistence-type"),(0,K.b$)()?Ba(m!==Ft.SESSION,I,"unsupported-persistence-type"):(0,K.UG)()?Ba(m===Ft.NONE,I,"unsupported-persistence-type"):oc()?Ba(m===Ft.NONE||m===Ft.LOCAL&&(0,K.hl)(),I,"unsupported-persistence-type"):Ba(m===Ft.NONE||Gu(),I,"unsupported-persistence-type")}(b._delegate,_),_){case Ft.SESSION:M=Qi;break;case Ft.LOCAL:M=(yield fe(Ji)._isAvailable())?Ji:Qs;break;case Ft.NONE:M=Ot;break;default:return Be("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return ln(this._delegate,function(I){return Cu.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return ln(this._delegate,Le(this._delegate,_))}signInWithCustomToken(_){return ln(this._delegate,function(I,m){return gi.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,b){return ln(this._delegate,function(I,m,_){return Le((0,K.m9)(I),Fo.credential(m,_))}(this._delegate,_,b))}signInWithEmailLink(_,b){return ln(this._delegate,function(I,m,_){return Bl.apply(this,arguments)}(this._delegate,_,b))}signInWithPhoneNumber(_,b){return lo(this._delegate,function(I,m,_){return Zl.apply(this,arguments)}(this._delegate,_,b))}signInWithPopup(_){var b=this;return(0,T.Z)(function*(){return Yu(sa(),b._delegate,"operation-not-supported-in-this-environment"),ln(b._delegate,function(I,m,_){return Ou.apply(this,arguments)}(b._delegate,_,$a))})()}signInWithRedirect(_){var b=this;return(0,T.Z)(function*(){return Yu(sa(),b._delegate,"operation-not-supported-in-this-environment"),yield Qd(b._delegate),function(I,m,_){return function(I,m,_){return Bd.apply(this,arguments)}(I,m,_)}(b._delegate,_,$a)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function(I,m){return lf.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return I.Persistence=Ft,I})();function Ss(I,m,_){let b=I;"function"!=typeof I&&({next:b,error:m,complete:_}=I);const M=b;return{next:ee=>M(ee&&Ts.getOrCreate(ee)),error:m,complete:_}}class cc{constructor(){this.providerId="phone",this._delegate=new Mu(Ku(y.Z.auth()))}static credential(m,_){return Mu.credential(m,_)}verifyPhoneNumber(m,_){return this._delegate.verifyPhoneNumber(m,_)}unwrap(){return this._delegate}}cc.PHONE_SIGN_IN_METHOD=Mu.PHONE_SIGN_IN_METHOD,cc.PROVIDER_ID=Mu.PROVIDER_ID;const Ju=Ce;class Xd{constructor(m,_,b=y.Z.app()){var M;Ju(null===(M=b.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new Xs(m,_,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(I){I.INTERNAL.registerComponent(new Se.wA("auth-compat",m=>{const _=m.getProvider("app-compat").getImmediate(),b=m.getProvider("auth");return new Jd(_,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Fo,FacebookAuthProvider:Eu,GithubAuthProvider:Pl,GoogleAuthProvider:Ol,OAuthProvider:Lo,PhoneAuthProvider:cc,PhoneMultiFactorGenerator:Ie,RecaptchaVerifier:Xd,TwitterAuthProvider:Ki,Auth:Jd,AuthCredential:ni,Error:K.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),I.registerVersion("@firebase/auth-compat","0.1.1")}(y.Z)},177:(Je,Te)=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});var j=function(){function T(y,K,le,he){this.id=T.nextId++,this.text="default text",this.cssClass="",this.closeOnClick=!1,this.showCloseBtn=!1,y&&(this.text=y),K&&(this.cssClass=K),le&&(this.closeOnClick=le),he&&(this.showCloseBtn=he)}return T.nextId=0,T}();Te.FlashMessage=j},6635:function(Je,Te,j){"use strict";var T=j(3018),y=j(2143),K=j(8583);function le(z,te){1&z&&T.\u0275\u0275element(0,"div",3)}function he(z,te){if(1&z){var ne=T.\u0275\u0275getCurrentView();T.\u0275\u0275elementStart(0,"button",7),T.\u0275\u0275listener("click",function(){T.\u0275\u0275restoreView(ne);var Me=T.\u0275\u0275nextContext().$implicit;return T.\u0275\u0275nextContext().close(Me)}),T.\u0275\u0275elementStart(1,"span",8),T.\u0275\u0275text(2,"\xd7"),T.\u0275\u0275elementEnd(),T.\u0275\u0275elementEnd()}}var ce=function(z){return{"alert-dismissible":z}};function Se(z,te){if(1&z){var ne=T.\u0275\u0275getCurrentView();T.\u0275\u0275elementStart(0,"div",4),T.\u0275\u0275listener("click",function(){var Oe=T.\u0275\u0275restoreView(ne).$implicit;return T.\u0275\u0275nextContext().alertClicked(Oe)}),T.\u0275\u0275template(1,he,3,0,"button",5),T.\u0275\u0275element(2,"div",6),T.\u0275\u0275elementEnd()}if(2&z){var re=te.$implicit;T.\u0275\u0275classMapInterpolate1("alert flash-message ",re.cssClass,""),T.\u0275\u0275styleProp("cursor",re.closeOnClick?"pointer":"inherit"),T.\u0275\u0275property("ngClass",T.\u0275\u0275pureFunction1(8,ce,re.showCloseBtn)),T.\u0275\u0275advance(1),T.\u0275\u0275property("ngIf",re.showCloseBtn),T.\u0275\u0275advance(1),T.\u0275\u0275property("innerHTML",re.text,T.\u0275\u0275sanitizeHtml)}}var Ee=this&&this.__decorate||function(z,te,ne,re){var Oe,Me=arguments.length,Ae=Me<3?te:null===re?re=Object.getOwnPropertyDescriptor(te,ne):re;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ae=Reflect.decorate(z,te,ne,re);else for(var Be=z.length-1;Be>=0;Be--)(Oe=z[Be])&&(Ae=(Me<3?Oe(Ae):Me>3?Oe(te,ne,Ae):Oe(te,ne))||Ae);return Me>3&&Ae&&Object.defineProperty(te,ne,Ae),Ae},J=this&&this.__metadata||function(z,te){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(z,te)};Object.defineProperty(Te,"__esModule",{value:!0});var B=j(3018),$=j(177),Z=j(2143),G=function(){function z(te,ne){this._flashMessagesService=te,this._cdRef=ne,this._defaults={text:"default message",closeOnClick:!1,showCloseBtn:!1,cssClass:""},this.messages=[],this.classes="",this._grayOut=!1,this._flashMessagesService.show=this.show.bind(this),this._flashMessagesService.grayOut=this.grayOut.bind(this)}return z.prototype.ngOnInit=function(){},z.prototype.show=function(te,ne){var re=this;void 0===ne&&(ne={});var Me={timeout:2500,closeOnClick:!1,showCloseBtn:!1,cssClass:"",text:"default message"};for(var Ae in ne)Me[Ae]=ne[Ae];var Oe=new $.FlashMessage(te,Me.cssClass,Me.closeOnClick,Me.showCloseBtn);Oe.timer=window.setTimeout(function(){re._remove(Oe),re._cdRef.detectChanges()},Me.timeout),this.messages.push(Oe),this._cdRef.detectChanges()},z.prototype.close=function(te){clearTimeout(te.timer),this._remove(te),this._cdRef.detectChanges()},z.prototype.alertClicked=function(te){te.closeOnClick&&this.close(te)},z.prototype.grayOut=function(te){void 0===te&&(te=!1),this._grayOut=te},z.prototype._remove=function(te){this.messages=this.messages.filter(function(ne){return ne.id!==te.id})},(z=Ee([J("design:paramtypes",[Z.FlashMessagesService,B.ChangeDetectorRef])],z)).\u0275fac=function(ne){return new(ne||z)(T.\u0275\u0275directiveInject(y.FlashMessagesService),T.\u0275\u0275directiveInject(T.ChangeDetectorRef))},z.\u0275cmp=T.\u0275\u0275defineComponent({type:z,selectors:[["flash-messages"]],decls:3,vars:2,consts:[["id","flashMessages",1,"flash-messages"],["id","grayOutDiv",4,"ngIf"],[3,"class","ngClass","cursor","click",4,"ngFor","ngForOf"],["id","grayOutDiv"],[3,"ngClass","click"],["type","button","class","close","data-dismiss","alert","aria-label","Close",3,"click",4,"ngIf"],[3,"innerHTML"],["type","button","data-dismiss","alert","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(ne,re){1&ne&&(T.\u0275\u0275elementStart(0,"div",0),T.\u0275\u0275template(1,le,1,0,"div",1),T.\u0275\u0275template(2,Se,3,10,"div",2),T.\u0275\u0275elementEnd()),2&ne&&(T.\u0275\u0275advance(1),T.\u0275\u0275property("ngIf",re._grayOut&&re.messages.length),T.\u0275\u0275advance(1),T.\u0275\u0275property("ngForOf",re.messages))},directives:[K.NgIf,K.NgForOf,K.NgClass],encapsulation:2}),z}();Te.FlashMessagesComponent=G},2143:function(Je,Te,j){"use strict";var T=j(3018);Object.defineProperty(Te,"__esModule",{value:!0}),j(3018);var le=function(){function he(){}return he.\u0275fac=function(Se){return new(Se||he)},he.\u0275prov=T.\u0275\u0275defineInjectable({token:he,factory:function(ce){return he.\u0275fac(ce)}}),he}();Te.FlashMessagesService=le},4334:(Je,Te,j)=>{var y=j(6635),K=j(3832);Te.qz=K.FlashMessagesModule;var le=j(2143);Te.GQ=le.FlashMessagesService,Te.cS=y.FlashMessagesComponent},3832:function(Je,Te,j){"use strict";var T=j(3018);j(6635),j(8583),Object.defineProperty(Te,"__esModule",{value:!0}),j(3018);var ce=j(8583),Ee=(j(6635),j(2143)),J=function(){function B(){}var $;return $=B,B.forRoot=function(){return{ngModule:$,providers:[Ee.FlashMessagesService]}},B.\u0275fac=function(G){return new(G||B)},B.\u0275mod=T.\u0275\u0275defineNgModule({type:B}),B.\u0275inj=T.\u0275\u0275defineInjector({providers:[],imports:[[ce.CommonModule]]}),B}();Te.FlashMessagesModule=J},7574:(Je,Te,j)=>{"use strict";j.d(Te,{y:()=>$});var T=j(7393),K=j(9181),le=j(6490),ce=j(6554),Se=j(4487);var B=j(2494);let $=(()=>{class G{constructor(te){this._isScalar=!1,te&&(this._subscribe=te)}lift(te){const ne=new G;return ne.source=this,ne.operator=te,ne}subscribe(te,ne,re){const{operator:Me}=this,Ae=function(G,z,te){if(G){if(G instanceof T.L)return G;if(G[K.b])return G[K.b]()}return G||z||te?new T.L(G,z,te):new T.L(le.c)}(te,ne,re);if(Ae.add(Me?Me.call(Ae,this.source):this.source||B.v.useDeprecatedSynchronousErrorHandling&&!Ae.syncErrorThrowable?this._subscribe(Ae):this._trySubscribe(Ae)),B.v.useDeprecatedSynchronousErrorHandling&&Ae.syncErrorThrowable&&(Ae.syncErrorThrowable=!1,Ae.syncErrorThrown))throw Ae.syncErrorValue;return Ae}_trySubscribe(te){try{return this._subscribe(te)}catch(ne){B.v.useDeprecatedSynchronousErrorHandling&&(te.syncErrorThrown=!0,te.syncErrorValue=ne),function(G){for(;G;){const{closed:z,destination:te,isStopped:ne}=G;if(z||ne)return!1;G=te&&te instanceof T.L?te:null}return!0}(te)?te.error(ne):console.warn(ne)}}forEach(te,ne){return new(ne=Z(ne))((re,Me)=>{let Ae;Ae=this.subscribe(Oe=>{try{te(Oe)}catch(Be){Me(Be),Ae&&Ae.unsubscribe()}},Me,re)})}_subscribe(te){const{source:ne}=this;return ne&&ne.subscribe(te)}[ce.L](){return this}pipe(...te){return 0===te.length?this:function(G){return 0===G.length?Se.y:1===G.length?G[0]:function(te){return G.reduce((ne,re)=>re(ne),te)}}(te)(this)}toPromise(te){return new(te=Z(te))((ne,re)=>{let Me;this.subscribe(Ae=>Me=Ae,Ae=>re(Ae),()=>ne(Me))})}}return G.create=z=>new G(z),G})();function Z(G){if(G||(G=B.v.Promise||Promise),!G)throw new Error("no Promise impl found");return G}},6490:(Je,Te,j)=>{"use strict";j.d(Te,{c:()=>K});var T=j(2494),y=j(4449);const K={closed:!0,next(le){},error(le){if(T.v.useDeprecatedSynchronousErrorHandling)throw le;(0,y.z)(le)},complete(){}}},9765:(Je,Te,j)=>{"use strict";j.d(Te,{Yc:()=>Se,xQ:()=>Ee});var T=j(7574),y=j(7393),K=j(5319),le=j(7971),he=j(8858),ce=j(9181);class Se extends y.L{constructor($){super($),this.destination=$}}let Ee=(()=>{class B extends T.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ce.b](){return new Se(this)}lift(Z){const G=new J(this,this);return G.operator=Z,G}next(Z){if(this.closed)throw new le.N;if(!this.isStopped){const{observers:G}=this,z=G.length,te=G.slice();for(let ne=0;ne<z;ne++)te[ne].next(Z)}}error(Z){if(this.closed)throw new le.N;this.hasError=!0,this.thrownError=Z,this.isStopped=!0;const{observers:G}=this,z=G.length,te=G.slice();for(let ne=0;ne<z;ne++)te[ne].error(Z);this.observers.length=0}complete(){if(this.closed)throw new le.N;this.isStopped=!0;const{observers:Z}=this,G=Z.length,z=Z.slice();for(let te=0;te<G;te++)z[te].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(Z){if(this.closed)throw new le.N;return super._trySubscribe(Z)}_subscribe(Z){if(this.closed)throw new le.N;return this.hasError?(Z.error(this.thrownError),K.w.EMPTY):this.isStopped?(Z.complete(),K.w.EMPTY):(this.observers.push(Z),new he.W(this,Z))}asObservable(){const Z=new T.y;return Z.source=this,Z}}return B.create=($,Z)=>new J($,Z),B})();class J extends Ee{constructor($,Z){super(),this.destination=$,this.source=Z}next($){const{destination:Z}=this;Z&&Z.next&&Z.next($)}error($){const{destination:Z}=this;Z&&Z.error&&this.destination.error($)}complete(){const{destination:$}=this;$&&$.complete&&this.destination.complete()}_subscribe($){const{source:Z}=this;return Z?this.source.subscribe($):K.w.EMPTY}}},8858:(Je,Te,j)=>{"use strict";j.d(Te,{W:()=>y});var T=j(5319);class y extends T.w{constructor(le,he){super(),this.subject=le,this.subscriber=he,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const le=this.subject,he=le.observers;if(this.subject=null,!he||0===he.length||le.isStopped||le.closed)return;const ce=he.indexOf(this.subscriber);-1!==ce&&he.splice(ce,1)}}},7393:(Je,Te,j)=>{"use strict";j.d(Te,{L:()=>Se});var T=j(9105),y=j(6490),K=j(5319),le=j(9181),he=j(2494),ce=j(4449);class Se extends K.w{constructor(B,$,Z){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=y.c;break;case 1:if(!B){this.destination=y.c;break}if("object"==typeof B){B instanceof Se?(this.syncErrorThrowable=B.syncErrorThrowable,this.destination=B,B.add(this)):(this.syncErrorThrowable=!0,this.destination=new Ee(this,B));break}default:this.syncErrorThrowable=!0,this.destination=new Ee(this,B,$,Z)}}[le.b](){return this}static create(B,$,Z){const G=new Se(B,$,Z);return G.syncErrorThrowable=!1,G}next(B){this.isStopped||this._next(B)}error(B){this.isStopped||(this.isStopped=!0,this._error(B))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(B){this.destination.next(B)}_error(B){this.destination.error(B),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:B}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=B,this}}class Ee extends Se{constructor(B,$,Z,G){super(),this._parentSubscriber=B;let z,te=this;(0,T.m)($)?z=$:$&&(z=$.next,Z=$.error,G=$.complete,$!==y.c&&(te=Object.create($),(0,T.m)(te.unsubscribe)&&this.add(te.unsubscribe.bind(te)),te.unsubscribe=this.unsubscribe.bind(this))),this._context=te,this._next=z,this._error=Z,this._complete=G}next(B){if(!this.isStopped&&this._next){const{_parentSubscriber:$}=this;he.v.useDeprecatedSynchronousErrorHandling&&$.syncErrorThrowable?this.__tryOrSetError($,this._next,B)&&this.unsubscribe():this.__tryOrUnsub(this._next,B)}}error(B){if(!this.isStopped){const{_parentSubscriber:$}=this,{useDeprecatedSynchronousErrorHandling:Z}=he.v;if(this._error)Z&&$.syncErrorThrowable?(this.__tryOrSetError($,this._error,B),this.unsubscribe()):(this.__tryOrUnsub(this._error,B),this.unsubscribe());else if($.syncErrorThrowable)Z?($.syncErrorValue=B,$.syncErrorThrown=!0):(0,ce.z)(B),this.unsubscribe();else{if(this.unsubscribe(),Z)throw B;(0,ce.z)(B)}}}complete(){if(!this.isStopped){const{_parentSubscriber:B}=this;if(this._complete){const $=()=>this._complete.call(this._context);he.v.useDeprecatedSynchronousErrorHandling&&B.syncErrorThrowable?(this.__tryOrSetError(B,$),this.unsubscribe()):(this.__tryOrUnsub($),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(B,$){try{B.call(this._context,$)}catch(Z){if(this.unsubscribe(),he.v.useDeprecatedSynchronousErrorHandling)throw Z;(0,ce.z)(Z)}}__tryOrSetError(B,$,Z){if(!he.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{$.call(this._context,Z)}catch(G){return he.v.useDeprecatedSynchronousErrorHandling?(B.syncErrorValue=G,B.syncErrorThrown=!0,!0):((0,ce.z)(G),!0)}return!1}_unsubscribe(){const{_parentSubscriber:B}=this;this._context=null,this._parentSubscriber=null,B.unsubscribe()}}},5319:(Je,Te,j)=>{"use strict";j.d(Te,{w:()=>ce});var T=j(9796),y=j(1555),K=j(9105);const he=(()=>{function Ee(J){return Error.call(this),this.message=J?`${J.length} errors occurred during unsubscription:\n${J.map((B,$)=>`${$+1}) ${B.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=J,this}return Ee.prototype=Object.create(Error.prototype),Ee})();class ce{constructor(J){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,J&&(this._ctorUnsubscribe=!0,this._unsubscribe=J)}unsubscribe(){let J;if(this.closed)return;let{_parentOrParents:B,_ctorUnsubscribe:$,_unsubscribe:Z,_subscriptions:G}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,B instanceof ce)B.remove(this);else if(null!==B)for(let z=0;z<B.length;++z)B[z].remove(this);if((0,K.m)(Z)){$&&(this._unsubscribe=void 0);try{Z.call(this)}catch(z){J=z instanceof he?Se(z.errors):[z]}}if((0,T.k)(G)){let z=-1,te=G.length;for(;++z<te;){const ne=G[z];if((0,y.K)(ne))try{ne.unsubscribe()}catch(re){J=J||[],re instanceof he?J=J.concat(Se(re.errors)):J.push(re)}}}if(J)throw new he(J)}add(J){let B=J;if(!J)return ce.EMPTY;switch(typeof J){case"function":B=new ce(J);case"object":if(B===this||B.closed||"function"!=typeof B.unsubscribe)return B;if(this.closed)return B.unsubscribe(),B;if(!(B instanceof ce)){const G=B;B=new ce,B._subscriptions=[G]}break;default:throw new Error("unrecognized teardown "+J+" added to Subscription.")}let{_parentOrParents:$}=B;if(null===$)B._parentOrParents=this;else if($ instanceof ce){if($===this)return B;B._parentOrParents=[$,this]}else{if(-1!==$.indexOf(this))return B;$.push(this)}const Z=this._subscriptions;return null===Z?this._subscriptions=[B]:Z.push(B),B}remove(J){const B=this._subscriptions;if(B){const $=B.indexOf(J);-1!==$&&B.splice($,1)}}}var Ee;function Se(Ee){return Ee.reduce((J,B)=>J.concat(B instanceof he?B.errors:B),[])}ce.EMPTY=((Ee=new ce).closed=!0,Ee)},2494:(Je,Te,j)=>{"use strict";j.d(Te,{v:()=>y});let T=!1;const y={Promise:void 0,set useDeprecatedSynchronousErrorHandling(K){if(K){const le=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+le.stack)}else T&&console.log("RxJS: Back to a better error behavior. Thank you. <3");T=K},get useDeprecatedSynchronousErrorHandling(){return T}}},5345:(Je,Te,j)=>{"use strict";j.d(Te,{IY:()=>le,Ds:()=>ce,ft:()=>Ee});var T=j(7393),y=j(7574),K=j(7444);class le extends T.L{constructor(B){super(),this.parent=B}_next(B){this.parent.notifyNext(B)}_error(B){this.parent.notifyError(B),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ce extends T.L{notifyNext(B){this.destination.next(B)}notifyError(B){this.destination.error(B)}notifyComplete(){this.destination.complete()}}function Ee(J,B){if(B.closed)return;if(J instanceof y.y)return J.subscribe(B);let $;try{$=(0,K.s)(J)(B)}catch(Z){B.error(Z)}return $}},2441:(Je,Te,j)=>{"use strict";j.d(Te,{c:()=>he,N:()=>ce});var T=j(9765),y=j(7574),K=j(5319),le=j(1307);class he extends y.y{constructor($,Z){super(),this.source=$,this.subjectFactory=Z,this._refCount=0,this._isComplete=!1}_subscribe($){return this.getSubject().subscribe($)}getSubject(){const $=this._subject;return(!$||$.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let $=this._connection;return $||(this._isComplete=!1,$=this._connection=new K.w,$.add(this.source.subscribe(new Se(this.getSubject(),this))),$.closed&&(this._connection=null,$=K.w.EMPTY)),$}refCount(){return(0,le.x)()(this)}}const ce=(()=>{const B=he.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:B._subscribe},_isComplete:{value:B._isComplete,writable:!0},getSubject:{value:B.getSubject},connect:{value:B.connect},refCount:{value:B.refCount}}})();class Se extends T.Yc{constructor($,Z){super($),this.connectable=Z}_error($){this._unsubscribe(),super._error($)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const $=this.connectable;if($){this.connectable=null;const Z=$._connection;$._refCount=0,$._subject=null,$._connection=null,Z&&Z.unsubscribe()}}}},9193:(Je,Te,j)=>{"use strict";j.d(Te,{E:()=>y,c:()=>K});var T=j(7574);const y=new T.y(he=>he.complete());function K(he){return he?function(he){return new T.y(ce=>he.schedule(()=>ce.complete()))}(he):y}},4402:(Je,Te,j)=>{"use strict";j.d(Te,{D:()=>te});var T=j(7574),y=j(7444),K=j(5319),le=j(6554),Se=j(4087),Ee=j(377),$=j(4072),Z=j(9489);function te(ne,re){return re?function(ne,re){if(null!=ne){if(function(ne){return ne&&"function"==typeof ne[le.L]}(ne))return function(ne,re){return new T.y(Me=>{const Ae=new K.w;return Ae.add(re.schedule(()=>{const Oe=ne[le.L]();Ae.add(Oe.subscribe({next(Be){Ae.add(re.schedule(()=>Me.next(Be)))},error(Be){Ae.add(re.schedule(()=>Me.error(Be)))},complete(){Ae.add(re.schedule(()=>Me.complete()))}}))})),Ae})}(ne,re);if((0,$.t)(ne))return function(ne,re){return new T.y(Me=>{const Ae=new K.w;return Ae.add(re.schedule(()=>ne.then(Oe=>{Ae.add(re.schedule(()=>{Me.next(Oe),Ae.add(re.schedule(()=>Me.complete()))}))},Oe=>{Ae.add(re.schedule(()=>Me.error(Oe)))}))),Ae})}(ne,re);if((0,Z.z)(ne))return(0,Se.r)(ne,re);if(function(ne){return ne&&"function"==typeof ne[Ee.hZ]}(ne)||"string"==typeof ne)return function(ne,re){if(!ne)throw new Error("Iterable cannot be null");return new T.y(Me=>{const Ae=new K.w;let Oe;return Ae.add(()=>{Oe&&"function"==typeof Oe.return&&Oe.return()}),Ae.add(re.schedule(()=>{Oe=ne[Ee.hZ](),Ae.add(re.schedule(function(){if(Me.closed)return;let Be,qe;try{const $e=Oe.next();Be=$e.value,qe=$e.done}catch($e){return void Me.error($e)}qe?Me.complete():(Me.next(Be),this.schedule())}))})),Ae})}(ne,re)}throw new TypeError((null!==ne&&typeof ne||ne)+" is not observable")}(ne,re):ne instanceof T.y?ne:new T.y((0,y.s)(ne))}},6693:(Je,Te,j)=>{"use strict";j.d(Te,{n:()=>le});var T=j(7574),y=j(5015),K=j(4087);function le(he,ce){return ce?(0,K.r)(he,ce):new T.y((0,y.V)(he))}},6682:(Je,Te,j)=>{"use strict";j.d(Te,{T:()=>he});var T=j(7574),y=j(4869),K=j(3282),le=j(6693);function he(...ce){let Se=Number.POSITIVE_INFINITY,Ee=null,J=ce[ce.length-1];return(0,y.K)(J)?(Ee=ce.pop(),ce.length>1&&"number"==typeof ce[ce.length-1]&&(Se=ce.pop())):"number"==typeof J&&(Se=ce.pop()),null===Ee&&1===ce.length&&ce[0]instanceof T.y?ce[0]:(0,K.J)(Se)((0,le.n)(ce,Ee))}},5917:(Je,Te,j)=>{"use strict";j.d(Te,{of:()=>le});var T=j(4869),y=j(6693),K=j(4087);function le(...he){let ce=he[he.length-1];return(0,T.K)(ce)?(he.pop(),(0,K.r)(he,ce)):(0,y.n)(he)}},8002:(Je,Te,j)=>{"use strict";j.d(Te,{U:()=>y});var T=j(7393);function y(he,ce){return function(Ee){if("function"!=typeof he)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Ee.lift(new K(he,ce))}}class K{constructor(ce,Se){this.project=ce,this.thisArg=Se}call(ce,Se){return Se.subscribe(new le(ce,this.project,this.thisArg))}}class le extends T.L{constructor(ce,Se,Ee){super(ce),this.project=Se,this.count=0,this.thisArg=Ee||this}_next(ce){let Se;try{Se=this.project.call(this.thisArg,ce,this.count++)}catch(Ee){return void this.destination.error(Ee)}this.destination.next(Se)}}},3282:(Je,Te,j)=>{"use strict";j.d(Te,{J:()=>K});var T=j(9773),y=j(4487);function K(le=Number.POSITIVE_INFINITY){return(0,T.zg)(y.y,le)}},9773:(Je,Te,j)=>{"use strict";j.d(Te,{zg:()=>le});var T=j(8002),y=j(4402),K=j(5345);function le(Ee,J,B=Number.POSITIVE_INFINITY){return"function"==typeof J?$=>$.pipe(le((Z,G)=>(0,y.D)(Ee(Z,G)).pipe((0,T.U)((z,te)=>J(Z,z,G,te))),B)):("number"==typeof J&&(B=J),$=>$.lift(new he(Ee,B)))}class he{constructor(J,B=Number.POSITIVE_INFINITY){this.project=J,this.concurrent=B}call(J,B){return B.subscribe(new ce(J,this.project,this.concurrent))}}class ce extends K.Ds{constructor(J,B,$=Number.POSITIVE_INFINITY){super(J),this.project=B,this.concurrent=$,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(J){this.active<this.concurrent?this._tryNext(J):this.buffer.push(J)}_tryNext(J){let B;const $=this.index++;try{B=this.project(J,$)}catch(Z){return void this.destination.error(Z)}this.active++,this._innerSub(B)}_innerSub(J){const B=new K.IY(this),$=this.destination;$.add(B);const Z=(0,K.ft)(J,B);Z!==B&&$.add(Z)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(J){this.destination.next(J)}notifyComplete(){const J=this.buffer;this.active--,J.length>0?this._next(J.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Je,Te,j)=>{"use strict";j.d(Te,{ht:()=>$,QV:()=>J});var T=j(7393),y=j(9193),K=j(5917),le=j(7574);class Ee{constructor(z,te,ne){this.kind=z,this.value=te,this.error=ne,this.hasValue="N"===z}observe(z){switch(this.kind){case"N":return z.next&&z.next(this.value);case"E":return z.error&&z.error(this.error);case"C":return z.complete&&z.complete()}}do(z,te,ne){switch(this.kind){case"N":return z&&z(this.value);case"E":return te&&te(this.error);case"C":return ne&&ne()}}accept(z,te,ne){return z&&"function"==typeof z.next?this.observe(z):this.do(z,te,ne)}toObservable(){switch(this.kind){case"N":return(0,K.of)(this.value);case"E":return G=this.error,new le.y(te=>te.error(G));case"C":return(0,y.c)()}var G;throw new Error("unexpected notification kind value")}static createNext(z){return void 0!==z?new Ee("N",z):Ee.undefinedValueNotification}static createError(z){return new Ee("E",void 0,z)}static createComplete(){return Ee.completeNotification}}function J(G,z=0){return function(ne){return ne.lift(new B(G,z))}}Ee.completeNotification=new Ee("C"),Ee.undefinedValueNotification=new Ee("N",void 0);class B{constructor(z,te=0){this.scheduler=z,this.delay=te}call(z,te){return te.subscribe(new $(z,this.scheduler,this.delay))}}class $ extends T.L{constructor(z,te,ne=0){super(z),this.scheduler=te,this.delay=ne}static dispatch(z){const{notification:te,destination:ne}=z;te.observe(ne),this.unsubscribe()}scheduleMessage(z){this.destination.add(this.scheduler.schedule($.dispatch,this.delay,new Z(z,this.destination)))}_next(z){this.scheduleMessage(Ee.createNext(z))}_error(z){this.scheduleMessage(Ee.createError(z)),this.unsubscribe()}_complete(){this.scheduleMessage(Ee.createComplete()),this.unsubscribe()}}class Z{constructor(z,te){this.notification=z,this.destination=te}}},1307:(Je,Te,j)=>{"use strict";j.d(Te,{x:()=>y});var T=j(7393);function y(){return function(ce){return ce.lift(new K(ce))}}class K{constructor(ce){this.connectable=ce}call(ce,Se){const{connectable:Ee}=this;Ee._refCount++;const J=new le(ce,Ee),B=Se.subscribe(J);return J.closed||(J.connection=Ee.connect()),B}}class le extends T.L{constructor(ce,Se){super(ce),this.connectable=Se}_unsubscribe(){const{connectable:ce}=this;if(!ce)return void(this.connection=null);this.connectable=null;const Se=ce._refCount;if(Se<=0)return void(this.connection=null);if(ce._refCount=Se-1,Se>1)return void(this.connection=null);const{connection:Ee}=this,J=ce._connection;this.connection=null,J&&(!Ee||J===Ee)&&J.unsubscribe()}}},3101:(Je,Te,j)=>{"use strict";j.d(Te,{R:()=>re});var T=j(7574);let y=1;const K=Promise.resolve(),le={};function he(Ae){return Ae in le&&(delete le[Ae],!0)}const ce={setImmediate(Ae){const Oe=y++;return le[Oe]=!0,K.then(()=>he(Oe)&&Ae()),Oe},clearImmediate(Ae){he(Ae)}};var Ee=j(6465),B=j(6102);const G=new class extends B.v{flush(Oe){this.active=!0,this.scheduled=void 0;const{actions:Be}=this;let qe,$e=-1,Ce=Be.length;Oe=Oe||Be.shift();do{if(qe=Oe.execute(Oe.state,Oe.delay))break}while(++$e<Ce&&(Oe=Be.shift()));if(this.active=!1,qe){for(;++$e<Ce&&(Oe=Be.shift());)Oe.unsubscribe();throw qe}}}(class extends Ee.o{constructor(Oe,Be){super(Oe,Be),this.scheduler=Oe,this.work=Be}requestAsyncId(Oe,Be,qe=0){return null!==qe&&qe>0?super.requestAsyncId(Oe,Be,qe):(Oe.actions.push(this),Oe.scheduled||(Oe.scheduled=ce.setImmediate(Oe.flush.bind(Oe,null))))}recycleAsyncId(Oe,Be,qe=0){if(null!==qe&&qe>0||null===qe&&this.delay>0)return super.recycleAsyncId(Oe,Be,qe);0===Oe.actions.length&&(ce.clearImmediate(Be),Oe.scheduled=void 0)}});var z=j(9796);class ne extends T.y{constructor(Oe,Be=0,qe=G){var Ae;super(),this.source=Oe,this.delayTime=Be,this.scheduler=qe,(!(!(0,z.k)(Ae=Be)&&Ae-parseFloat(Ae)+1>=0)||Be<0)&&(this.delayTime=0),(!qe||"function"!=typeof qe.schedule)&&(this.scheduler=G)}static create(Oe,Be=0,qe=G){return new ne(Oe,Be,qe)}static dispatch(Oe){const{source:Be,subscriber:qe}=Oe;return this.add(Be.subscribe(qe))}_subscribe(Oe){return this.scheduler.schedule(ne.dispatch,this.delayTime,{source:this.source,subscriber:Oe})}}function re(Ae,Oe=0){return function(qe){return qe.lift(new Me(Ae,Oe))}}class Me{constructor(Oe,Be){this.scheduler=Oe,this.delay=Be}call(Oe,Be){return new ne(Be,this.delay,this.scheduler).subscribe(Oe)}}},3342:(Je,Te,j)=>{"use strict";j.d(Te,{b:()=>le});var T=j(7393);function y(){}var K=j(9105);function le(Se,Ee,J){return function($){return $.lift(new he(Se,Ee,J))}}class he{constructor(Ee,J,B){this.nextOrObserver=Ee,this.error=J,this.complete=B}call(Ee,J){return J.subscribe(new ce(Ee,this.nextOrObserver,this.error,this.complete))}}class ce extends T.L{constructor(Ee,J,B,$){super(Ee),this._tapNext=y,this._tapError=y,this._tapComplete=y,this._tapError=B||y,this._tapComplete=$||y,(0,K.m)(J)?(this._context=this,this._tapNext=J):J&&(this._context=J,this._tapNext=J.next||y,this._tapError=J.error||y,this._tapComplete=J.complete||y)}_next(Ee){try{this._tapNext.call(this._context,Ee)}catch(J){return void this.destination.error(J)}this.destination.next(Ee)}_error(Ee){try{this._tapError.call(this._context,Ee)}catch(J){return void this.destination.error(J)}this.destination.error(Ee)}_complete(){try{this._tapComplete.call(this._context)}catch(Ee){return void this.destination.error(Ee)}return this.destination.complete()}}},4087:(Je,Te,j)=>{"use strict";j.d(Te,{r:()=>K});var T=j(7574),y=j(5319);function K(le,he){return new T.y(ce=>{const Se=new y.w;let Ee=0;return Se.add(he.schedule(function(){Ee!==le.length?(ce.next(le[Ee++]),ce.closed||Se.add(this.schedule())):ce.complete()})),Se})}},6465:(Je,Te,j)=>{"use strict";j.d(Te,{o:()=>K});var T=j(5319);class y extends T.w{constructor(he,ce){super()}schedule(he,ce=0){return this}}class K extends y{constructor(he,ce){super(he,ce),this.scheduler=he,this.work=ce,this.pending=!1}schedule(he,ce=0){if(this.closed)return this;this.state=he;const Se=this.id,Ee=this.scheduler;return null!=Se&&(this.id=this.recycleAsyncId(Ee,Se,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(Ee,this.id,ce),this}requestAsyncId(he,ce,Se=0){return setInterval(he.flush.bind(he,this),Se)}recycleAsyncId(he,ce,Se=0){if(null!==Se&&this.delay===Se&&!1===this.pending)return ce;clearInterval(ce)}execute(he,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Se=this._execute(he,ce);if(Se)return Se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(he,ce){let Ee,Se=!1;try{this.work(he)}catch(J){Se=!0,Ee=!!J&&J||new Error(J)}if(Se)return this.unsubscribe(),Ee}_unsubscribe(){const he=this.id,ce=this.scheduler,Se=ce.actions,Ee=Se.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Ee&&Se.splice(Ee,1),null!=he&&(this.id=this.recycleAsyncId(ce,he,null)),this.delay=null}}},6102:(Je,Te,j)=>{"use strict";j.d(Te,{v:()=>y});let T=(()=>{class K{constructor(he,ce=K.now){this.SchedulerAction=he,this.now=ce}schedule(he,ce=0,Se){return new this.SchedulerAction(this,he).schedule(Se,ce)}}return K.now=()=>Date.now(),K})();class y extends T{constructor(le,he=T.now){super(le,()=>y.delegate&&y.delegate!==this?y.delegate.now():he()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(le,he=0,ce){return y.delegate&&y.delegate!==this?y.delegate.schedule(le,he,ce):super.schedule(le,he,ce)}flush(le){const{actions:he}=this;if(this.active)return void he.push(le);let ce;this.active=!0;do{if(ce=le.execute(le.state,le.delay))break}while(le=he.shift());if(this.active=!1,ce){for(;le=he.shift();)le.unsubscribe();throw ce}}}},3637:(Je,Te,j)=>{"use strict";j.d(Te,{z:()=>K});var T=j(6465);const K=new(j(6102).v)(T.o)},7771:(Je,Te,j)=>{"use strict";j.d(Te,{c:()=>ce,N:()=>he});var T=j(6465),K=j(6102);const he=new class extends K.v{}(class extends T.o{constructor(Ee,J){super(Ee,J),this.scheduler=Ee,this.work=J}schedule(Ee,J=0){return J>0?super.schedule(Ee,J):(this.delay=J,this.state=Ee,this.scheduler.flush(this),this)}execute(Ee,J){return J>0||this.closed?super.execute(Ee,J):this._execute(Ee,J)}requestAsyncId(Ee,J,B=0){return null!==B&&B>0||null===B&&this.delay>0?super.requestAsyncId(Ee,J,B):Ee.flush(this)}}),ce=he},377:(Je,Te,j)=>{"use strict";j.d(Te,{hZ:()=>y});const y="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Je,Te,j)=>{"use strict";j.d(Te,{L:()=>T});const T="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Je,Te,j)=>{"use strict";j.d(Te,{b:()=>T});const T="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Je,Te,j)=>{"use strict";j.d(Te,{N:()=>y});const y=(()=>{function K(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return K.prototype=Object.create(Error.prototype),K})()},4449:(Je,Te,j)=>{"use strict";function T(y){setTimeout(()=>{throw y},0)}j.d(Te,{z:()=>T})},4487:(Je,Te,j)=>{"use strict";function T(y){return y}j.d(Te,{y:()=>T})},9796:(Je,Te,j)=>{"use strict";j.d(Te,{k:()=>T});const T=Array.isArray||(y=>y&&"number"==typeof y.length)},9489:(Je,Te,j)=>{"use strict";j.d(Te,{z:()=>T});const T=y=>y&&"number"==typeof y.length&&"function"!=typeof y},9105:(Je,Te,j)=>{"use strict";function T(y){return"function"==typeof y}j.d(Te,{m:()=>T})},1555:(Je,Te,j)=>{"use strict";function T(y){return null!==y&&"object"==typeof y}j.d(Te,{K:()=>T})},4072:(Je,Te,j)=>{"use strict";function T(y){return!!y&&"function"!=typeof y.subscribe&&"function"==typeof y.then}j.d(Te,{t:()=>T})},4869:(Je,Te,j)=>{"use strict";function T(y){return y&&"function"==typeof y.schedule}j.d(Te,{K:()=>T})},7444:(Je,Te,j)=>{"use strict";j.d(Te,{s:()=>$});var T=j(5015),y=j(4449),le=j(377),ce=j(6554),Ee=j(9489),J=j(4072),B=j(1555);const $=Z=>{if(Z&&"function"==typeof Z[ce.L])return(Z=>G=>{const z=Z[ce.L]();if("function"!=typeof z.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return z.subscribe(G)})(Z);if((0,Ee.z)(Z))return(0,T.V)(Z);if((0,J.t)(Z))return(Z=>G=>(Z.then(z=>{G.closed||(G.next(z),G.complete())},z=>G.error(z)).then(null,y.z),G))(Z);if(Z&&"function"==typeof Z[le.hZ])return(Z=>G=>{const z=Z[le.hZ]();for(;;){let te;try{te=z.next()}catch(ne){return G.error(ne),G}if(te.done){G.complete();break}if(G.next(te.value),G.closed)break}return"function"==typeof z.return&&G.add(()=>{z.return&&z.return()}),G})(Z);{const z=`You provided ${(0,B.K)(Z)?"an invalid object":`'${Z}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(z)}}},5015:(Je,Te,j)=>{"use strict";j.d(Te,{V:()=>T});const T=y=>K=>{for(let le=0,he=y.length;le<he&&!K.closed;le++)K.next(y[le]);K.complete()}},5514:(Je,Te,j)=>{"use strict";var T=j(8583),y=j(3018);class K extends T.\u0275DomAdapter{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class le extends K{static makeCurrent(){(0,T.\u0275setRootDomAdapter)(new le)}onAndCancel(r,i,u){return r.addEventListener(i,u,!1),()=>{r.removeEventListener(i,u,!1)}}dispatchEvent(r,i){r.dispatchEvent(i)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,i){return(i=i||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,i){return"window"===i?window:"document"===i?r:"body"===i?r.body:null}getBaseHref(r){const i=(he=he||document.querySelector("base"),he?he.getAttribute("href"):null);return null==i?null:function(s){Se=Se||document.createElement("a"),Se.setAttribute("href",s);const r=Se.pathname;return"/"===r.charAt(0)?r:`/${r}`}(i)}resetBaseElement(){he=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return(0,T.\u0275parseCookieValue)(document.cookie,r)}}let Se,he=null;const J=new y.InjectionToken("TRANSITION_ID"),$=[{provide:y.APP_INITIALIZER,useFactory:function(s,r,i){return()=>{i.get(y.ApplicationInitStatus).donePromise.then(()=>{const u=(0,T.\u0275getDOM)(),d=r.querySelectorAll(`style[ng-transition="${s}"]`);for(let f=0;f<d.length;f++)u.remove(d[f])})}},deps:[J,T.DOCUMENT,y.Injector],multi:!0}];class Z{static init(){(0,y.setTestabilityGetter)(new Z)}addToWindow(r){y.\u0275global.getAngularTestability=(u,d=!0)=>{const f=r.findTestabilityInTree(u,d);if(null==f)throw new Error("Could not find testability for element.");return f},y.\u0275global.getAllAngularTestabilities=()=>r.getAllTestabilities(),y.\u0275global.getAllAngularRootElements=()=>r.getAllRootElements(),y.\u0275global.frameworkStabilizers||(y.\u0275global.frameworkStabilizers=[]),y.\u0275global.frameworkStabilizers.push(u=>{const d=y.\u0275global.getAllAngularTestabilities();let f=d.length,E=!1;const w=function(A){E=E||A,f--,0==f&&u(E)};d.forEach(function(A){A.whenStable(w)})})}findTestabilityInTree(r,i,u){if(null==i)return null;const d=r.getTestability(i);return null!=d?d:u?(0,T.\u0275getDOM)().isShadowRoot(i)?this.findTestabilityInTree(r,i.host,!0):this.findTestabilityInTree(r,i.parentElement,!0):null}}let G=(()=>{class s{build(){return new XMLHttpRequest}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=y.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s})();const ye=new y.InjectionToken("EventManagerPlugins");let we=(()=>{class s{constructor(i,u){this._zone=u,this._eventNameToPlugin=new Map,i.forEach(d=>d.manager=this),this._plugins=i.slice().reverse()}addEventListener(i,u,d){return this._findPluginFor(u).addEventListener(i,u,d)}addGlobalEventListener(i,u,d){return this._findPluginFor(u).addGlobalEventListener(i,u,d)}getZone(){return this._zone}_findPluginFor(i){const u=this._eventNameToPlugin.get(i);if(u)return u;const d=this._plugins;for(let f=0;f<d.length;f++){const E=d[f];if(E.supports(i))return this._eventNameToPlugin.set(i,E),E}throw new Error(`No event manager plugin found for event ${i}`)}}return s.\u0275fac=function(i){return new(i||s)(y.\u0275\u0275inject(ye),y.\u0275\u0275inject(y.NgZone))},s.\u0275prov=y.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s})();class ge{constructor(r){this._doc=r}addGlobalEventListener(r,i,u){const d=(0,T.\u0275getDOM)().getGlobalEventTarget(this._doc,r);if(!d)throw new Error(`Unsupported event target ${d} for event ${i}`);return this.addEventListener(d,i,u)}}let se=(()=>{class s{constructor(){this._stylesSet=new Set}addStyles(i){const u=new Set;i.forEach(d=>{this._stylesSet.has(d)||(this._stylesSet.add(d),u.add(d))}),this.onStylesAdded(u)}onStylesAdded(i){}getAllStyles(){return Array.from(this._stylesSet)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=y.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s})(),xe=(()=>{class s extends se{constructor(i){super(),this._doc=i,this._hostNodes=new Map,this._hostNodes.set(i.head,[])}_addStylesToHost(i,u,d){i.forEach(f=>{const E=this._doc.createElement("style");E.textContent=f,d.push(u.appendChild(E))})}addHost(i){const u=[];this._addStylesToHost(this._stylesSet,i,u),this._hostNodes.set(i,u)}removeHost(i){const u=this._hostNodes.get(i);u&&u.forEach(it),this._hostNodes.delete(i)}onStylesAdded(i){this._hostNodes.forEach((u,d)=>{this._addStylesToHost(i,d,u)})}ngOnDestroy(){this._hostNodes.forEach(i=>i.forEach(it))}}return s.\u0275fac=function(i){return new(i||s)(y.\u0275\u0275inject(T.DOCUMENT))},s.\u0275prov=y.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s})();function it(s){(0,T.\u0275getDOM)().remove(s)}const Dt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},tt=/%COMP%/g;function Rt(s,r,i){for(let u=0;u<r.length;u++){let d=r[u];Array.isArray(d)?Rt(s,d,i):(d=d.replace(tt,s),i.push(d))}return i}function fr(s){return r=>{if("__ngUnwrap__"===r)return s;!1===s(r)&&(r.preventDefault(),r.returnValue=!1)}}let pr=(()=>{class s{constructor(i,u,d){this.eventManager=i,this.sharedStylesHost=u,this.appId=d,this.rendererByCompId=new Map,this.defaultRenderer=new an(i)}createRenderer(i,u){if(!i||!u)return this.defaultRenderer;switch(u.encapsulation){case y.ViewEncapsulation.Emulated:{let d=this.rendererByCompId.get(u.id);return d||(d=new Ws(this.eventManager,this.sharedStylesHost,u,this.appId),this.rendererByCompId.set(u.id,d)),d.applyToHost(i),d}case 1:case y.ViewEncapsulation.ShadowDom:return new Gs(this.eventManager,this.sharedStylesHost,i,u);default:if(!this.rendererByCompId.has(u.id)){const d=Rt(u.id,u.styles,[]);this.sharedStylesHost.addStyles(d),this.rendererByCompId.set(u.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return s.\u0275fac=function(i){return new(i||s)(y.\u0275\u0275inject(we),y.\u0275\u0275inject(xe),y.\u0275\u0275inject(y.APP_ID))},s.\u0275prov=y.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s})();class an{constructor(r){this.eventManager=r,this.data=Object.create(null)}destroy(){}createElement(r,i){return i?document.createElementNS(Dt[i]||i,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,i){r.appendChild(i)}insertBefore(r,i,u){r&&r.insertBefore(i,u)}removeChild(r,i){r&&r.removeChild(i)}selectRootElement(r,i){let u="string"==typeof r?document.querySelector(r):r;if(!u)throw new Error(`The selector "${r}" did not match any elements`);return i||(u.textContent=""),u}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,i,u,d){if(d){i=d+":"+i;const f=Dt[d];f?r.setAttributeNS(f,i,u):r.setAttribute(i,u)}else r.setAttribute(i,u)}removeAttribute(r,i,u){if(u){const d=Dt[u];d?r.removeAttributeNS(d,i):r.removeAttribute(`${u}:${i}`)}else r.removeAttribute(i)}addClass(r,i){r.classList.add(i)}removeClass(r,i){r.classList.remove(i)}setStyle(r,i,u,d){d&(y.RendererStyleFlags2.DashCase|y.RendererStyleFlags2.Important)?r.style.setProperty(i,u,d&y.RendererStyleFlags2.Important?"important":""):r.style[i]=u}removeStyle(r,i,u){u&y.RendererStyleFlags2.DashCase?r.style.removeProperty(i):r.style[i]=""}setProperty(r,i,u){r[i]=u}setValue(r,i){r.nodeValue=i}listen(r,i,u){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,i,fr(u)):this.eventManager.addEventListener(r,i,fr(u))}}class Ws extends an{constructor(r,i,u,d){super(r),this.component=u;const f=Rt(d+"-"+u.id,u.styles,[]);i.addStyles(f),this.contentAttr="_ngcontent-%COMP%".replace(tt,d+"-"+u.id),this.hostAttr=function(s){return"_nghost-%COMP%".replace(tt,s)}(d+"-"+u.id)}applyToHost(r){super.setAttribute(r,this.hostAttr,"")}createElement(r,i){const u=super.createElement(r,i);return super.setAttribute(u,this.contentAttr,""),u}}class Gs extends an{constructor(r,i,u,d){super(r),this.sharedStylesHost=i,this.hostEl=u,this.shadowRoot=u.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const f=Rt(d.id,d.styles,[]);for(let E=0;E<f.length;E++){const w=document.createElement("style");w.textContent=f[E],this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(r,i){return super.appendChild(this.nodeOrShadowRoot(r),i)}insertBefore(r,i,u){return super.insertBefore(this.nodeOrShadowRoot(r),i,u)}removeChild(r,i){return super.removeChild(this.nodeOrShadowRoot(r),i)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}}let fs=(()=>{class s extends ge{constructor(i){super(i)}supports(i){return!0}addEventListener(i,u,d){return i.addEventListener(u,d,!1),()=>this.removeEventListener(i,u,d)}removeEventListener(i,u,d){return i.removeEventListener(u,d)}}return s.\u0275fac=function(i){return new(i||s)(y.\u0275\u0275inject(T.DOCUMENT))},s.\u0275prov=y.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s})();const Xt=["alt","control","meta","shift"],Xe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Sl={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey};let gn=(()=>{class s extends ge{constructor(i){super(i)}supports(i){return null!=s.parseEventName(i)}addEventListener(i,u,d){const f=s.parseEventName(u),E=s.eventCallback(f.fullKey,d,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,T.\u0275getDOM)().onAndCancel(i,f.domEventName,E))}static parseEventName(i){const u=i.toLowerCase().split("."),d=u.shift();if(0===u.length||"keydown"!==d&&"keyup"!==d)return null;const f=s._normalizeKey(u.pop());let E="";if(Xt.forEach(A=>{const P=u.indexOf(A);P>-1&&(u.splice(P,1),E+=A+".")}),E+=f,0!=u.length||0===f.length)return null;const w={};return w.domEventName=d,w.fullKey=E,w}static getEventFullKey(i){let u="",d=function(s){let r=s.key;if(null==r){if(r=s.keyIdentifier,null==r)return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===s.location&&gr.hasOwnProperty(r)&&(r=gr[r]))}return Xe[r]||r}(i);return d=d.toLowerCase()," "===d?d="space":"."===d&&(d="dot"),Xt.forEach(f=>{f!=d&&Sl[f](i)&&(u+=f+".")}),u+=d,u}static eventCallback(i,u,d){return f=>{s.getEventFullKey(f)===i&&d.runGuarded(()=>u(f))}}static _normalizeKey(i){switch(i){case"esc":return"escape";default:return i}}}return s.\u0275fac=function(i){return new(i||s)(y.\u0275\u0275inject(T.DOCUMENT))},s.\u0275prov=y.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s})();const qn=(0,y.createPlatformFactory)(y.platformCore,"browser",[{provide:y.PLATFORM_ID,useValue:T.\u0275PLATFORM_BROWSER_ID},{provide:y.PLATFORM_INITIALIZER,useValue:function(){le.makeCurrent(),Z.init()},multi:!0},{provide:T.DOCUMENT,useFactory:function(){return(0,y.\u0275setDocument)(document),document},deps:[]}]),ps=[[],{provide:y.\u0275INJECTOR_SCOPE,useValue:"root"},{provide:y.ErrorHandler,useFactory:function(){return new y.ErrorHandler},deps:[]},{provide:ye,useClass:fs,multi:!0,deps:[T.DOCUMENT,y.NgZone,y.PLATFORM_ID]},{provide:ye,useClass:gn,multi:!0,deps:[T.DOCUMENT]},[],{provide:pr,useClass:pr,deps:[we,xe,y.APP_ID]},{provide:y.RendererFactory2,useExisting:pr},{provide:se,useExisting:xe},{provide:xe,useClass:xe,deps:[T.DOCUMENT]},{provide:y.Testability,useClass:y.Testability,deps:[y.NgZone]},{provide:we,useClass:we,deps:[ye,y.NgZone]},{provide:T.XhrFactory,useClass:G,deps:[]},[]];let Ao=(()=>{class s{constructor(i){if(i)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(i){return{ngModule:s,providers:[{provide:y.APP_ID,useValue:i.appId},{provide:J,useExisting:y.APP_ID},$]}}}return s.\u0275fac=function(i){return new(i||s)(y.\u0275\u0275inject(s,12))},s.\u0275mod=y.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=y.\u0275\u0275defineInjector({providers:ps,imports:[T.CommonModule,y.ApplicationModule]}),s})();"undefined"!=typeof window&&window;const Ur_firebase={apiKey:"AIzaSyBCu3i--dNaDcXTQc1m7XCDKDHsJVgksQI",authDomain:"clientpanelprod-9269f.firebaseapp.com",projectId:"clientpanelprod-9269f",storageBucket:"clientpanelprod-9269f.appspot.com",messagingSenderId:"1056467853377",appId:"1:1056467853377:web:06f29ca41d0ad4fd9926c0",measurementId:"G-NF42MX9YLL"};var Gt=j(8939),gs=j(3637),wr=j(7574),Ye=j(4402),ct=j(5917),hn=j(9126),Ti=j(3282);function mr(...s){return(0,Ti.J)(1)((0,ct.of)(...s))}var ms=j(4869);function Si(...s){const r=s[s.length-1];return(0,ms.K)(r)?(s.pop(),i=>mr(s,i,r)):i=>mr(s,i)}var yn=j(7393);function en(){return s=>s.lift(new Ca)}class Ca{call(r,i){return i.subscribe(new vu(r))}}class vu extends yn.L{constructor(r){super(r),this.hasPrev=!1}_next(r){let i;this.hasPrev?i=[this.prev,r]:this.hasPrev=!0,this.prev=r,i&&this.destination.next(i)}}var ft=j(8002);function ys(s,r){let i=!1;return arguments.length>=2&&(i=!0),function(d){return d.lift(new Mo(s,r,i))}}class Mo{constructor(r,i,u=!1){this.accumulator=r,this.seed=i,this.hasSeed=u}call(r,i){return i.subscribe(new Oo(r,this.accumulator,this.seed,this.hasSeed))}}class Oo extends yn.L{constructor(r,i,u,d){super(r),this.accumulator=i,this._seed=u,this.hasSeed=d,this.index=0}get seed(){return this._seed}set seed(r){this.hasSeed=!0,this._seed=r}_next(r){if(this.hasSeed)return this._tryNext(r);this.seed=r,this.destination.next(r)}_tryNext(r){const i=this.index++;let u;try{u=this.accumulator(this.seed,r,i)}catch(d){this.destination.error(d)}this.seed=u,this.destination.next(u)}}class Rn{constructor(r,i){this.compare=r,this.keySelector=i}call(r,i){return i.subscribe(new Ni(r,this.compare,this.keySelector))}}class Ni extends yn.L{constructor(r,i,u){super(r),this.keySelector=u,this.hasKey=!1,"function"==typeof i&&(this.compare=i)}compare(r,i){return r===i}_next(r){let i;try{const{keySelector:d}=this;i=d?d(r):r}catch(d){return this.destination.error(d)}let u=!1;if(this.hasKey)try{const{compare:d}=this;u=d(this.key,i)}catch(d){return this.destination.error(d)}else this.hasKey=!0;u||(this.key=i,this.destination.next(r))}}function Un(s,r){return function(u){return u.lift(new xn(s,r))}}class xn{constructor(r,i){this.predicate=r,this.thisArg=i}call(r,i){return i.subscribe(new ri(r,this.predicate,this.thisArg))}}class ri extends yn.L{constructor(r,i,u){super(r),this.predicate=i,this.thisArg=u,this.count=0}_next(r){let i;try{i=this.predicate.call(this.thisArg,r,this.count++)}catch(u){return void this.destination.error(u)}i&&this.destination.next(r)}}j(9083);var Po=j(4486),be=j(8239),ko=j(5452),cd=j(6034),zi=j(300),Wt=j(4685),xl=function(s,r){return(xl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,u){i.__proto__=u}||function(i,u){for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(i[d]=u[d])})(s,r)};function qs(s){var r="function"==typeof Symbol&&Symbol.iterator,i=r&&s[r],u=0;if(i)return i.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&u>=s.length&&(s=void 0),{value:s&&s[u++],done:!s}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ze,sf="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},zs=zs||{},Et=sf||self;function Fo(){}function Ri(s){var r=typeof s;return"array"==(r="object"!=r?r:s?Array.isArray(s)?"array":r:"null")||"object"==r&&"number"==typeof s.length}function xi(s){var r=typeof s;return"object"==r&&null!=s||"function"==r}var Eu="closure_uid_"+(1e9*Math.random()>>>0),Ol=0;function Pl(s,r,i){return s.call.apply(s.bind,arguments)}function kl(s,r,i){if(!s)throw Error();if(2<arguments.length){var u=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,u),s.apply(r,d)}}return function(){return s.apply(r,arguments)}}function _n(s,r,i){return(_n=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Pl:kl).apply(null,arguments)}function Fl(s,r){var i=Array.prototype.slice.call(arguments,1);return function(){var u=i.slice();return u.push.apply(u,arguments),s.apply(this,u)}}function zn(s,r){function i(){}i.prototype=r.prototype,s.Z=r.prototype,s.prototype=new i,s.prototype.constructor=s,s.Vb=function(u,d,f){for(var E=Array(arguments.length-2),w=2;w<arguments.length;w++)E[w-2]=arguments[w];return r.prototype[d].apply(u,E)}}function Ki(){this.s=this.s,this.o=this.o}var Vo={};Ki.prototype.s=!1,Ki.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var s=function(s){return Object.prototype.hasOwnProperty.call(s,Eu)&&s[Eu]||(s[Eu]=++Ol)}(this);delete Vo[s]}},Ki.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ar=Array.prototype.indexOf?function(s,r){return Array.prototype.indexOf.call(s,r,void 0)}:function(s,r){if("string"==typeof s)return"string"!=typeof r||1!=r.length?-1:s.indexOf(r,0);for(var i=0;i<s.length;i++)if(i in s&&s[i]===r)return i;return-1},Ia=Array.prototype.forEach?function(s,r,i){Array.prototype.forEach.call(s,r,i)}:function(s,r,i){for(var u=s.length,d="string"==typeof s?s.split(""):s,f=0;f<u;f++)f in d&&r.call(i,d[f],f,s)};function Cu(s){return Array.prototype.concat.apply([],arguments)}function Ks(s){var r=s.length;if(0<r){for(var i=Array(r),u=0;u<r;u++)i[u]=s[u];return i}return[]}function Uo(s){return/^[\s\xa0]*$/.test(s)}var rn,Ll=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function ir(s,r){return-1!=s.indexOf(r)}function wa(s,r){return s<r?-1:s>r?1:0}e:{var ba=Et.navigator;if(ba){var N=ba.userAgent;if(N){rn=N;break e}}rn=""}function O(s,r,i){for(var u in s)r.call(i,s[u],u,s)}function R(s){var r={};for(var i in s)r[i]=s[i];return r}var F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(s,r){for(var i,u,d=1;d<arguments.length;d++){for(i in u=arguments[d])s[i]=u[i];for(var f=0;f<F.length;f++)i=F[f],Object.prototype.hasOwnProperty.call(u,i)&&(s[i]=u[i])}}function de(s){return de[" "](s),s}de[" "]=Fo;var sr,s,ot=ir(rn,"Opera"),Ut=ir(rn,"Trident")||ir(rn,"MSIE"),mt=ir(rn,"Edge"),un=mt||Ut,jt=ir(rn,"Gecko")&&!(ir(rn.toLowerCase(),"webkit")&&!ir(rn,"Edge"))&&!(ir(rn,"Trident")||ir(rn,"MSIE"))&&!ir(rn,"Edge"),Kn=ir(rn.toLowerCase(),"webkit")&&!ir(rn,"Edge");function Mt(){var s=Et.document;return s?s.documentMode:void 0}e:{var gi="",yr=(s=rn,jt?/rv:([^\);]+)(\)|;)/.exec(s):mt?/Edge\/([\d\.]+)/.exec(s):Ut?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):Kn?/WebKit\/(\S+)/.exec(s):ot?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(yr&&(gi=yr?yr[1]:""),Ut){var jn=Mt();if(null!=jn&&jn>parseFloat(gi)){sr=String(jn);break e}}sr=gi}var Mi={};function Iu(){return r=Mi,Object.prototype.hasOwnProperty.call(r,9)?r[9]:r[9]=function(){for(var s=0,r=Ll(String(sr)).split("."),i=Ll("9").split("."),u=Math.max(r.length,i.length),d=0;0==s&&d<u;d++){var f=r[d]||"",E=i[d]||"";do{if(f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],0==f[0].length&&0==E[0].length)break;s=wa(0==f[1].length?0:parseInt(f[1],10),0==E[1].length?0:parseInt(E[1],10))||wa(0==f[2].length,0==E[2].length)||wa(f[2],E[2]),f=f[3],E=E[3]}while(0==s)}return 0<=s}();var r}var dd=Et.document&&Ut&&(Mt()||parseInt(sr,10))||void 0,af=function(){if(!Et.addEventListener||!Object.defineProperty)return!1;var s=!1,r=Object.defineProperty({},"passive",{get:function(){s=!0}});try{Et.addEventListener("test",Fo,r),Et.removeEventListener("test",Fo,r)}catch(i){}return s}();function et(s,r){this.type=s,this.g=this.target=r,this.defaultPrevented=!1}function Vl(s,r){if(et.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var i=this.type=s.type,u=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=r,r=s.relatedTarget){if(jt){e:{try{de(r.nodeName);var d=!0;break e}catch(f){}d=!1}d||(r=null)}}else"mouseover"==i?r=s.fromElement:"mouseout"==i&&(r=s.toElement);this.relatedTarget=r,u?(this.clientX=void 0!==u.clientX?u.clientX:u.pageX,this.clientY=void 0!==u.clientY?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:uf[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&Vl.Z.h.call(this)}}et.prototype.h=function(){this.defaultPrevented=!0},zn(Vl,et);var uf={2:"touch",3:"pen",4:"mouse"};Vl.prototype.h=function(){Vl.Z.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var Ul="closure_listenable_"+(1e6*Math.random()|0),lf=0;function lg(s,r,i,u,d){this.listener=s,this.proxy=null,this.src=r,this.type=i,this.capture=!!u,this.ia=d,this.key=++lf,this.ca=this.fa=!1}function Da(s){s.ca=!0,s.listener=null,s.proxy=null,s.src=null,s.ia=null}function jl(s){this.src=s,this.g={},this.h=0}function Pe(s,r){var i=r.type;if(i in s.g){var f,u=s.g[i],d=Ar(u,r);(f=0<=d)&&Array.prototype.splice.call(u,d,1),f&&(Da(r),0==s.g[i].length&&(delete s.g[i],s.h--))}}function Pt(s,r,i,u){for(var d=0;d<s.length;++d){var f=s[d];if(!f.ca&&f.listener==r&&f.capture==!!i&&f.ia==u)return d}return-1}jl.prototype.add=function(s,r,i,u,d){var f=s.toString();(s=this.g[f])||(s=this.g[f]=[],this.h++);var E=Pt(s,r,u,d);return-1<E?(r=s[E],i||(r.fa=!1)):((r=new lg(r,this.src,f,!!u,d)).fa=i,s.push(r)),r};var hd="closure_lm_"+(1e6*Math.random()|0),Zn={};function Bl(s,r,i,u,d){if(u&&u.once)return fd(s,r,i,u,d);if(Array.isArray(r)){for(var f=0;f<r.length;f++)Bl(s,r[f],i,u,d);return null}return i=ii(i),s&&s[Ul]?s.N(r,i,xi(u)?!!u.capture:!!u,d):wu(s,r,i,!1,u,d)}function wu(s,r,i,u,d,f){if(!r)throw Error("Invalid event type");var E=xi(d)?!!d.capture:!!d,w=jo(s);if(w||(s[hd]=w=new jl(s)),(i=w.add(r,i,u,E,f)).proxy)return i;if(u=function(){var r=gd;return function s(i){return r.call(s.src,s.listener,i)}}(),i.proxy=u,u.src=s,u.listener=i,s.addEventListener)af||(d=E),void 0===d&&(d=!1),s.addEventListener(r.toString(),u,d);else if(s.attachEvent)s.attachEvent(pd(r.toString()),u);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(u)}return i}function fd(s,r,i,u,d){if(Array.isArray(r)){for(var f=0;f<r.length;f++)fd(s,r[f],i,u,d);return null}return i=ii(i),s&&s[Ul]?s.O(r,i,xi(u)?!!u.capture:!!u,d):wu(s,r,i,!0,u,d)}function bu(s,r,i,u,d){if(Array.isArray(r))for(var f=0;f<r.length;f++)bu(s,r[f],i,u,d);else u=xi(u)?!!u.capture:!!u,i=ii(i),s&&s[Ul]?(s=s.i,(r=String(r).toString())in s.g&&-1<(i=Pt(f=s.g[r],i,u,d))&&(Da(f[i]),Array.prototype.splice.call(f,i,1),0==f.length&&(delete s.g[r],s.h--))):s&&(s=jo(s))&&(r=s.g[r.toString()],s=-1,r&&(s=Pt(r,i,u,d)),(i=-1<s?r[s]:null)&&cg(i))}function cg(s){if("number"!=typeof s&&s&&!s.ca){var r=s.src;if(r&&r[Ul])Pe(r.i,s);else{var i=s.type,u=s.proxy;r.removeEventListener?r.removeEventListener(i,u,s.capture):r.detachEvent?r.detachEvent(pd(i),u):r.addListener&&r.removeListener&&r.removeListener(u),(i=jo(r))?(Pe(i,s),0==i.h&&(i.src=null,r[hd]=null)):Da(s)}}}function pd(s){return s in Zn?Zn[s]:Zn[s]="on"+s}function gd(s,r){if(s.ca)s=!0;else{r=new Vl(r,this);var i=s.listener,u=s.ia||s.src;s.fa&&cg(s),s=i.call(u,r)}return s}function jo(s){return(s=s[hd])instanceof jl?s:null}var br="__closure_events_fn_"+(1e9*Math.random()>>>0);function ii(s){return"function"==typeof s?s:(s[br]||(s[br]=function(r){return s.handleEvent(r)}),s[br])}function _r(){Ki.call(this),this.i=new jl(this),this.P=this,this.I=null}function Dn(s,r){var i,u=s.I;if(u)for(i=[];u;u=u.I)i.push(u);if(s=s.P,u=r.type||r,"string"==typeof r)r=new et(r,s);else if(r instanceof et)r.target=r.target||s;else{var d=r;Q(r=new et(u,s),d)}if(d=!0,i)for(var f=i.length-1;0<=f;f--){var E=r.g=i[f];d=ki(E,u,!0,r)&&d}if(d=ki(E=r.g=s,u,!0,r)&&d,d=ki(E,u,!1,r)&&d,i)for(f=0;f<i.length;f++)d=ki(E=r.g=i[f],u,!1,r)&&d}function ki(s,r,i,u){if(!(r=s.i.g[String(r)]))return!0;r=r.concat();for(var d=!0,f=0;f<r.length;++f){var E=r[f];if(E&&!E.ca&&E.capture==i){var w=E.listener,A=E.ia||E.src;E.fa&&Pe(s.i,E),d=!1!==w.call(A,u)&&d}}return d&&!u.defaultPrevented}zn(_r,Ki),_r.prototype[Ul]=!0,_r.prototype.removeEventListener=function(s,r,i,u){bu(this,s,r,i,u)},_r.prototype.M=function(){if(_r.Z.M.call(this),this.i){var r,s=this.i;for(r in s.g){for(var i=s.g[r],u=0;u<i.length;u++)Da(i[u]);delete s.g[r],s.h--}}this.I=null},_r.prototype.N=function(s,r,i,u){return this.i.add(String(s),r,!1,i,u)},_r.prototype.O=function(s,r,i,u){return this.i.add(String(s),r,!0,i,u)};var cf=Et.JSON.stringify;function df(){var s=$l,r=null;return s.g&&(r=s.g,s.g=s.g.next,s.g||(s.h=null),r.next=null),r}var Hl,hf=function(){function s(){this.h=this.g=null}return s.prototype.add=function(r,i){var u=dg.get();u.set(r,i),this.h?this.h.next=u:this.g=u,this.h=u},s}(),dg=new(function(){function s(r,i){this.i=r,this.j=i,this.h=0,this.g=null}return s.prototype.get=function(){var r;return 0<this.h?(this.h--,this.g=(r=this.g).next,r.next=null):r=this.i(),r},s}())(function(){return new Bo},function(s){return s.reset()}),Bo=function(){function s(){this.next=this.g=this.h=null}return s.prototype.set=function(r,i){this.h=r,this.g=i,this.next=null},s.prototype.reset=function(){this.next=this.g=this.h=null},s}();function md(s){Et.setTimeout(function(){throw s},0)}function yd(s,r){Hl||function(){var s=Et.Promise.resolve(void 0);Hl=function(){s.then(e_)}}(),_d||(Hl(),_d=!0),$l.add(s,r)}var _d=!1,$l=new hf;function e_(){for(var s;s=df();){try{s.h.call(s.g)}catch(i){md(i)}var r=dg;r.j(s),100>r.h&&(r.h++,s.next=r.g,r.g=s)}_d=!1}function vd(s,r){_r.call(this),this.h=s||1,this.g=r||Et,this.j=_n(this.kb,this),this.l=Date.now()}function ff(s){s.da=!1,s.S&&(s.g.clearTimeout(s.S),s.S=null)}function pf(s,r,i){if("function"==typeof s)i&&(s=_n(s,i));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=_n(s.handleEvent,s)}return 2147483647<Number(r)?-1:Et.setTimeout(s,r||0)}function Ed(s){s.g=pf(function(){s.g=null,s.i&&(s.i=!1,Ed(s))},s.j);var r=s.h;s.h=null,s.m.apply(null,r)}zn(vd,_r),(Ze=vd.prototype).da=!1,Ze.S=null,Ze.kb=function(){if(this.da){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-s):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Dn(this,"tick"),this.da&&(ff(this),this.start()))}},Ze.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ze.M=function(){vd.Z.M.call(this),ff(this),delete this.g};var t_=function(s){function r(i,u){var d=s.call(this)||this;return d.m=i,d.j=u,d.h=null,d.i=!1,d.g=null,d}return function(s,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=s}xl(s,r),s.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}(r,s),r.prototype.l=function(i){this.h=arguments,this.g?this.i=!0:Ed(this)},r.prototype.M=function(){s.prototype.M.call(this),this.g&&(Et.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},r}(Ki);function Cd(s){Ki.call(this),this.h=s,this.g={}}zn(Cd,Ki);var Dr=[];function zr(s,r,i,u){Array.isArray(i)||(i&&(Dr[0]=i.toString()),i=Dr);for(var d=0;d<i.length;d++){var f=Bl(r,i[d],u||s.handleEvent,!1,s.h||s);if(!f)break;s.g[f.key]=f}}function Cn(s){O(s.g,function(r,i){this.g.hasOwnProperty(i)&&cg(r)},s),s.g={}}function Wl(){this.g=!0}function Du(s,r,i,u){s.info(function(){return"XMLHTTP TEXT ("+r+"): "+function(s,r){if(!s.g)return r;if(!r)return null;try{var i=JSON.parse(r);if(i)for(s=0;s<i.length;s++)if(Array.isArray(i[s])){var u=i[s];if(!(2>u.length)){var d=u[1];if(Array.isArray(d)&&!(1>d.length)){var f=d[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var E=1;E<d.length;E++)d[E]=""}}}return cf(i)}catch(w){return r}}(s,i)+(u?" "+u:"")})}Cd.prototype.M=function(){Cd.Z.M.call(this),Cn(this)},Cd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wl.prototype.Aa=function(){this.g=!1},Wl.prototype.info=function(){};var _s={},Ho=null;function $o(){return Ho=Ho||new _r}function Id(s){et.call(this,_s.Ma,s)}function Tu(s){var r=$o();Dn(r,new Id(r,s))}function pg(s,r){et.call(this,_s.STAT_EVENT,s),this.stat=r}function Qn(s){var r=$o();Dn(r,new pg(r,s))}function Qs(s,r){et.call(this,_s.Na,s),this.size=r}function wd(s,r){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return Et.setTimeout(function(){s()},r)}_s.Ma="serverreachability",zn(Id,et),_s.STAT_EVENT="statevent",zn(pg,et),_s.Na="timingevent",zn(Qs,et);var Qi={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Su={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Gl(){}function gg(){}Gl.prototype.h=null;var bd,Bn={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function mg(){et.call(this,"d")}function Wo(){et.call(this,"c")}function Go(){}function qo(s,r,i,u){this.l=s,this.j=r,this.m=i,this.X=u||1,this.V=new Cd(this),this.P=_f,this.W=new vd(s=un?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new yf}function yf(){this.i=null,this.g="",this.h=!1}zn(mg,et),zn(Wo,et),zn(Go,Gl),Go.prototype.g=function(){return new XMLHttpRequest},Go.prototype.i=function(){return{}},bd=new Go;var _f=45e3,zo={},Ta={};function Ys(s,r,i){s.K=1,s.v=Js(Es(r)),s.s=i,s.U=!0,Ko(s,null)}function Ko(s,r){s.F=Date.now(),Sa(s),s.A=Es(s.v);var i=s.A,u=s.X;Array.isArray(u)||(u=[String(u)]),Mn(i.h,"t",u),s.C=0,i=s.l.H,s.h=new yf,s.g=Fa(s.l,i?r:null,!s.s),0<s.O&&(s.L=new t_(_n(s.Ia,s,s.g),s.O)),zr(s.V,s.g,"readystatechange",s.gb),r=s.H?R(s.H):{},s.s?(s.u||(s.u="POST"),r["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.s,r)):(s.u="GET",s.g.ea(s.A,s.u,null,r)),Tu(1),function(s,r,i,u,d,f){s.info(function(){if(s.g)if(f)for(var E="",w=f.split("&"),A=0;A<w.length;A++){var P=w[A].split("=");if(1<P.length){var V=P[0];P=P[1];var W=V.split("_");E=2<=W.length&&"type"==W[1]?E+(V+"=")+P+"&":E+(V+"=redacted&")}}else E=null;else E=f;return"XMLHTTP REQ ("+u+") [attempt "+d+"]: "+r+"\n"+i+"\n"+E})}(s.j,s.u,s.A,s.m,s.X,s.s)}function Zo(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Ba}function n_(s,r,i){for(var d,u=!0;!s.I&&s.C<i.length;){if((d=Dd(s,i))==Ta){4==r&&(s.o=4,Qn(14),u=!1),Du(s.j,s.m,null,"[Incomplete Response]");break}if(d==zo){s.o=4,Qn(15),Du(s.j,s.m,i,"[Invalid Chunk]"),u=!1;break}Du(s.j,s.m,d,null),ql(s,d)}Zo(s)&&d!=Ta&&d!=zo&&(s.h.g="",s.C=0),4!=r||0!=i.length||s.h.h||(s.o=1,Qn(16),u=!1),s.i=s.i&&u,u?0<i.length&&!s.aa&&(s.aa=!0,(r=s.l).g==s&&r.$&&!r.L&&(r.h.info("Great, no buffering proxy detected. Bytes received: "+i.length),Pu(r),r.L=!0,Qn(11))):(Du(s.j,s.m,i,"[Invalid Chunked Response]"),vs(s),Yi(s))}function Dd(s,r){var i=s.C,u=r.indexOf("\n",i);return-1==u?Ta:(i=Number(r.substring(i,u)),isNaN(i)?zo:(u+=1)+i>r.length?Ta:(r=r.substr(u,i),s.C=u+i,r))}function Sa(s){s.Y=Date.now()+s.P,Td(s,s.P)}function Td(s,r){if(null!=s.B)throw Error("WatchDog timer not null");s.B=wd(_n(s.eb,s),r)}function Sd(s){s.B&&(Et.clearTimeout(s.B),s.B=null)}function Yi(s){0==s.l.G||s.I||Xl(s.l,s)}function vs(s){Sd(s);var r=s.L;r&&"function"==typeof r.na&&r.na(),s.L=null,ff(s.W),Cn(s.V),s.g&&(r=s.g,s.g=null,r.abort(),r.na())}function ql(s,r){try{var i=s.l;if(0!=i.G&&(i.g==s||Mu(i.i,s)))if(i.I=s.N,!s.J&&Mu(i.i,s)&&3==i.G){try{var u=i.Ca.g.parse(r)}catch(ut){u=null}if(Array.isArray(u)&&3==u.length){var d=u;if(0==d[0])e:if(i.u)i.ta=d[1],0<i.ta-i.U&&37500>d[2]&&i.N&&0==i.A&&!i.v&&(i.v=wd(_n(i.ab,i),6e3));else{if(i.g){if(!(i.g.F+3e3<s.F))break e;es(i),ro(i)}Df(i),Qn(18)}if(1>=kd(i.i)&&i.ka){try{i.ka()}catch(ut){}i.ka=void 0}}else so(i,11)}else if((s.J||i.g==s)&&es(i),!Uo(r))for(d=i.Ca.g.parse(r),r=0;r<d.length;r++){var f=d[r];if(i.U=f[0],f=f[1],2==i.G)if("c"==f[0]){i.J=f[1],i.la=f[2];var E=f[3];null!=E&&(i.ma=E,i.h.info("VER="+i.ma));var w=f[4];null!=w&&(i.za=w,i.h.info("SVER="+i.za));var A=f[5];null!=A&&"number"==typeof A&&0<A&&(i.K=u=1.5*A,i.h.info("backChannelRequestTimeoutMs_="+u)),u=i;var P=s.g;if(P){var V=P.g?P.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(V){var W=u.i;!W.g&&(ir(V,"spdy")||ir(V,"quic")||ir(V,"h2"))&&(W.j=W.l,W.g=new Set,W.h&&(eo(W,W.h),W.h=null))}if(u.D){var ue=P.g?P.g.getResponseHeader("X-HTTP-Session-Id"):null;ue&&(u.sa=ue,In(u.F,u.D,ue))}}i.G=3,i.j&&i.j.xa(),i.$&&(i.O=Date.now()-s.F,i.h.info("Handshake RTT: "+i.O+"ms"));var pe=s;if((u=i).oa=ws(u,u.H?u.la:null,u.W),pe.J){Cf(u.i,pe);var Ue=pe,Ke=u.K;Ke&&Ue.setTimeout(Ke),Ue.B&&(Sd(Ue),Sa(Ue)),u.g=pe}else Jl(u);0<i.l.length&&io(i)}else"stop"!=f[0]&&"close"!=f[0]||so(i,7);else 3==i.G&&("stop"==f[0]||"close"==f[0]?"stop"==f[0]?so(i,7):Yl(i):"noop"!=f[0]&&i.j&&i.j.wa(f),i.A=0)}Tu(4)}catch(ut){}}function zl(s,r){if(s.forEach&&"function"==typeof s.forEach)s.forEach(r,void 0);else if(Ri(s)||"string"==typeof s)Ia(s,r,void 0);else{if(s.T&&"function"==typeof s.T)var i=s.T();else if(s.R&&"function"==typeof s.R)i=void 0;else if(Ri(s)||"string"==typeof s){i=[];for(var u=s.length,d=0;d<u;d++)i.push(d)}else for(d in i=[],u=0,s)i[u++]=d;d=(u=function(s){if(s.R&&"function"==typeof s.R)return s.R();if("string"==typeof s)return s.split("");if(Ri(s)){for(var r=[],i=s.length,u=0;u<i;u++)r.push(s[u]);return r}for(u in r=[],i=0,s)r[i++]=s[u];return r}(s)).length;for(var f=0;f<d;f++)r.call(void 0,u[f],i&&i[f],s)}}function Ji(s,r){this.h={},this.g=[],this.i=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var u=0;u<i;u+=2)this.set(arguments[u],arguments[u+1])}else if(s)if(s instanceof Ji)for(i=s.T(),u=0;u<i.length;u++)this.set(i[u],s.get(i[u]));else for(u in s)this.set(u,s[u])}function Nd(s){if(s.i!=s.g.length){for(var r=0,i=0;r<s.g.length;){var u=s.g[r];Qo(s.h,u)&&(s.g[i++]=u),r++}s.g.length=i}if(s.i!=s.g.length){var d={};for(i=r=0;r<s.g.length;)Qo(d,u=s.g[r])||(s.g[i++]=u,d[u]=1),r++;s.g.length=i}}function Qo(s,r){return Object.prototype.hasOwnProperty.call(s,r)}(Ze=qo.prototype).setTimeout=function(s){this.P=s},Ze.gb=function(s){s=s.target;var r=this.L;r&&3==no(s)?r.l():this.Ia(s)},Ze.Ia=function(s){try{if(s==this.g)e:{var r=no(this.g),i=this.g.Da(),u=this.g.ba();if(!(3>r)&&(3!=r||un||this.g&&(this.h.h||this.g.ga()||Bd(this.g)))){this.I||4!=r||7==i||Tu(8==i||0>=u?3:2),Sd(this);var d=this.g.ba();this.N=d;t:if(Zo(this)){var f=Bd(this.g);s="";var E=f.length,w=4==no(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){vs(this),Yi(this);var A="";break t}this.h.i=new Et.TextDecoder}for(i=0;i<E;i++)this.h.h=!0,s+=this.h.i.decode(f[i],{stream:w&&i==E-1});f.splice(0,E),this.h.g+=s,this.C=0,A=this.h.g}else A=this.g.ga();if(this.i=200==d,function(s,r,i,u,d,f,E){s.info(function(){return"XMLHTTP RESP ("+u+") [ attempt "+d+"]: "+r+"\n"+i+"\n"+f+" "+E})}(this.j,this.u,this.A,this.m,this.X,r,d),this.i){if(this.$&&!this.J){t:{if(this.g){var P,V=this.g;if((P=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Uo(P)){var W=P;break t}}W=null}if(!(d=W)){this.i=!1,this.o=3,Qn(12),vs(this),Yi(this);break e}Du(this.j,this.m,d,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ql(this,d)}this.U?(n_(this,r,A),un&&this.i&&3==r&&(zr(this.V,this.W,"tick",this.fb),this.W.start())):(Du(this.j,this.m,A,null),ql(this,A)),4==r&&vs(this),this.i&&!this.I&&(4==r?Xl(this.l,this):(this.i=!1,Sa(this)))}else 400==d&&0<A.indexOf("Unknown SID")?(this.o=3,Qn(12)):(this.o=0,Qn(13)),vs(this),Yi(this)}}}catch(ue){}},Ze.fb=function(){if(this.g){var s=no(this.g),r=this.g.ga();this.C<r.length&&(Sd(this),n_(this,s,r),this.i&&4!=s&&Sa(this))}},Ze.cancel=function(){this.I=!0,vs(this)},Ze.eb=function(){this.B=null;var s=Date.now();0<=s-this.Y?(function(s,r){s.info(function(){return"TIMEOUT: "+r})}(this.j,this.A),2!=this.K&&(Tu(3),Qn(17)),vs(this),this.o=2,Yi(this)):Td(this,this.Y-s)},(Ze=Ji.prototype).R=function(){Nd(this);for(var s=[],r=0;r<this.g.length;r++)s.push(this.h[this.g[r]]);return s},Ze.T=function(){return Nd(this),this.g.concat()},Ze.get=function(s,r){return Qo(this.h,s)?this.h[s]:r},Ze.set=function(s,r){Qo(this.h,s)||(this.i++,this.g.push(s)),this.h[s]=r},Ze.forEach=function(s,r){for(var i=this.T(),u=0;u<i.length;u++){var d=i[u],f=this.get(d);s.call(r,f,d,this)}};var vf=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Aa(s,r){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,s instanceof Aa){this.g=void 0!==r?r:s.g,Yo(this,s.j),this.s=s.s,Jo(this,s.i),xd(this,s.m),this.l=s.l,r=s.h;var i=new Od;i.i=r.i,r.g&&(i.g=new Ji(r.g),i.h=r.h),Nu(this,i),this.o=s.o}else s&&(i=String(s).match(vf))?(this.g=!!r,Yo(this,i[1]||"",!0),this.s=Na(i[2]||""),Jo(this,i[3]||"",!0),xd(this,i[4]),this.l=Na(i[5]||"",!0),Nu(this,i[6]||"",!0),this.o=Na(i[7]||"")):(this.g=!!r,this.h=new Od(null,this.g))}function Es(s){return new Aa(s)}function Yo(s,r,i){s.j=i?Na(r,!0):r,s.j&&(s.j=s.j.replace(/:$/,""))}function Jo(s,r,i){s.i=i?Na(r,!0):r}function xd(s,r){if(r){if(r=Number(r),isNaN(r)||0>r)throw Error("Bad port number "+r);s.m=r}else s.m=null}function Nu(s,r,i){r instanceof Od?(s.h=r,function(s,r){r&&!s.j&&(Xi(s),s.i=null,s.g.forEach(function(i,u){var d=u.toLowerCase();u!=d&&(r_(this,u),Mn(this,d,i))},s)),s.j=r}(s.h,s.g)):(i||(r=Cs(r,Xo)),s.h=new Od(r,s.g))}function In(s,r,i){s.h.set(r,i)}function Js(s){return In(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function Na(s,r){return s?r?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function Cs(s,r,i){return"string"==typeof s?(s=encodeURI(s).replace(r,Ru),i&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function Ru(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}Aa.prototype.toString=function(){var s=[],r=this.j;r&&s.push(Cs(r,Ra,!0),":");var i=this.i;return(i||"file"==r)&&(s.push("//"),(r=this.s)&&s.push(Cs(r,Ra,!0),"@"),s.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&s.push(":",String(i))),(i=this.l)&&(this.i&&"/"!=i.charAt(0)&&s.push("/"),s.push(Cs(i,"/"==i.charAt(0)?Md:xu,!0))),(i=this.h.toString())&&s.push("?",i),(i=this.o)&&s.push("#",Cs(i,Xs)),s.join("")};var Ra=/[#\/\?@]/g,xu=/[#\?:]/g,Md=/[#\?]/g,Xo=/[#\?@]/g,Xs=/#/g;function Od(s,r){this.h=this.g=null,this.i=s||null,this.j=!!r}function Xi(s){s.g||(s.g=new Ji,s.h=0,s.i&&function(s,r){if(s){s=s.split("&");for(var i=0;i<s.length;i++){var u=s[i].indexOf("="),d=null;if(0<=u){var f=s[i].substring(0,u);d=s[i].substring(u+1)}else f=s[i];r(f,d?decodeURIComponent(d.replace(/\+/g," ")):"")}}}(s.i,function(r,i){s.add(decodeURIComponent(r.replace(/\+/g," ")),i)}))}function r_(s,r){Xi(s),r=ea(s,r),Qo(s.g.h,r)&&(s.i=null,s.h-=s.g.get(r).length,Qo((s=s.g).h,r)&&(delete s.h[r],s.i--,s.g.length>2*s.i&&Nd(s)))}function Zl(s,r){return Xi(s),r=ea(s,r),Qo(s.g.h,r)}function Mn(s,r,i){r_(s,r),0<i.length&&(s.i=null,s.g.set(ea(s,r),Ks(i)),s.h+=i.length)}function ea(s,r){return r=String(r),s.j&&(r=r.toLowerCase()),r}(Ze=Od.prototype).add=function(s,r){Xi(this),this.i=null,s=ea(this,s);var i=this.g.get(s);return i||this.g.set(s,i=[]),i.push(r),this.h+=1,this},Ze.forEach=function(s,r){Xi(this),this.g.forEach(function(i,u){Ia(i,function(d){s.call(r,d,u,this)},this)},this)},Ze.T=function(){Xi(this);for(var s=this.g.R(),r=this.g.T(),i=[],u=0;u<r.length;u++)for(var d=s[u],f=0;f<d.length;f++)i.push(r[u]);return i},Ze.R=function(s){Xi(this);var r=[];if("string"==typeof s)Zl(this,s)&&(r=Cu(r,this.g.get(ea(this,s))));else{s=this.g.R();for(var i=0;i<s.length;i++)r=Cu(r,s[i])}return r},Ze.set=function(s,r){return Xi(this),this.i=null,Zl(this,s=ea(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[r]),this.h+=1,this},Ze.get=function(s,r){return s&&0<(s=this.R(s)).length?String(s[0]):r},Ze.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var s=[],r=this.g.T(),i=0;i<r.length;i++){var u=r[i],d=encodeURIComponent(String(u));u=this.R(u);for(var f=0;f<u.length;f++){var E=d;""!==u[f]&&(E+="="+encodeURIComponent(String(u[f]))),s.push(E)}}return this.i=s.join("&")};var xa=function(r,i){this.h=r,this.g=i};function Pd(s){this.l=s||Ef,s=Et.PerformanceNavigationTiming?0<(s=Et.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(Et.g&&Et.g.Ea&&Et.g.Ea()&&Et.g.Ea().Zb),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ef=10;function i_(s){return!!s.h||!!s.g&&s.g.size>=s.j}function kd(s){return s.h?1:s.g?s.g.size:0}function Mu(s,r){return s.h?s.h==r:!!s.g&&s.g.has(r)}function eo(s,r){s.g?s.g.add(r):s.h=r}function Cf(s,r){s.h&&s.h==r?s.h=null:s.g&&s.g.has(r)&&s.g.delete(r)}function vg(s){var r,i;if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){var u=s.i;try{for(var d=qs(s.g.values()),f=d.next();!f.done;f=d.next())u=u.concat(f.value.D)}catch(w){r={error:w}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}return u}return Ks(s.i)}function Yn(){}function zC(){this.g=new Yn}function Jn(s,r,i){var u=i||"";try{zl(s,function(d,f){var E=d;xi(d)&&(E=cf(d)),r.push(u+f+"="+encodeURIComponent(E))})}catch(d){throw r.push(u+"type="+encodeURIComponent("_badmap")),d}}function Ma(s,r,i,u,d){try{r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null,d(u)}catch(f){}}function Fd(s){this.l=s.$b||null,this.j=s.ib||!1}function Ou(s,r){_r.call(this),this.D=s,this.u=r,this.m=void 0,this.readyState=si,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Pd.prototype.cancel=function(){var s,r;if(this.i=vg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var i=qs(this.g.values()),u=i.next();!u.done;u=i.next())u.value.cancel()}catch(f){s={error:f}}finally{try{u&&!u.done&&(r=i.return)&&r.call(i)}finally{if(s)throw s.error}}this.g.clear()}},Yn.prototype.stringify=function(s){return Et.JSON.stringify(s,void 0)},Yn.prototype.parse=function(s){return Et.JSON.parse(s,void 0)},zn(Fd,Gl),Fd.prototype.g=function(){return new Ou(this.l,this.j)},Fd.prototype.i=function(s){return function(){return s}}({}),zn(Ou,_r);var si=0;function mi(s){s.j.read().then(s.Sa.bind(s)).catch(s.ha.bind(s))}function ta(s){s.readyState=4,s.l=null,s.j=null,s.A=null,yi(s)}function yi(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(Ze=Ou.prototype).open=function(s,r){if(this.readyState!=si)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=r,this.readyState=1,yi(this)},Ze.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var r={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(r.body=s),(this.D||Et).fetch(new Request(this.B,r)).then(this.Va.bind(this),this.ha.bind(this))},Ze.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ta(this)),this.readyState=si},Ze.Va=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Et.ReadableStream&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mi(this)}else s.text().then(this.Ua.bind(this),this.ha.bind(this))},Ze.Sa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var r=s.value?s.value:new Uint8Array(0);(r=this.A.decode(r,{stream:!s.done}))&&(this.response=this.responseText+=r)}s.done?ta(this):yi(this),3==this.readyState&&mi(this)}},Ze.Ua=function(s){this.g&&(this.response=this.responseText=s,ta(this))},Ze.Ta=function(s){this.g&&(this.response=s,ta(this))},Ze.ha=function(){this.g&&ta(this)},Ze.setRequestHeader=function(s,r){this.v.append(s,r)},Ze.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},Ze.getAllResponseHeaders=function(){if(!this.h)return"";for(var s=[],r=this.h.entries(),i=r.next();!i.done;)s.push((i=i.value)[0]+": "+i[1]),i=r.next();return s.join("\r\n")},Object.defineProperty(Ou.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var Is=Et.JSON.parse;function Xn(s){_r.call(this),this.headers=new Ji,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ld,this.K=this.L=!1}zn(Xn,_r);var Ld="",s_=/^https?$/i,KC=["POST","PUT"];function Vd(s){return"content-type"==s.toLowerCase()}function jr(s,r){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=r,s.m=5,Ud(s),jd(s)}function Ud(s){s.D||(s.D=!0,Dn(s,"complete"),Dn(s,"error"))}function to(s){if(s.h&&void 0!==zs&&(!s.C[1]||4!=no(s)||2!=s.ba()))if(s.v&&4==no(s))pf(s.Fa,0,s);else if(Dn(s,"readystatechange"),4==no(s)){s.h=!1;try{var u,r=s.ba();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}if(!(u=i)){var d;if(d=0===r){var f=String(s.H).match(vf)[1]||null;if(!f&&Et.self&&Et.self.location){var E=Et.self.location.protocol;f=E.substr(0,E.length-1)}d=!s_.test(f?f.toLowerCase():"")}u=d}if(u)Dn(s,"complete"),Dn(s,"success");else{s.m=6;try{var w=2<no(s)?s.g.statusText:""}catch(A){w=""}s.j=w+" ["+s.ba()+"]",Ud(s)}}finally{jd(s)}}}function jd(s,r){if(s.g){If(s);var i=s.g,u=s.C[0]?Fo:null;s.g=null,s.C=null,r||Dn(s,"ready");try{i.onreadystatechange=u}catch(d){}}}function If(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(Et.clearTimeout(s.A),s.A=null)}function no(s){return s.g?s.g.readyState:0}function Bd(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case Ld:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch(r){return null}}function wf(s,r,i){e:{for(u in i){var u=!1;break e}u=!0}u||(i=function(s){var r="";return O(s,function(i,u){r+=u,r+=":",r+=i,r+="\r\n"}),r}(i),"string"==typeof s?null!=i&&encodeURIComponent(String(i)):In(s,r,i))}function Oa(s,r,i){return i&&i.internalChannelParams&&i.internalChannelParams[s]||r}function Pa(s){this.za=0,this.l=[],this.h=new Wl,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Oa("failFast",!1,s),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Oa("baseRetryDelayMs",5e3,s),this.$a=Oa("retryDelaySeedMs",1e4,s),this.Ya=Oa("forwardChannelMaxRetries",2,s),this.ra=Oa("forwardChannelRequestTimeoutMs",2e4,s),this.qa=s&&s.xmlHttpFactory||void 0,this.Ba=s&&s.Yb||!1,this.K=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.J="",this.i=new Pd(s&&s.concurrentRequestLimit),this.Ca=new zC,this.ja=s&&s.fastHandshake||!1,this.Ra=s&&s.Wb||!1,s&&s.Aa&&this.h.Aa(),s&&s.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&s&&s.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!s||!1!==s.Xb}function Yl(s){if(a_(s),3==s.G){var r=s.V++,i=Es(s.F);In(i,"SID",s.J),In(i,"RID",r),In(i,"TYPE","terminate"),ka(s,i),(r=new qo(s,s.h,r,void 0)).K=2,r.v=Js(Es(i)),i=!1,Et.navigator&&Et.navigator.sendBeacon&&(i=Et.navigator.sendBeacon(r.v.toString(),"")),!i&&Et.Image&&((new Image).src=r.v,i=!0),i||(r.g=Fa(r.l,null),r.g.ea(r.v)),r.F=Date.now(),Sa(r)}Ig(s)}function ro(s){s.g&&(Pu(s),s.g.cancel(),s.g=null)}function a_(s){ro(s),s.u&&(Et.clearTimeout(s.u),s.u=null),es(s),s.i.cancel(),s.m&&("number"==typeof s.m&&Et.clearTimeout(s.m),s.m=null)}function Fi(s,r){s.l.push(new xa(s.Za++,r)),3==s.G&&io(s)}function io(s){i_(s.i)||s.m||(s.m=!0,yd(s.Ha,s),s.C=0)}function bf(s,r){var i;i=r?r.m:s.V++;var u=Es(s.F);In(u,"SID",s.J),In(u,"RID",i),In(u,"AID",s.U),ka(s,u),s.o&&s.s&&wf(u,s.o,s.s),i=new qo(s,s.h,i,s.C+1),null===s.o&&(i.H=s.s),r&&(s.l=r.D.concat(s.l)),r=Cg(s,i,1e3),i.setTimeout(Math.round(.5*s.ra)+Math.round(.5*s.ra*Math.random())),eo(s.i,i),Ys(i,u,r)}function ka(s,r){s.j&&zl({},function(i,u){In(r,u,i)})}function Cg(s,r,i){i=Math.min(s.l.length,i);var u=s.j?_n(s.j.Oa,s.j,s):null;e:for(var d=s.l,f=-1;;){var E=["count="+i];-1==f?0<i?E.push("ofs="+(f=d[0].h)):f=0:E.push("ofs="+f);for(var w=!0,A=0;A<i;A++){var P=d[A].h,V=d[A].g;if(0>(P-=f))f=Math.max(0,d[A].h-100),w=!1;else try{Jn(V,E,"req"+P+"_")}catch(W){u&&u(V)}}if(w){u=E.join("&");break e}}return s=s.l.splice(0,i),r.D=s,u}function Jl(s){s.g||s.u||(s.Y=1,yd(s.Ga,s),s.A=0)}function Df(s){return!(s.g||s.u||3<=s.A||(s.Y++,s.u=wd(_n(s.Ga,s),Hn(s,s.A)),s.A++,0))}function Pu(s){null!=s.B&&(Et.clearTimeout(s.B),s.B=null)}function ku(s){s.g=new qo(s,s.h,"rpc",s.Y),null===s.o&&(s.g.H=s.s),s.g.O=0;var r=Es(s.oa);In(r,"RID","rpc"),In(r,"SID",s.J),In(r,"CI",s.N?"0":"1"),In(r,"AID",s.U),ka(s,r),In(r,"TYPE","xmlhttp"),s.o&&s.s&&wf(r,s.o,s.s),s.K&&s.g.setTimeout(s.K);var i=s.g;s=s.la,i.K=1,i.v=Js(Es(r)),i.s=null,i.U=!0,Ko(i,s)}function es(s){null!=s.v&&(Et.clearTimeout(s.v),s.v=null)}function Xl(s,r){var i=null;if(s.g==r){es(s),Pu(s),s.g=null;var u=2}else{if(!Mu(s.i,r))return;i=r.D,Cf(s.i,r),u=1}if(s.I=r.N,0!=s.G)if(r.i)if(1==u){i=r.s?r.s.length:0,r=Date.now()-r.F;var d=s.C;Dn(u=$o(),new Qs(u,i,r,d)),io(s)}else Jl(s);else if(3==(d=r.o)||0==d&&0<s.I||!(1==u&&function(s,r){return!(kd(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.l=r.D.concat(s.l),0):1==s.G||2==s.G||s.C>=(s.Xa?0:s.Ya)||(s.m=wd(_n(s.Ha,s,r),Hn(s,s.C)),s.C++,0)))}(s,r)||2==u&&Df(s)))switch(i&&0<i.length&&(r=s.i,r.i=r.i.concat(i)),d){case 1:so(s,5);break;case 4:so(s,10);break;case 3:so(s,6);break;default:so(s,2)}}function Hn(s,r){var i=s.Pa+Math.floor(Math.random()*s.$a);return s.j||(i*=2),i*r}function so(s,r){if(s.h.info("Error code "+r),2==r){var i=null;s.j&&(i=null);var u=_n(s.jb,s);i||(i=new Aa("//www.google.com/images/cleardot.gif"),Et.location&&"http"==Et.location.protocol||Yo(i,"https"),Js(i)),function(s,r){var i=new Wl;if(Et.Image){var u=new Image;u.onload=Fl(Ma,i,u,"TestLoadImage: loaded",!0,r),u.onerror=Fl(Ma,i,u,"TestLoadImage: error",!1,r),u.onabort=Fl(Ma,i,u,"TestLoadImage: abort",!1,r),u.ontimeout=Fl(Ma,i,u,"TestLoadImage: timeout",!1,r),Et.setTimeout(function(){u.ontimeout&&u.ontimeout()},1e4),u.src=s}else r(!1)}(i.toString(),u)}else Qn(2);s.G=0,s.j&&s.j.va(r),Ig(s),a_(s)}function Ig(s){s.G=0,s.I=-1,s.j&&((0!=vg(s.i).length||0!=s.l.length)&&(s.i.i.length=0,Ks(s.l),s.l.length=0),s.j.ua())}function ws(s,r,i){var u=function(s){return s instanceof Aa?Es(s):new Aa(s,void 0)}(i);if(""!=u.i)r&&Jo(u,r+"."+u.i),xd(u,u.m);else{var d=Et.location;u=function(s,r,i,u){var d=new Aa(null,void 0);return s&&Yo(d,s),r&&Jo(d,r),i&&xd(d,i),u&&(d.l=u),d}(d.protocol,r?r+"."+d.hostname:d.hostname,+d.port,i)}return s.aa&&O(s.aa,function(f,E){In(u,E,f)}),i=s.sa,(r=s.D)&&i&&In(u,r,i),In(u,"VER",s.ma),ka(s,u),u}function Fa(s,r,i){if(r&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(r=new Xn(i&&s.Ba&&!s.qa?new Fd({ib:!0}):s.qa)).L=s.H,r}function wg(){}function Fu(){if(Ut&&!(10<=Number(dd)))throw Error("Environmental error: no available transport.")}function oi(s,r){_r.call(this),this.g=new Pa(r),this.l=s,this.h=r&&r.messageUrlParams||null,s=r&&r.messageHeaders||null,r&&r.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=r&&r.initMessageHeaders||null,r&&r.messageContentType&&(s?s["X-WebChannel-Content-Type"]=r.messageContentType:s={"X-WebChannel-Content-Type":r.messageContentType}),r&&r.ya&&(s?s["X-WebChannel-Client-Profile"]=r.ya:s={"X-WebChannel-Client-Profile":r.ya}),this.g.P=s,(s=r&&r.httpHeadersOverwriteParam)&&!Uo(s)&&(this.g.o=s),this.A=r&&r.supportsCrossDomainXhr||!1,this.v=r&&r.sendRawJson||!1,(r=r&&r.httpSessionIdParam)&&!Uo(r)&&(this.g.D=r,null!==(s=this.h)&&r in s&&r in(s=this.h)&&delete s[r]),this.j=new ai(this)}function Lu(s){mg.call(this);var r=s.__sm__;if(r){e:{for(var i in r){s=i;break e}s=void 0}(this.i=s)&&(s=this.i,r=null!==r&&s in r?r[s]:void 0),this.data=r}else this.data=s}function La(){Wo.call(this),this.status=1}function ai(s){this.g=s}(Ze=Xn.prototype).ea=function(s,r,i,u){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);r=r?r.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():bd.g(),this.C=function(s){return s.h||(s.h=s.i())}(this.u?this.u:bd),this.g.onreadystatechange=_n(this.Fa,this);try{this.F=!0,this.g.open(r,String(s),!0),this.F=!1}catch(f){return void jr(this,f)}s=i||"";var d=new Ji(this.headers);u&&zl(u,function(f,E){d.set(E,f)}),u=function(s){e:{for(var r=Vd,i=s.length,u="string"==typeof s?s.split(""):s,d=0;d<i;d++)if(d in u&&r.call(void 0,u[d],d,s)){r=d;break e}r=-1}return 0>r?null:"string"==typeof s?s.charAt(r):s[r]}(d.T()),i=Et.FormData&&s instanceof Et.FormData,!(0<=Ar(KC,r))||u||i||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),d.forEach(function(f,E){this.g.setRequestHeader(E,f)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{If(this),0<this.B&&((this.K=function(s){return Ut&&Iu()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_n(this.pa,this)):this.A=pf(this.pa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(f){jr(this,f)}},Ze.pa=function(){void 0!==zs&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dn(this,"timeout"),this.abort(8))},Ze.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,Dn(this,"complete"),Dn(this,"abort"),jd(this))},Ze.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jd(this,!0)),Xn.Z.M.call(this)},Ze.Fa=function(){this.s||(this.F||this.v||this.l?to(this):this.cb())},Ze.cb=function(){to(this)},Ze.ba=function(){try{return 2<no(this)?this.g.status:-1}catch(s){return-1}},Ze.ga=function(){try{return this.g?this.g.responseText:""}catch(s){return""}},Ze.Qa=function(s){if(this.g){var r=this.g.responseText;return s&&0==r.indexOf(s)&&(r=r.substring(s.length)),Is(r)}},Ze.Da=function(){return this.m},Ze.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ze=Pa.prototype).ma=8,Ze.G=1,Ze.hb=function(s){try{this.h.info("Origin Trials invoked: "+s)}catch(r){}},Ze.Ha=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.V=Math.floor(1e5*Math.random()),s=this.V++;var r=new qo(this,this.h,s,void 0),i=this.s;if(this.P&&(i?Q(i=R(i),this.P):i=this.P),null===this.o&&(r.H=i),this.ja)e:{for(var u=0,d=0;d<this.l.length;d++){var f=this.l[d];if(void 0===(f="__data__"in f.g&&"string"==typeof(f=f.g.__data__)?f.length:void 0))break;if(4096<(u+=f)){u=d;break e}if(4096===u||d===this.l.length-1){u=d+1;break e}}u=1e3}else u=1e3;u=Cg(this,r,u),In(d=Es(this.F),"RID",s),In(d,"CVER",22),this.D&&In(d,"X-HTTP-Session-Id",this.D),ka(this,d),this.o&&i&&wf(d,this.o,i),eo(this.i,r),this.Ra&&In(d,"TYPE","init"),this.ja?(In(d,"$req",u),In(d,"SID","null"),r.$=!0,Ys(r,d,null)):Ys(r,d,u),this.G=2}}else 3==this.G&&(s?bf(this,s):0==this.l.length||i_(this.i)||bf(this))},Ze.Ga=function(){if(this.u=null,ku(this),this.$&&!(this.L||null==this.g||0>=this.O)){var s=2*this.O;this.h.info("BP detection timer enabled: "+s),this.B=wd(_n(this.bb,this),s)}},Ze.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Qn(10),ro(this),ku(this))},Ze.ab=function(){null!=this.v&&(this.v=null,ro(this),Df(this),Qn(19))},Ze.jb=function(s){s?(this.h.info("Successfully pinged google.com"),Qn(2)):(this.h.info("Failed to ping google.com"),Qn(1))},(Ze=wg.prototype).xa=function(){},Ze.wa=function(){},Ze.va=function(){},Ze.ua=function(){},Ze.Oa=function(){},Fu.prototype.g=function(s,r){return new oi(s,r)},zn(oi,_r),oi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var s=this.g,r=this.l,i=this.h||void 0;s.Wa&&(s.h.info("Origin Trials enabled."),yd(_n(s.hb,s,r))),Qn(0),s.W=r,s.aa=i||{},s.N=s.X,s.F=ws(s,null,s.W),io(s)},oi.prototype.close=function(){Yl(this.g)},oi.prototype.u=function(s){if("string"==typeof s){var r={};r.__data__=s,Fi(this.g,r)}else this.v?((r={}).__data__=cf(s),Fi(this.g,r)):Fi(this.g,s)},oi.prototype.M=function(){this.g.j=null,delete this.j,Yl(this.g),delete this.g,oi.Z.M.call(this)},zn(Lu,mg),zn(La,Wo),zn(ai,wg),ai.prototype.xa=function(){Dn(this.g,"a")},ai.prototype.wa=function(s){Dn(this.g,new Lu(s))},ai.prototype.va=function(s){Dn(this.g,new La(s))},ai.prototype.ua=function(){Dn(this.g,"b")},Fu.prototype.createWebChannel=Fu.prototype.g,oi.prototype.send=oi.prototype.u,oi.prototype.open=oi.prototype.m,oi.prototype.close=oi.prototype.close,Qi.NO_ERROR=0,Qi.TIMEOUT=8,Qi.HTTP_ERROR=6,Su.COMPLETE="complete",gg.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",_r.prototype.listen=_r.prototype.N,Xn.prototype.listenOnce=Xn.prototype.O,Xn.prototype.getLastError=Xn.prototype.La,Xn.prototype.getLastErrorCode=Xn.prototype.Da,Xn.prototype.getStatus=Xn.prototype.ba,Xn.prototype.getResponseJson=Xn.prototype.Qa,Xn.prototype.getResponseText=Xn.prototype.ga,Xn.prototype.send=Xn.prototype.ea;var ec=Qi,Tf=Su,Hd=_s,Vu_PROXY=10,Vu_NOPROXY=11,tc=Fd,nc=gg,Sf=Xn;class Nr{constructor(r){this.uid=r}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(r){return r.uid===this.uid}}Nr.UNAUTHENTICATED=new Nr(null),Nr.GOOGLE_CREDENTIALS=new Nr("google-credentials-uid"),Nr.FIRST_PARTY=new Nr("first-party-uid"),Nr.MOCK_USER=new Nr("mock-user");let Uu="9.0.1";const oo=new zi.Yd("@firebase/firestore");function Wd(){return oo.logLevel}function We(s,...r){if(oo.logLevel<=zi.in.DEBUG){const i=r.map(ra);oo.debug(`Firestore (${Uu}): ${s}`,...i)}}function $n(s,...r){if(oo.logLevel<=zi.in.ERROR){const i=r.map(ra);oo.error(`Firestore (${Uu}): ${s}`,...i)}}function ic(s,...r){if(oo.logLevel<=zi.in.WARN){const i=r.map(ra);oo.warn(`Firestore (${Uu}): ${s}`,...i)}}function ra(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch(i){return s}}function st(s="Unexpected state"){const r=`FIRESTORE (${Uu}) INTERNAL ASSERTION FAILED: `+s;throw $n(r),new Error(r)}function dt(s,r){s||st()}function Ge(s,r){return s}const Ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends Error{constructor(r,i){super(i),this.code=r,this.message=i,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class or{constructor(){this.promise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}}class Af{constructor(r,i){this.user=i,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${r}`}}class bg{getToken(){return Promise.resolve(null)}invalidateToken(){}start(r,i){r.enqueueRetryable(()=>i(Nr.UNAUTHENTICATED))}shutdown(){}}class Dg{constructor(r){this.token=r,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(r,i){this.changeListener=i,r.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class ju{constructor(r){this.t=r,this.currentUser=Nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(r,i){var u=this;let d=this.i;const f=A=>this.i!==d?(d=this.i,i(A)):Promise.resolve();let E=new or;this.o=()=>{this.i++,this.currentUser=this.u(),E.resolve(),E=new or,r.enqueueRetryable(()=>f(this.currentUser))};const w=A=>{r.enqueueRetryable((0,be.Z)(function*(){We("FirebaseCredentialsProvider","Auth detected"),u.auth=A,u.auth.addAuthTokenListener(u.o),yield E.promise,yield f(u.currentUser)}))};this.t.onInit(A=>w(A)),setTimeout(()=>{if(!this.auth){const A=this.t.getImmediate({optional:!0});A?w(A):(We("FirebaseCredentialsProvider","Auth not yet detected"),E.resolve(),E=new or)}},0),r.enqueueRetryable((0,be.Z)(function*(){0===u.i&&(yield E.promise,yield f(u.currentUser))}))}getToken(){const r=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(u=>this.i!==r?(We("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):u?(dt("string"==typeof u.accessToken),new Af(u.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const r=this.auth&&this.auth.getUid();return dt(null===r||"string"==typeof r),new Nr(r)}}class Ua{constructor(r,i,u){this.h=r,this.l=i,this.m=u,this.type="FirstParty",this.user=Nr.FIRST_PARTY}get authHeaders(){const r={"X-Goog-AuthUser":this.l},i=this.h.auth.getAuthHeaderValueForFirstParty([]);return i&&(r.Authorization=i),this.m&&(r["X-Goog-Iam-Authorization-Token"]=this.m),r}}class l_{constructor(r,i,u){this.h=r,this.l=i,this.m=u}getToken(){return Promise.resolve(new Ua(this.h,this.l,this.m))}start(r,i){r.enqueueRetryable(()=>i(Nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _i{constructor(r,i){this.previousValue=r,i&&(i.sequenceNumberHandler=u=>this.g(u),this.p=u=>i.writeSequenceNumber(u))}g(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.p&&this.p(r),r}}function Nf(s){const r="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(r&&"function"==typeof r.getRandomValues)r.getRandomValues(i);else for(let u=0;u<s;u++)i[u]=Math.floor(256*Math.random());return i}_i.T=-1;class Tg{static I(){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/r.length)*r.length;let u="";for(;u.length<20;){const d=Nf(40);for(let f=0;f<d.length;++f)u.length<20&&d[f]<i&&(u+=r.charAt(d[f]%r.length))}return u}}function yt(s,r){return s<r?-1:s>r?1:0}function ts(s,r,i){return s.length===r.length&&s.every((u,d)=>i(u,r[d]))}function Rf(s){return s+"\0"}class ar{constructor(r,i){if(this.seconds=r,this.nanoseconds=i,i<0)throw new Fe(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Fe(Ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(r<-62135596800)throw new Fe(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r);if(r>=253402300800)throw new Fe(Ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r)}static now(){return ar.fromMillis(Date.now())}static fromDate(r){return ar.fromMillis(r.getTime())}static fromMillis(r){const i=Math.floor(r/1e3),u=Math.floor(1e6*(r-1e3*i));return new ar(i,u)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(r){return this.seconds===r.seconds?yt(this.nanoseconds,r.nanoseconds):yt(this.seconds,r.seconds)}isEqual(r){return r.seconds===this.seconds&&r.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class At{constructor(r){this.timestamp=r}static fromTimestamp(r){return new At(r)}static min(){return new At(new ar(0,0))}compareTo(r){return this.timestamp._compareTo(r.timestamp)}isEqual(r){return this.timestamp.isEqual(r.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Sg(s){let r=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&r++;return r}function ao(s,r){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&r(i,s[i])}function Ag(s){for(const r in s)if(Object.prototype.hasOwnProperty.call(s,r))return!1;return!0}class Bu{constructor(r,i,u){void 0===i?i=0:i>r.length&&st(),void 0===u?u=r.length-i:u>r.length-i&&st(),this.segments=r,this.offset=i,this.len=u}get length(){return this.len}isEqual(r){return 0===Bu.comparator(this,r)}child(r){const i=this.segments.slice(this.offset,this.limit());return r instanceof Bu?r.forEach(u=>{i.push(u)}):i.push(r),this.construct(i)}limit(){return this.offset+this.length}popFirst(r){return this.construct(this.segments,this.offset+(r=void 0===r?1:r),this.length-r)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(r){return this.segments[this.offset+r]}isEmpty(){return 0===this.length}isPrefixOf(r){if(r.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==r.get(i))return!1;return!0}isImmediateParentOf(r){if(this.length+1!==r.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==r.get(i))return!1;return!0}forEach(r){for(let i=this.offset,u=this.limit();i<u;i++)r(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(r,i){const u=Math.min(r.length,i.length);for(let d=0;d<u;d++){const f=r.get(d),E=i.get(d);if(f<E)return-1;if(f>E)return 1}return r.length<i.length?-1:r.length>i.length?1:0}}class Zt extends Bu{construct(r,i,u){return new Zt(r,i,u)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...r){const i=[];for(const u of r){if(u.indexOf("//")>=0)throw new Fe(Ie.INVALID_ARGUMENT,`Invalid segment (${u}). Paths must not contain // in them.`);i.push(...u.split("/").filter(d=>d.length>0))}return new Zt(i)}static emptyPath(){return new Zt([])}}const c_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rr extends Bu{construct(r,i,u){return new Rr(r,i,u)}static isValidIdentifier(r){return c_.test(r)}canonicalString(){return this.toArray().map(r=>(r=r.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rr.isValidIdentifier(r)||(r="`"+r+"`"),r)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Rr(["__name__"])}static fromServerFormat(r){const i=[];let u="",d=0;const f=()=>{if(0===u.length)throw new Fe(Ie.INVALID_ARGUMENT,`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(u),u=""};let E=!1;for(;d<r.length;){const w=r[d];if("\\"===w){if(d+1===r.length)throw new Fe(Ie.INVALID_ARGUMENT,"Path has trailing escape character: "+r);const A=r[d+1];if("\\"!==A&&"."!==A&&"`"!==A)throw new Fe(Ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+r);u+=A,d+=2}else"`"===w?(E=!E,d++):"."!==w||E?(u+=w,d++):(f(),d++)}if(f(),E)throw new Fe(Ie.INVALID_ARGUMENT,"Unterminated ` in path: "+r);return new Rr(i)}static emptyPath(){return new Rr([])}}class ja{constructor(r){this.fields=r,r.sort(Rr.comparator)}covers(r){for(const i of this.fields)if(i.isPrefixOf(r))return!0;return!1}isEqual(r){return ts(this.fields,r.fields,(i,u)=>i.isEqual(u))}}class Tr{constructor(r){this.binaryString=r}static fromBase64String(r){const i=atob(r);return new Tr(i)}static fromUint8Array(r){const i=function(u){let d="";for(let f=0;f<u.length;++f)d+=String.fromCharCode(u[f]);return d}(r);return new Tr(i)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const i=new Uint8Array(r.length);for(let u=0;u<r.length;u++)i[u]=r.charCodeAt(u);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(r){return yt(this.binaryString,r.binaryString)}isEqual(r){return this.binaryString===r.binaryString}}Tr.EMPTY_BYTE_STRING=new Tr("");const sc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(s){if(dt(!!s),"string"==typeof s){let r=0;const i=sc.exec(s);if(dt(!!i),i[1]){let d=i[1];d=(d+"000000000").substr(0,9),r=Number(d)}const u=new Date(s);return{seconds:Math.floor(u.getTime()/1e3),nanos:r}}return{seconds:tn(s.seconds),nanos:tn(s.nanos)}}function tn(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function Ds(s){return"string"==typeof s?Tr.fromBase64String(s):Tr.fromUint8Array(s)}function Gd(s){var r,i;return"server_timestamp"===(null===(i=((null===(r=null==s?void 0:s.mapValue)||void 0===r?void 0:r.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Hu(s){const r=s.mapValue.fields.__previous_value__;return Gd(r)?Hu(r):r}function $u(s){const r=ns(s.mapValue.fields.__local_write_time__.timestampValue);return new ar(r.seconds,r.nanos)}function Wu(s){return null==s}function xf(s){return 0===s&&1/s==-1/0}function Rg(s){return"number"==typeof s&&Number.isInteger(s)&&!xf(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}class nt{constructor(r){this.path=r}static fromPath(r){return new nt(Zt.fromString(r))}static fromName(r){return new nt(Zt.fromString(r).popFirst(5))}hasCollectionId(r){return this.path.length>=2&&this.path.get(this.path.length-2)===r}isEqual(r){return null!==r&&0===Zt.comparator(this.path,r.path)}toString(){return this.path.toString()}static comparator(r,i){return Zt.comparator(r.path,i.path)}static isDocumentKey(r){return r.length%2==0}static fromSegments(r){return new nt(new Zt(r.slice()))}}function uo(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Gd(s)?4:10:st()}function Li(s,r){const i=uo(s);if(i!==uo(r))return!1;switch(i){case 0:return!0;case 1:return s.booleanValue===r.booleanValue;case 4:return $u(s).isEqual($u(r));case 3:return function(u,d){if("string"==typeof u.timestampValue&&"string"==typeof d.timestampValue&&u.timestampValue.length===d.timestampValue.length)return u.timestampValue===d.timestampValue;const f=ns(u.timestampValue),E=ns(d.timestampValue);return f.seconds===E.seconds&&f.nanos===E.nanos}(s,r);case 5:return s.stringValue===r.stringValue;case 6:return d=r,Ds(s.bytesValue).isEqual(Ds(d.bytesValue));case 7:return s.referenceValue===r.referenceValue;case 8:return function(u,d){return tn(u.geoPointValue.latitude)===tn(d.geoPointValue.latitude)&&tn(u.geoPointValue.longitude)===tn(d.geoPointValue.longitude)}(s,r);case 2:return function(u,d){if("integerValue"in u&&"integerValue"in d)return tn(u.integerValue)===tn(d.integerValue);if("doubleValue"in u&&"doubleValue"in d){const f=tn(u.doubleValue),E=tn(d.doubleValue);return f===E?xf(f)===xf(E):isNaN(f)&&isNaN(E)}return!1}(s,r);case 9:return ts(s.arrayValue.values||[],r.arrayValue.values||[],Li);case 10:return function(u,d){const f=u.mapValue.fields||{},E=d.mapValue.fields||{};if(Sg(f)!==Sg(E))return!1;for(const w in f)if(f.hasOwnProperty(w)&&(void 0===E[w]||!Li(f[w],E[w])))return!1;return!0}(s,r);default:return st()}var d}function qd(s,r){return void 0!==(s.values||[]).find(i=>Li(i,r))}function ia(s,r){const i=uo(s),u=uo(r);if(i!==u)return yt(i,u);switch(i){case 0:return 0;case 1:return yt(s.booleanValue,r.booleanValue);case 2:return function(d,f){const E=tn(d.integerValue||d.doubleValue),w=tn(f.integerValue||f.doubleValue);return E<w?-1:E>w?1:E===w?0:isNaN(E)?isNaN(w)?0:-1:1}(s,r);case 3:return Mf(s.timestampValue,r.timestampValue);case 4:return Mf($u(s),$u(r));case 5:return yt(s.stringValue,r.stringValue);case 6:return function(d,f){const E=Ds(d),w=Ds(f);return E.compareTo(w)}(s.bytesValue,r.bytesValue);case 7:return function(d,f){const E=d.split("/"),w=f.split("/");for(let A=0;A<E.length&&A<w.length;A++){const P=yt(E[A],w[A]);if(0!==P)return P}return yt(E.length,w.length)}(s.referenceValue,r.referenceValue);case 8:return function(d,f){const E=yt(tn(d.latitude),tn(f.latitude));return 0!==E?E:yt(tn(d.longitude),tn(f.longitude))}(s.geoPointValue,r.geoPointValue);case 9:return function(d,f){const E=d.values||[],w=f.values||[];for(let A=0;A<E.length&&A<w.length;++A){const P=ia(E[A],w[A]);if(P)return P}return yt(E.length,w.length)}(s.arrayValue,r.arrayValue);case 10:return function(d,f){const E=d.fields||{},w=Object.keys(E),A=f.fields||{},P=Object.keys(A);w.sort(),P.sort();for(let V=0;V<w.length&&V<P.length;++V){const W=yt(w[V],P[V]);if(0!==W)return W;const ue=ia(E[w[V]],A[P[V]]);if(0!==ue)return ue}return yt(w.length,P.length)}(s.mapValue,r.mapValue);default:throw st()}}function Mf(s,r){if("string"==typeof s&&"string"==typeof r&&s.length===r.length)return yt(s,r);const i=ns(s),u=ns(r),d=yt(i.seconds,u.seconds);return 0!==d?d:yt(i.nanos,u.nanos)}function zd(s){return Of(s)}function Of(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(u){const d=ns(u);return`time(${d.seconds},${d.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?Ds(s.bytesValue).toBase64():"referenceValue"in s?nt.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(r=s.geoPointValue).latitude},${r.longitude})`:"arrayValue"in s?function(u){let d="[",f=!0;for(const E of u.values||[])f?f=!1:d+=",",d+=Of(E);return d+"]"}(s.arrayValue):"mapValue"in s?function(u){const d=Object.keys(u.fields||{}).sort();let f="{",E=!0;for(const w of d)E?E=!1:f+=",",f+=`${w}:${Of(u.fields[w])}`;return f+"}"}(s.mapValue):st();var r}function Kd(s,r){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${r.path.canonicalString()}`}}function Pf(s){return!!s&&"integerValue"in s}function Zd(s){return!!s&&"arrayValue"in s}function Gu(s){return!!s&&"nullValue"in s}function oc(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function sa(s){return!!s&&"mapValue"in s}function qu(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const r={mapValue:{fields:{}}};return ao(s.mapValue.fields,(i,u)=>r.mapValue.fields[i]=qu(u)),r}if(s.arrayValue){const r={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)r.arrayValue.values[i]=qu(s.arrayValue.values[i]);return r}return Object.assign({},s)}class kt{constructor(r){this.value=r}static empty(){return new kt({mapValue:{}})}field(r){if(r.isEmpty())return this.value;{let i=this.value;for(let u=0;u<r.length-1;++u)if(i=(i.mapValue.fields||{})[r.get(u)],!sa(i))return null;return i=(i.mapValue.fields||{})[r.lastSegment()],i||null}}set(r,i){this.getFieldsMap(r.popLast())[r.lastSegment()]=qu(i)}setAll(r){let i=Rr.emptyPath(),u={},d=[];r.forEach((E,w)=>{if(!i.isImmediateParentOf(w)){const A=this.getFieldsMap(i);this.applyChanges(A,u,d),u={},d=[],i=w.popLast()}E?u[w.lastSegment()]=qu(E):d.push(w.lastSegment())});const f=this.getFieldsMap(i);this.applyChanges(f,u,d)}delete(r){const i=this.field(r.popLast());sa(i)&&i.mapValue.fields&&delete i.mapValue.fields[r.lastSegment()]}isEqual(r){return Li(this.value,r.value)}getFieldsMap(r){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let u=0;u<r.length;++u){let d=i.mapValue.fields[r.get(u)];sa(d)&&d.mapValue.fields||(d={mapValue:{fields:{}}},i.mapValue.fields[r.get(u)]=d),i=d}return i.mapValue.fields}applyChanges(r,i,u){ao(i,(d,f)=>r[d]=f);for(const d of u)delete r[d]}clone(){return new kt(qu(this.value))}}function ac(s){const r=[];return ao(s.fields,(i,u)=>{const d=new Rr([i]);if(sa(u)){const f=ac(u.mapValue).fields;if(0===f.length)r.push(d);else for(const E of f)r.push(d.child(E))}else r.push(d)}),new ja(r)}class Ft{constructor(r,i,u,d,f){this.key=r,this.documentType=i,this.version=u,this.data=d,this.documentState=f}static newInvalidDocument(r){return new Ft(r,0,At.min(),kt.empty(),0)}static newFoundDocument(r,i,u){return new Ft(r,1,i,u,0)}static newNoDocument(r,i){return new Ft(r,2,i,kt.empty(),0)}static newUnknownDocument(r,i){return new Ft(r,3,i,kt.empty(),2)}convertToFoundDocument(r,i){return this.version=r,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(r){return this.version=r,this.documentType=2,this.data=kt.empty(),this.documentState=0,this}convertToUnknownDocument(r){return this.version=r,this.documentType=3,this.data=kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(r){return r instanceof Ft&&this.key.isEqual(r.key)&&this.version.isEqual(r.version)&&this.documentType===r.documentType&&this.documentState===r.documentState&&this.data.isEqual(r.data)}clone(){return new Ft(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ba{constructor(r,i=null,u=[],d=[],f=null,E=null,w=null){this.path=r,this.collectionGroup=i,this.orderBy=u,this.filters=d,this.limit=f,this.startAt=E,this.endAt=w,this.A=null}}function uc(s,r=null,i=[],u=[],d=null,f=null,E=null){return new Ba(s,r,i,u,d,f,E)}function zu(s){const r=Ge(s);if(null===r.A){let i=r.path.canonicalString();null!==r.collectionGroup&&(i+="|cg:"+r.collectionGroup),i+="|f:",i+=r.filters.map(u=>function(s){return s.field.canonicalString()+s.op.toString()+zd(s.value)}(u)).join(","),i+="|ob:",i+=r.orderBy.map(u=>{return(d=u).field.canonicalString()+d.dir;var d}).join(","),Wu(r.limit)||(i+="|l:",i+=r.limit),r.startAt&&(i+="|lb:",i+=Zu(r.startAt)),r.endAt&&(i+="|ub:",i+=Zu(r.endAt)),r.A=i}return r.A}function Ha(s,r){if(s.limit!==r.limit||s.orderBy.length!==r.orderBy.length)return!1;for(let d=0;d<s.orderBy.length;d++)if(!Ts(s.orderBy[d],r.orderBy[d]))return!1;if(s.filters.length!==r.filters.length)return!1;for(let d=0;d<s.filters.length;d++)if((i=s.filters[d]).op!==(u=r.filters[d]).op||!i.field.isEqual(u.field)||!Li(i.value,u.value))return!1;var i,u;return s.collectionGroup===r.collectionGroup&&!!s.path.isEqual(r.path)&&!!Jd(s.startAt,r.startAt)&&Jd(s.endAt,r.endAt)}function lc(s){return nt.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}class xr extends class{}{constructor(r,i,u){super(),this.field=r,this.op=i,this.value=u}static create(r,i,u){return r.isKeyField()?"in"===i||"not-in"===i?this.R(r,i,u):new $a(r,i,u):"array-contains"===i?new xg(r,u):"in"===i?new kf(r,u):"not-in"===i?new ln(r,u):"array-contains-any"===i?new Wa(r,u):new xr(r,i,u)}static R(r,i,u){return"in"===i?new Ku(r,u):new Br(r,u)}matches(r){const i=r.data.field(this.field);return"!="===this.op?null!==i&&this.P(ia(i,this.value)):null!==i&&uo(this.value)===uo(i)&&this.P(ia(i,this.value))}P(r){switch(this.op){case"<":return r<0;case"<=":return r<=0;case"==":return 0===r;case"!=":return 0!==r;case">":return r>0;case">=":return r>=0;default:return st()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class $a extends xr{constructor(r,i,u){super(r,i,u),this.key=nt.fromName(u.referenceValue)}matches(r){const i=nt.comparator(r.key,this.key);return this.P(i)}}class Ku extends xr{constructor(r,i){super(r,"in",i),this.keys=Yd(0,i)}matches(r){return this.keys.some(i=>i.isEqual(r.key))}}class Br extends xr{constructor(r,i){super(r,"not-in",i),this.keys=Yd(0,i)}matches(r){return!this.keys.some(i=>i.isEqual(r.key))}}function Yd(s,r){var i;return((null===(i=r.arrayValue)||void 0===i?void 0:i.values)||[]).map(u=>nt.fromName(u.referenceValue))}class xg extends xr{constructor(r,i){super(r,"array-contains",i)}matches(r){const i=r.data.field(this.field);return Zd(i)&&qd(i.arrayValue,this.value)}}class kf extends xr{constructor(r,i){super(r,"in",i)}matches(r){const i=r.data.field(this.field);return null!==i&&qd(this.value.arrayValue,i)}}class ln extends xr{constructor(r,i){super(r,"not-in",i)}matches(r){if(qd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=r.data.field(this.field);return null!==i&&!qd(this.value.arrayValue,i)}}class Wa extends xr{constructor(r,i){super(r,"array-contains-any",i)}matches(r){const i=r.data.field(this.field);return!(!Zd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(u=>qd(this.value.arrayValue,u))}}class lo{constructor(r,i){this.position=r,this.before=i}}function Zu(s){return`${s.before?"b":"a"}:${s.position.map(r=>zd(r)).join(",")}`}class Qu{constructor(r,i="asc"){this.field=r,this.dir=i}}function Ts(s,r){return s.dir===r.dir&&s.field.isEqual(r.field)}function Yu(s,r,i){let u=0;for(let d=0;d<s.position.length;d++){const f=r[d],E=s.position[d];if(u=f.field.isKeyField()?nt.comparator(nt.fromName(E.referenceValue),i.key):ia(E,i.data.field(f.field)),"desc"===f.dir&&(u*=-1),0!==u)break}return s.before?u<=0:u<0}function Jd(s,r){if(null===s)return null===r;if(null===r||s.before!==r.before||s.position.length!==r.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Li(s.position[i],r.position[i]))return!1;return!0}class Ss{constructor(r,i=null,u=[],d=[],f=null,E="F",w=null,A=null){this.path=r,this.collectionGroup=i,this.explicitOrderBy=u,this.filters=d,this.limit=f,this.limitType=E,this.startAt=w,this.endAt=A,this.V=null,this.S=null}}function cc(s,r,i,u,d,f,E,w){return new Ss(s,r,i,u,d,f,E,w)}function Ju(s){return new Ss(s)}function Xd(s){return!Wu(s.limit)&&"F"===s.limitType}function eh(s){return!Wu(s.limit)&&"L"===s.limitType}function th(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function I(s){for(const r of s.filters)if(r.v())return r.field;return null}function m(s){return null!==s.collectionGroup}function _(s){const r=Ge(s);if(null===r.V){r.V=[];const i=I(r),u=th(r);if(null!==i&&null===u)i.isKeyField()||r.V.push(new Qu(i)),r.V.push(new Qu(Rr.keyField(),"asc"));else{let d=!1;for(const f of r.explicitOrderBy)r.V.push(f),f.field.isKeyField()&&(d=!0);if(!d){const f=r.explicitOrderBy.length>0?r.explicitOrderBy[r.explicitOrderBy.length-1].dir:"asc";r.V.push(new Qu(Rr.keyField(),f))}}}return r.V}function b(s){const r=Ge(s);if(!r.S)if("F"===r.limitType)r.S=uc(r.path,r.collectionGroup,_(r),r.filters,r.limit,r.startAt,r.endAt);else{const i=[];for(const f of _(r))i.push(new Qu(f.field,"desc"===f.dir?"asc":"desc"));const u=r.endAt?new lo(r.endAt.position,!r.endAt.before):null,d=r.startAt?new lo(r.startAt.position,!r.startAt.before):null;r.S=uc(r.path,r.collectionGroup,i,r.filters,r.limit,u,d)}return r.S}function M(s,r,i){return new Ss(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),r,i,s.startAt,s.endAt)}function L(s,r){return Ha(b(s),b(r))&&s.limitType===r.limitType}function ee(s){return`${zu(b(s))}|lt:${s.limitType}`}function De(s){return`Query(target=${function(s){let r=s.path.canonicalString();return null!==s.collectionGroup&&(r+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(r+=`, filters: [${s.filters.map(i=>{return`${(u=i).field.canonicalString()} ${u.op} ${zd(u.value)}`;var u}).join(", ")}]`),Wu(s.limit)||(r+=", limit: "+s.limit),s.orderBy.length>0&&(r+=`, orderBy: [${s.orderBy.map(i=>{return`${(u=i).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),s.startAt&&(r+=", startAt: "+Zu(s.startAt)),s.endAt&&(r+=", endAt: "+Zu(s.endAt)),`Target(${r})`}(b(s))}; limitType=${s.limitType})`}function He(s,r){return r.isFoundDocument()&&function(i,u){const d=u.key.path;return null!==i.collectionGroup?u.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(d):nt.isDocumentKey(i.path)?i.path.isEqual(d):i.path.isImmediateParentOf(d)}(s,r)&&function(i,u){for(const d of i.explicitOrderBy)if(!d.field.isKeyField()&&null===u.data.field(d.field))return!1;return!0}(s,r)&&function(i,u){for(const d of i.filters)if(!d.matches(u))return!1;return!0}(s,r)&&(u=r,!((i=s).startAt&&!Yu(i.startAt,_(i),u)||i.endAt&&Yu(i.endAt,_(i),u)));var i,u}function rt(s){return(r,i)=>{let u=!1;for(const d of _(s)){const f=_t(d,r,i);if(0!==f)return f;u=u||d.field.isKeyField()}return 0}}function _t(s,r,i){const u=s.field.isKeyField()?nt.comparator(r.key,i.key):function(d,f,E){const w=f.data.field(d),A=E.data.field(d);return null!==w&&null!==A?ia(w,A):st()}(s.field,r,i);switch(s.dir){case"asc":return u;case"desc":return-1*u;default:return st()}}function ht(s,r){if(s.D){if(isNaN(r))return{doubleValue:"NaN"};if(r===1/0)return{doubleValue:"Infinity"};if(r===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xf(r)?"-0":r}}function ur(s){return{integerValue:""+s}}function Vi(s,r){return Rg(r)?ur(r):ht(s,r)}class As{constructor(){this._=void 0}}function vi(s,r,i){return s instanceof Ga?function(u,d){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return d&&(f.fields.__previous_value__=d),{mapValue:f}}(i,r):s instanceof Ns?Mg(s,r):s instanceof co?dc(s,r):function(u,d){const f=Ff(u,d),E=Lf(f)+Lf(u.C);return Pf(f)&&Pf(u.C)?ur(E):ht(u.N,E)}(s,r)}function nh(s,r,i){return s instanceof Ns?Mg(s,r):s instanceof co?dc(s,r):i}function Ff(s,r){return s instanceof oa?Pf(i=r)||(u=i)&&"doubleValue"in u?r:{integerValue:0}:null;var u,i}class Ga extends As{}class Ns extends As{constructor(r){super(),this.elements=r}}function Mg(s,r){const i=ho(r);for(const u of s.elements)i.some(d=>Li(d,u))||i.push(u);return{arrayValue:{values:i}}}class co extends As{constructor(r){super(),this.elements=r}}function dc(s,r){let i=ho(r);for(const u of s.elements)i=i.filter(d=>!Li(d,u));return{arrayValue:{values:i}}}class oa extends As{constructor(r,i){super(),this.N=r,this.C=i}}function Lf(s){return tn(s.integerValue||s.doubleValue)}function ho(s){return Zd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class ui{constructor(r,i){this.field=r,this.transform=i}}class DA{constructor(r,i){this.version=r,this.transformResults=i}}class vr{constructor(r,i){this.updateTime=r,this.exists=i}static none(){return new vr}static exists(r){return new vr(void 0,r)}static updateTime(r){return new vr(r)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(r){return this.exists===r.exists&&(this.updateTime?!!r.updateTime&&this.updateTime.isEqual(r.updateTime):!r.updateTime)}}function d_(s,r){return void 0!==s.updateTime?r.isFoundDocument()&&r.version.isEqual(s.updateTime):void 0===s.exists||s.exists===r.isFoundDocument()}class rs{}function h_(s,r,i){s instanceof ih?function(u,d,f){const E=u.value.clone(),w=Pg(u.fieldTransforms,d,f.transformResults);E.setAll(w),d.convertToFoundDocument(f.version,E).setHasCommittedMutations()}(s,r,i):s instanceof aa?function(u,d,f){if(!d_(u.precondition,d))return void d.convertToUnknownDocument(f.version);const E=Pg(u.fieldTransforms,d,f.transformResults),w=d.data;w.setAll(Og(u)),w.setAll(E),d.convertToFoundDocument(f.version,w).setHasCommittedMutations()}(s,r,i):r.convertToNoDocument(i.version).setHasCommittedMutations()}function Vf(s,r,i){var d;s instanceof ih?function(u,d,f){if(!d_(u.precondition,d))return;const E=u.value.clone(),w=p_(u.fieldTransforms,f,d);E.setAll(w),d.convertToFoundDocument(rh(d),E).setHasLocalMutations()}(s,r,i):s instanceof aa?function(u,d,f){if(!d_(u.precondition,d))return;const E=p_(u.fieldTransforms,f,d),w=d.data;w.setAll(Og(u)),w.setAll(E),d.convertToFoundDocument(rh(d),w).setHasLocalMutations()}(s,r,i):d_(s.precondition,d=r)&&d.convertToNoDocument(At.min())}function hD(s,r){let i=null;for(const u of s.fieldTransforms){const d=r.data.field(u.field),f=Ff(u.transform,d||null);null!=f&&(null==i&&(i=kt.empty()),i.set(u.field,f))}return i||null}function f_(s,r){return s.type===r.type&&!!s.key.isEqual(r.key)&&!!s.precondition.isEqual(r.precondition)&&(u=r.fieldTransforms,!!(void 0===(i=s.fieldTransforms)&&void 0===u||i&&u&&ts(i,u,(d,f)=>function(s,r){return s.field.isEqual(r.field)&&(u=r.transform,(i=s.transform)instanceof Ns&&u instanceof Ns||i instanceof co&&u instanceof co?ts(i.elements,u.elements,Li):i instanceof oa&&u instanceof oa?Li(i.C,u.C):i instanceof Ga&&u instanceof Ga);var i,u}(d,f))))&&(0===s.type?s.value.isEqual(r.value):1!==s.type||s.data.isEqual(r.data)&&s.fieldMask.isEqual(r.fieldMask));var i,u}function rh(s){return s.isFoundDocument()?s.version:At.min()}class ih extends rs{constructor(r,i,u,d=[]){super(),this.key=r,this.value=i,this.precondition=u,this.fieldTransforms=d,this.type=0}}class aa extends rs{constructor(r,i,u,d,f=[]){super(),this.key=r,this.data=i,this.fieldMask=u,this.precondition=d,this.fieldTransforms=f,this.type=1}}function Og(s){const r=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const u=s.data.field(i);r.set(i,u)}}),r}function Pg(s,r,i){const u=new Map;dt(s.length===i.length);for(let d=0;d<i.length;d++){const f=s[d],E=f.transform,w=r.data.field(f.field);u.set(f.field,nh(E,w,i[d]))}return u}function p_(s,r,i){const u=new Map;for(const d of s){const f=d.transform,E=i.data.field(d.field);u.set(d.field,vi(f,E,r))}return u}class kg extends rs{constructor(r,i){super(),this.key=r,this.precondition=i,this.type=2,this.fieldTransforms=[]}}class Xu extends rs{constructor(r,i){super(),this.key=r,this.precondition=i,this.type=3,this.fieldTransforms=[]}}class g_{constructor(r){this.count=r}}var Er,Qt;function Fg(s){switch(s){case Ie.OK:return st();case Ie.CANCELLED:case Ie.UNKNOWN:case Ie.DEADLINE_EXCEEDED:case Ie.RESOURCE_EXHAUSTED:case Ie.INTERNAL:case Ie.UNAVAILABLE:case Ie.UNAUTHENTICATED:return!1;case Ie.INVALID_ARGUMENT:case Ie.NOT_FOUND:case Ie.ALREADY_EXISTS:case Ie.PERMISSION_DENIED:case Ie.FAILED_PRECONDITION:case Ie.ABORTED:case Ie.OUT_OF_RANGE:case Ie.UNIMPLEMENTED:case Ie.DATA_LOSS:return!0;default:return st()}}function YC(s){if(void 0===s)return $n("GRPC error has no .code"),Ie.UNKNOWN;switch(s){case Er.OK:return Ie.OK;case Er.CANCELLED:return Ie.CANCELLED;case Er.UNKNOWN:return Ie.UNKNOWN;case Er.DEADLINE_EXCEEDED:return Ie.DEADLINE_EXCEEDED;case Er.RESOURCE_EXHAUSTED:return Ie.RESOURCE_EXHAUSTED;case Er.INTERNAL:return Ie.INTERNAL;case Er.UNAVAILABLE:return Ie.UNAVAILABLE;case Er.UNAUTHENTICATED:return Ie.UNAUTHENTICATED;case Er.INVALID_ARGUMENT:return Ie.INVALID_ARGUMENT;case Er.NOT_FOUND:return Ie.NOT_FOUND;case Er.ALREADY_EXISTS:return Ie.ALREADY_EXISTS;case Er.PERMISSION_DENIED:return Ie.PERMISSION_DENIED;case Er.FAILED_PRECONDITION:return Ie.FAILED_PRECONDITION;case Er.ABORTED:return Ie.ABORTED;case Er.OUT_OF_RANGE:return Ie.OUT_OF_RANGE;case Er.UNIMPLEMENTED:return Ie.UNIMPLEMENTED;case Er.DATA_LOSS:return Ie.DATA_LOSS;default:return st()}}(Qt=Er||(Er={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";class Mr{constructor(r,i){this.comparator=r,this.root=i||Kr.EMPTY}insert(r,i){return new Mr(this.comparator,this.root.insert(r,i,this.comparator).copy(null,null,Kr.BLACK,null,null))}remove(r){return new Mr(this.comparator,this.root.remove(r,this.comparator).copy(null,null,Kr.BLACK,null,null))}get(r){let i=this.root;for(;!i.isEmpty();){const u=this.comparator(r,i.key);if(0===u)return i.value;u<0?i=i.left:u>0&&(i=i.right)}return null}indexOf(r){let i=0,u=this.root;for(;!u.isEmpty();){const d=this.comparator(r,u.key);if(0===d)return i+u.left.size;d<0?u=u.left:(i+=u.left.size+1,u=u.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(r){return this.root.inorderTraversal(r)}forEach(r){this.inorderTraversal((i,u)=>(r(i,u),!1))}toString(){const r=[];return this.inorderTraversal((i,u)=>(r.push(`${i}:${u}`),!1)),`{${r.join(", ")}}`}reverseTraversal(r){return this.root.reverseTraversal(r)}getIterator(){return new Lg(this.root,null,this.comparator,!1)}getIteratorFrom(r){return new Lg(this.root,r,this.comparator,!1)}getReverseIterator(){return new Lg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(r){return new Lg(this.root,r,this.comparator,!0)}}class Lg{constructor(r,i,u,d){this.isReverse=d,this.nodeStack=[];let f=1;for(;!r.isEmpty();)if(f=i?u(r.key,i):1,d&&(f*=-1),f<0)r=this.isReverse?r.left:r.right;else{if(0===f){this.nodeStack.push(r);break}this.nodeStack.push(r),r=this.isReverse?r.right:r.left}}getNext(){let r=this.nodeStack.pop();const i={key:r.key,value:r.value};if(this.isReverse)for(r=r.left;!r.isEmpty();)this.nodeStack.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack.push(r),r=r.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const r=this.nodeStack[this.nodeStack.length-1];return{key:r.key,value:r.value}}}class Kr{constructor(r,i,u,d,f){this.key=r,this.value=i,this.color=null!=u?u:Kr.RED,this.left=null!=d?d:Kr.EMPTY,this.right=null!=f?f:Kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(r,i,u,d,f){return new Kr(null!=r?r:this.key,null!=i?i:this.value,null!=u?u:this.color,null!=d?d:this.left,null!=f?f:this.right)}isEmpty(){return!1}inorderTraversal(r){return this.left.inorderTraversal(r)||r(this.key,this.value)||this.right.inorderTraversal(r)}reverseTraversal(r){return this.right.reverseTraversal(r)||r(this.key,this.value)||this.left.reverseTraversal(r)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(r,i,u){let d=this;const f=u(r,d.key);return d=f<0?d.copy(null,null,null,d.left.insert(r,i,u),null):0===f?d.copy(null,i,null,null,null):d.copy(null,null,null,null,d.right.insert(r,i,u)),d.fixUp()}removeMin(){if(this.left.isEmpty())return Kr.EMPTY;let r=this;return r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.removeMin(),null),r.fixUp()}remove(r,i){let u,d=this;if(i(r,d.key)<0)d.left.isEmpty()||d.left.isRed()||d.left.left.isRed()||(d=d.moveRedLeft()),d=d.copy(null,null,null,d.left.remove(r,i),null);else{if(d.left.isRed()&&(d=d.rotateRight()),d.right.isEmpty()||d.right.isRed()||d.right.left.isRed()||(d=d.moveRedRight()),0===i(r,d.key)){if(d.right.isEmpty())return Kr.EMPTY;u=d.right.min(),d=d.copy(u.key,u.value,null,null,d.right.removeMin())}d=d.copy(null,null,null,null,d.right.remove(r,i))}return d.fixUp()}isRed(){return this.color}fixUp(){let r=this;return r.right.isRed()&&!r.left.isRed()&&(r=r.rotateLeft()),r.left.isRed()&&r.left.left.isRed()&&(r=r.rotateRight()),r.left.isRed()&&r.right.isRed()&&(r=r.colorFlip()),r}moveRedLeft(){let r=this.colorFlip();return r.right.left.isRed()&&(r=r.copy(null,null,null,null,r.right.rotateRight()),r=r.rotateLeft(),r=r.colorFlip()),r}moveRedRight(){let r=this.colorFlip();return r.left.left.isRed()&&(r=r.rotateRight(),r=r.colorFlip()),r}rotateLeft(){const r=this.copy(null,null,Kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,r,null)}rotateRight(){const r=this.copy(null,null,Kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,r)}colorFlip(){const r=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,r,i)}checkMaxDepth(){const r=this.check();return Math.pow(2,r)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const r=this.left.check();if(r!==this.right.check())throw st();return r+(this.isRed()?0:1)}}Kr.EMPTY=null,Kr.RED=!0,Kr.BLACK=!1,Kr.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(s,r,i,u,d){return this}insert(s,r,i){return new Kr(s,r)}remove(s,r){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class lr{constructor(r){this.comparator=r,this.data=new Mr(this.comparator)}has(r){return null!==this.data.get(r)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(r){return this.data.indexOf(r)}forEach(r){this.data.inorderTraversal((i,u)=>(r(i),!1))}forEachInRange(r,i){const u=this.data.getIteratorFrom(r[0]);for(;u.hasNext();){const d=u.getNext();if(this.comparator(d.key,r[1])>=0)return;i(d.key)}}forEachWhile(r,i){let u;for(u=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();u.hasNext();)if(!r(u.getNext().key))return}firstAfterOrEqual(r){const i=this.data.getIteratorFrom(r);return i.hasNext()?i.getNext().key:null}getIterator(){return new JC(this.data.getIterator())}getIteratorFrom(r){return new JC(this.data.getIteratorFrom(r))}add(r){return this.copy(this.data.remove(r).insert(r,!0))}delete(r){return this.has(r)?this.copy(this.data.remove(r)):this}isEmpty(){return this.data.isEmpty()}unionWith(r){let i=this;return i.size<r.size&&(i=r,r=this),r.forEach(u=>{i=i.add(u)}),i}isEqual(r){if(!(r instanceof lr)||this.size!==r.size)return!1;const i=this.data.getIterator(),u=r.data.getIterator();for(;i.hasNext();){const d=i.getNext().key,f=u.getNext().key;if(0!==this.comparator(d,f))return!1}return!0}toArray(){const r=[];return this.forEach(i=>{r.push(i)}),r}toString(){const r=[];return this.forEach(i=>r.push(i)),"SortedSet("+r.toString()+")"}copy(r){const i=new lr(this.comparator);return i.data=r,i}}class JC{constructor(r){this.iter=r}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const XC=new Mr(nt.comparator);function Ui(){return XC}const eI=new Mr(nt.comparator);function Uf(){return eI}const fD=new Mr(nt.comparator);function tI(){return fD}const nI=new lr(nt.comparator);function fn(...s){let r=nI;for(const i of s)r=r.add(i);return r}const hc=new lr(yt);function jf(){return hc}class sh{constructor(r,i,u,d,f){this.snapshotVersion=r,this.targetChanges=i,this.targetMismatches=u,this.documentUpdates=d,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(r,i){const u=new Map;return u.set(r,Bf.createSynthesizedTargetChangeForCurrentChange(r,i)),new sh(At.min(),u,jf(),Ui(),fn())}}class Bf{constructor(r,i,u,d,f){this.resumeToken=r,this.current=i,this.addedDocuments=u,this.modifiedDocuments=d,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(r,i){return new Bf(Tr.EMPTY_BYTE_STRING,i,fn(),fn(),fn())}}class fc{constructor(r,i,u,d){this.k=r,this.removedTargetIds=i,this.key=u,this.$=d}}class rI{constructor(r,i){this.targetId=r,this.O=i}}class m_{constructor(r,i,u=Tr.EMPTY_BYTE_STRING,d=null){this.state=r,this.targetIds=i,this.resumeToken=u,this.cause=d}}class y_{constructor(){this.F=0,this.M=__(),this.L=Tr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(r){r.approximateByteSize()>0&&(this.U=!0,this.L=r)}W(){let r=fn(),i=fn(),u=fn();return this.M.forEach((d,f)=>{switch(f){case 0:r=r.add(d);break;case 2:i=i.add(d);break;case 1:u=u.add(d);break;default:st()}}),new Bf(this.L,this.B,r,i,u)}G(){this.U=!1,this.M=__()}H(r,i){this.U=!0,this.M=this.M.insert(r,i)}J(r){this.U=!0,this.M=this.M.remove(r)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class iI{constructor(r){this.tt=r,this.et=new Map,this.nt=Ui(),this.st=Vg(),this.it=new lr(yt)}rt(r){for(const i of r.k)r.$&&r.$.isFoundDocument()?this.ot(i,r.$):this.at(i,r.key,r.$);for(const i of r.removedTargetIds)this.at(i,r.key,r.$)}ct(r){this.forEachTarget(r,i=>{const u=this.ut(i);switch(r.state){case 0:this.ht(i)&&u.j(r.resumeToken);break;case 1:u.X(),u.q||u.G(),u.j(r.resumeToken);break;case 2:u.X(),u.q||this.removeTarget(i);break;case 3:this.ht(i)&&(u.Z(),u.j(r.resumeToken));break;case 4:this.ht(i)&&(this.lt(i),u.j(r.resumeToken));break;default:st()}})}forEachTarget(r,i){r.targetIds.length>0?r.targetIds.forEach(i):this.et.forEach((u,d)=>{this.ht(d)&&i(d)})}ft(r){const i=r.targetId,u=r.O.count,d=this.dt(i);if(d){const f=d.target;if(lc(f))if(0===u){const E=new nt(f.path);this.at(i,E,Ft.newNoDocument(E,At.min()))}else dt(1===u);else this.wt(i)!==u&&(this.lt(i),this.it=this.it.add(i))}}_t(r){const i=new Map;this.et.forEach((f,E)=>{const w=this.dt(E);if(w){if(f.current&&lc(w.target)){const A=new nt(w.target.path);null!==this.nt.get(A)||this.gt(E,A)||this.at(E,A,Ft.newNoDocument(A,r))}f.K&&(i.set(E,f.W()),f.G())}});let u=fn();this.st.forEach((f,E)=>{let w=!0;E.forEachWhile(A=>{const P=this.dt(A);return!P||2===P.purpose||(w=!1,!1)}),w&&(u=u.add(f))});const d=new sh(r,i,this.it,this.nt,u);return this.nt=Ui(),this.st=Vg(),this.it=new lr(yt),d}ot(r,i){if(!this.ht(r))return;const u=this.gt(r,i.key)?2:0;this.ut(r).H(i.key,u),this.nt=this.nt.insert(i.key,i),this.st=this.st.insert(i.key,this.yt(i.key).add(r))}at(r,i,u){if(!this.ht(r))return;const d=this.ut(r);this.gt(r,i)?d.H(i,1):d.J(i),this.st=this.st.insert(i,this.yt(i).delete(r)),u&&(this.nt=this.nt.insert(i,u))}removeTarget(r){this.et.delete(r)}wt(r){const i=this.ut(r).W();return this.tt.getRemoteKeysForTarget(r).size+i.addedDocuments.size-i.removedDocuments.size}Y(r){this.ut(r).Y()}ut(r){let i=this.et.get(r);return i||(i=new y_,this.et.set(r,i)),i}yt(r){let i=this.st.get(r);return i||(i=new lr(yt),this.st=this.st.insert(r,i)),i}ht(r){const i=null!==this.dt(r);return i||We("WatchChangeAggregator","Detected inactive target",r),i}dt(r){const i=this.et.get(r);return i&&i.q?null:this.tt.Et(r)}lt(r){this.et.set(r,new y_),this.tt.getRemoteKeysForTarget(r).forEach(i=>{this.at(r,i,null)})}gt(r,i){return this.tt.getRemoteKeysForTarget(r).has(i)}}function Vg(){return new Mr(nt.comparator)}function __(){return new Mr(nt.comparator)}const Ug={asc:"ASCENDING",desc:"DESCENDING"},jg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class sI{constructor(r,i){this.databaseId=r,this.D=i}}function pc(s,r){return s.D?`${new Date(1e3*r.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+r.nanoseconds).slice(-9)}Z`:{seconds:""+r.seconds,nanos:r.nanoseconds}}function v_(s,r){return s.D?r.toBase64():r.toUint8Array()}function E_(s,r){return pc(s,r.toTimestamp())}function cr(s){return dt(!!s),At.fromTimestamp(function(r){const i=ns(r);return new ar(i.seconds,i.nanos)}(s))}function C_(s,r){return(i=s,new Zt(["projects",i.projectId,"databases",i.database])).child("documents").child(r).canonicalString();var i}function I_(s){const r=Zt.fromString(s);return dt(T_(r)),r}function Hf(s,r){return C_(s.databaseId,r.path)}function ua(s,r){const i=I_(r);if(i.get(1)!==s.databaseId.projectId)throw new Fe(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new Fe(Ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new nt(pD(i))}function Bg(s,r){return C_(s.databaseId,r)}function Hg(s){const r=I_(s);return 4===r.length?Zt.emptyPath():pD(r)}function oh(s){return new Zt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function pD(s){return dt(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function w_(s,r,i){return{name:Hf(s,r),fields:i.value.mapValue.fields}}function oI(s,r,i){const u=ua(s,r.name),d=cr(r.updateTime),f=new kt({mapValue:{fields:r.fields}}),E=Ft.newFoundDocument(u,d,f);return i&&E.setHasCommittedMutations(),i?E.setHasCommittedMutations():E}function $g(s,r){let i;if(r instanceof ih)i={update:w_(s,r.key,r.value)};else if(r instanceof kg)i={delete:Hf(s,r.key)};else if(r instanceof aa)i={update:w_(s,r.key,r.data),updateMask:fo(r.fieldMask)};else{if(!(r instanceof Xu))return st();i={verify:Hf(s,r.key)}}return r.fieldTransforms.length>0&&(i.updateTransforms=r.fieldTransforms.map(u=>function(d,f){const E=f.transform;if(E instanceof Ga)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(E instanceof Ns)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:E.elements}};if(E instanceof co)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:E.elements}};if(E instanceof oa)return{fieldPath:f.field.canonicalString(),increment:E.C};throw st()}(0,u))),r.precondition.isNone||(i.currentDocument=void 0!==(d=r.precondition).updateTime?{updateTime:E_(s,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:st()),i;var d}function Rs(s,r){const i=r.currentDocument?void 0!==(d=r.currentDocument).updateTime?vr.updateTime(cr(d.updateTime)):void 0!==d.exists?vr.exists(d.exists):vr.none():vr.none(),u=r.updateTransforms?r.updateTransforms.map(d=>function(f,E){let w=null;"setToServerValue"in E?(dt("REQUEST_TIME"===E.setToServerValue),w=new Ga):"appendMissingElements"in E?w=new Ns(E.appendMissingElements.values||[]):"removeAllFromArray"in E?w=new co(E.removeAllFromArray.values||[]):"increment"in E?w=new oa(f,E.increment):st();const A=Rr.fromServerFormat(E.fieldPath);return new ui(A,w)}(s,d)):[];var d;if(r.update){const d=ua(s,r.update.name),f=new kt({mapValue:{fields:r.update.fields}});if(r.updateMask){const E=new ja((r.updateMask.fieldPaths||[]).map(P=>Rr.fromServerFormat(P)));return new aa(d,f,E,i,u)}return new ih(d,f,i,u)}if(r.delete){const d=ua(s,r.delete);return new kg(d,i)}if(r.verify){const d=ua(s,r.verify);return new Xu(d,i)}return st()}function b_(s,r){return{documents:[Bg(s,r.path)]}}function uI(s,r){const i={structuredQuery:{}},u=r.path;null!==r.collectionGroup?(i.parent=Bg(s,u),i.structuredQuery.from=[{collectionId:r.collectionGroup,allDescendants:!0}]):(i.parent=Bg(s,u.popLast()),i.structuredQuery.from=[{collectionId:u.lastSegment()}]);const d=function(w){if(0===w.length)return;const A=w.map(P=>function(V){if("=="===V.op){if(oc(V.value))return{unaryFilter:{field:pt(V.field),op:"IS_NAN"}};if(Gu(V.value))return{unaryFilter:{field:pt(V.field),op:"IS_NULL"}}}else if("!="===V.op){if(oc(V.value))return{unaryFilter:{field:pt(V.field),op:"IS_NOT_NAN"}};if(Gu(V.value))return{unaryFilter:{field:pt(V.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pt(V.field),op:vD(V.op),value:V.value}}}(P));return 1===A.length?A[0]:{compositeFilter:{op:"AND",filters:A}}}(r.filters);d&&(i.structuredQuery.where=d);const f=function(w){if(0!==w.length)return w.map(A=>{return{field:pt((P=A).field),direction:_D(P.dir)};var P})}(r.orderBy);f&&(i.structuredQuery.orderBy=f);const E=(A=r.limit,s.D||Wu(A)?A:{value:A});var A;return null!==E&&(i.structuredQuery.limit=E),r.startAt&&(i.structuredQuery.startAt=D_(r.startAt)),r.endAt&&(i.structuredQuery.endAt=D_(r.endAt)),i}function lI(s){let r=Hg(s.parent);const i=s.structuredQuery,u=i.from?i.from.length:0;let d=null;if(u>0){dt(1===u);const V=i.from[0];V.allDescendants?d=V.collectionId:r=r.child(V.collectionId)}let f=[];i.where&&(f=cI(i.where));let E=[];i.orderBy&&(E=i.orderBy.map(V=>{return new Qu(gc((W=V).field),function(ue){switch(ue){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(W.direction));var W}));let w=null;i.limit&&(w=function(V){let W;return W="object"==typeof V?V.value:V,Wu(W)?null:W}(i.limit));let A=null;i.startAt&&(A=dI(i.startAt));let P=null;return i.endAt&&(P=dI(i.endAt)),cc(r,d,E,f,w,"F",A,P)}function cI(s){return s?void 0!==s.unaryFilter?[Wg(s)]:void 0!==s.fieldFilter?[hI(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(r=>cI(r)).reduce((r,i)=>r.concat(i)):st():[]}function D_(s){return{before:s.before,values:s.position}}function dI(s){return new lo(s.values||[],!!s.before)}function _D(s){return Ug[s]}function vD(s){return jg[s]}function pt(s){return{fieldPath:s.canonicalString()}}function gc(s){return Rr.fromServerFormat(s.fieldPath)}function hI(s){return xr.create(gc(s.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return st()}}(s.fieldFilter.op),s.fieldFilter.value)}function Wg(s){switch(s.unaryFilter.op){case"IS_NAN":const r=gc(s.unaryFilter.field);return xr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=gc(s.unaryFilter.field);return xr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=gc(s.unaryFilter.field);return xr.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=gc(s.unaryFilter.field);return xr.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return st()}}function fo(s){const r=[];return s.fields.forEach(i=>r.push(i.canonicalString())),{fieldPaths:r}}function T_(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function po(s){let r="";for(let i=0;i<s.length;i++)r.length>0&&(r=la(r)),r=S_(s.get(i),r);return la(r)}function S_(s,r){let i=r;const u=s.length;for(let d=0;d<u;d++){const f=s.charAt(d);switch(f){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=f}}return i}function la(s){return s+"\x01\x01"}function go(s){const r=s.length;if(dt(r>=2),2===r)return dt("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),Zt.emptyPath();const i=r-2,u=[];let d="";for(let f=0;f<r;){const E=s.indexOf("\x01",f);switch((E<0||E>i)&&st(),s.charAt(E+1)){case"\x01":const w=s.substring(f,E);let A;0===d.length?A=w:(d+=w,A=d,d=""),u.push(A);break;case"\x10":d+=s.substring(f,E),d+="\0";break;case"\x11":d+=s.substring(f,E+1);break;default:st()}f=E+2}return new Zt(u)}class fI{constructor(r,i){this.seconds=r,this.nanoseconds=i}}class Ei{constructor(r,i,u){this.ownerId=r,this.allowTabSynchronization=i,this.leaseTimestampMs=u}}Ei.store="owner",Ei.key="owner";class mc{constructor(r,i,u){this.userId=r,this.lastAcknowledgedBatchId=i,this.lastStreamToken=u}}mc.store="mutationQueues",mc.keyPath="userId";class Tn{constructor(r,i,u,d,f){this.userId=r,this.batchId=i,this.localWriteTimeMs=u,this.baseMutations=d,this.mutations=f}}Tn.store="mutations",Tn.keyPath="batchId",Tn.userMutationsIndex="userMutationsIndex",Tn.userMutationsKeyPath=["userId","batchId"];class Ci{constructor(){}static prefixForUser(r){return[r]}static prefixForPath(r,i){return[r,po(i)]}static key(r,i,u){return[r,po(i),u]}}Ci.store="documentMutations",Ci.PLACEHOLDER=new Ci;class qa{constructor(r,i){this.path=r,this.readTime=i}}class Gg{constructor(r,i){this.path=r,this.version=i}}class On{constructor(r,i,u,d,f,E){this.unknownDocument=r,this.noDocument=i,this.document=u,this.hasCommittedMutations=d,this.readTime=f,this.parentPath=E}}On.store="remoteDocuments",On.readTimeIndex="readTimeIndex",On.readTimeIndexPath="readTime",On.collectionReadTimeIndex="collectionReadTimeIndex",On.collectionReadTimeIndexPath=["parentPath","readTime"];class xs{constructor(r){this.byteSize=r}}xs.store="remoteDocumentGlobal",xs.key="remoteDocumentGlobalKey";class is{constructor(r,i,u,d,f,E,w){this.targetId=r,this.canonicalId=i,this.readTime=u,this.resumeToken=d,this.lastListenSequenceNumber=f,this.lastLimboFreeSnapshotVersion=E,this.query=w}}is.store="targets",is.keyPath="targetId",is.queryTargetsIndexName="queryTargetsIndex",is.queryTargetsKeyPath=["canonicalId","targetId"];class Zr{constructor(r,i,u){this.targetId=r,this.path=i,this.sequenceNumber=u}}Zr.store="targetDocuments",Zr.keyPath=["targetId","path"],Zr.documentTargetsIndex="documentTargetsIndex",Zr.documentTargetsKeyPath=["path","targetId"];class ji{constructor(r,i,u,d){this.highestTargetId=r,this.highestListenSequenceNumber=i,this.lastRemoteSnapshotVersion=u,this.targetCount=d}}ji.key="targetGlobalKey",ji.store="targetGlobal";class ah{constructor(r,i){this.collectionId=r,this.parent=i}}ah.store="collectionParents",ah.keyPath=["collectionId","parent"];class za{constructor(r,i,u,d){this.clientId=r,this.updateTimeMs=i,this.networkEnabled=u,this.inForeground=d}}za.store="clientMetadata",za.keyPath="clientId";class $f{constructor(r,i,u){this.bundleId=r,this.createTime=i,this.version=u}}$f.store="bundles",$f.keyPath="bundleId";class yc{constructor(r,i,u){this.name=r,this.readTime=i,this.bundledQuery=u}}yc.store="namedQueries",yc.keyPath="name";const pI=[mc.store,Tn.store,Ci.store,On.store,is.store,Ei.store,ji.store,Zr.store,za.store,xs.store,ah.store,$f.store,yc.store],gI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(r){this.onCommittedListeners.push(r)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(r=>r())}}class Ve{constructor(r){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,r(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(r){return this.next(void 0,r)}next(r,i){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(r,this.result):new Ve((u,d)=>{this.nextCallback=f=>{this.wrapSuccess(r,f).next(u,d)},this.catchCallback=f=>{this.wrapFailure(i,f).next(u,d)}})}toPromise(){return new Promise((r,i)=>{this.next(r,i)})}wrapUserFunction(r){try{const i=r();return i instanceof Ve?i:Ve.resolve(i)}catch(i){return Ve.reject(i)}}wrapSuccess(r,i){return r?this.wrapUserFunction(()=>r(i)):Ve.resolve(i)}wrapFailure(r,i){return r?this.wrapUserFunction(()=>r(i)):Ve.reject(i)}static resolve(r){return new Ve((i,u)=>{i(r)})}static reject(r){return new Ve((i,u)=>{u(r)})}static waitFor(r){return new Ve((i,u)=>{let d=0,f=0,E=!1;r.forEach(w=>{++d,w.next(()=>{++f,E&&f===d&&i()},A=>u(A))}),E=!0,f===d&&i()})}static or(r){let i=Ve.resolve(!1);for(const u of r)i=i.next(d=>d?Ve.resolve(d):u());return i}static forEach(r,i){const u=[];return r.forEach((d,f)=>{u.push(i.call(this,d,f))}),this.waitFor(u)}}class A_{constructor(r,i){this.action=r,this.transaction=i,this.aborted=!1,this.Tt=new or,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{i.error?this.Tt.reject(new zg(r,i.error)):this.Tt.resolve()},this.transaction.onerror=u=>{const d=mI(u.target.error);this.Tt.reject(new zg(r,d))}}static open(r,i,u,d){try{return new A_(i,r.transaction(d,u))}catch(f){throw new zg(i,f)}}get It(){return this.Tt.promise}abort(r){r&&this.Tt.reject(r),this.aborted||(We("SimpleDb","Aborting transaction:",r?r.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(r){const i=this.transaction.objectStore(r);return new SA(i)}}class ca{constructor(r,i,u){this.name=r,this.version=i,this.At=u,12.2===ca.Rt((0,Wt.z$)())&&$n("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(r){return We("SimpleDb","Removing database:",r),lh(window.indexedDB.deleteDatabase(r)).toPromise()}static Pt(){if("undefined"==typeof indexedDB)return!1;if(ca.bt())return!0;const r=(0,Wt.z$)(),i=ca.Rt(r),u=0<i&&i<10,d=ca.vt(r),f=0<d&&d<4.5;return!(r.indexOf("MSIE ")>0||r.indexOf("Trident/")>0||r.indexOf("Edge/")>0||u||f)}static bt(){var r;return"undefined"!=typeof process&&"YES"===(null===(r=process.env)||void 0===r?void 0:r.Vt)}static St(r,i){return r.store(i)}static Rt(r){const i=r.match(/i(?:phone|pad|pod) os ([\d_]+)/i),u=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(u)}static vt(r){const i=r.match(/Android ([\d.]+)/i),u=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(u)}Dt(r){var i=this;return(0,be.Z)(function*(){return i.db||(We("SimpleDb","Opening database:",i.name),i.db=yield new Promise((u,d)=>{const f=indexedDB.open(i.name,i.version);f.onsuccess=E=>{u(E.target.result)},f.onblocked=()=>{d(new zg(r,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=E=>{const w=E.target.error;d("VersionError"===w.name?new Fe(Ie.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new zg(r,w))},f.onupgradeneeded=E=>{We("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',E.oldVersion),i.At.Ct(E.target.result,f.transaction,E.oldVersion,i.version).next(()=>{We("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.Nt&&(i.db.onversionchange=u=>i.Nt(u)),i.db})()}xt(r){this.Nt=r,this.db&&(this.db.onversionchange=i=>r(i))}runTransaction(r,i,u,d){var f=this;return(0,be.Z)(function*(){const E="readonly"===i;let w=0;for(;;){++w;try{f.db=yield f.Dt(r);const A=A_.open(f.db,r,E?"readonly":"readwrite",u),P=d(A).catch(V=>(A.abort(V),Ve.reject(V))).toPromise();return P.catch(()=>{}),yield A.It,P}catch(A){const P="FirebaseError"!==A.name&&w<3;if(We("SimpleDb","Transaction failed with error:",A.message,"Retrying:",P),f.close(),!P)return Promise.reject(A)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class TA{constructor(r){this.kt=r,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(r){this.kt=r}done(){this.$t=!0}Mt(r){this.Ot=r}delete(){return lh(this.kt.delete())}}class zg extends Fe{constructor(r,i){super(Ie.UNAVAILABLE,`IndexedDB transaction '${r}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function uh(s){return"IndexedDbTransactionError"===s.name}class SA{constructor(r){this.store=r}put(r,i){let u;return void 0!==i?(We("SimpleDb","PUT",this.store.name,r,i),u=this.store.put(i,r)):(We("SimpleDb","PUT",this.store.name,"<auto-key>",r),u=this.store.put(r)),lh(u)}add(r){return We("SimpleDb","ADD",this.store.name,r,r),lh(this.store.add(r))}get(r){return lh(this.store.get(r)).next(i=>(void 0===i&&(i=null),We("SimpleDb","GET",this.store.name,r,i),i))}delete(r){return We("SimpleDb","DELETE",this.store.name,r),lh(this.store.delete(r))}count(){return We("SimpleDb","COUNT",this.store.name),lh(this.store.count())}Lt(r,i){const u=this.cursor(this.options(r,i)),d=[];return this.Bt(u,(f,E)=>{d.push(E)}).next(()=>d)}Ut(r,i){We("SimpleDb","DELETE ALL",this.store.name);const u=this.options(r,i);u.qt=!1;const d=this.cursor(u);return this.Bt(d,(f,E,w)=>w.delete())}Kt(r,i){let u;i?u=r:(u={},i=r);const d=this.cursor(u);return this.Bt(d,i)}jt(r){const i=this.cursor({});return new Ve((u,d)=>{i.onerror=f=>{const E=mI(f.target.error);d(E)},i.onsuccess=f=>{const E=f.target.result;E?r(E.primaryKey,E.value).next(w=>{w?E.continue():u()}):u()}})}Bt(r,i){const u=[];return new Ve((d,f)=>{r.onerror=E=>{f(E.target.error)},r.onsuccess=E=>{const w=E.target.result;if(!w)return void d();const A=new TA(w),P=i(w.primaryKey,w.value,A);if(P instanceof Ve){const V=P.catch(W=>(A.done(),Ve.reject(W)));u.push(V)}A.isDone?d():null===A.Ft?w.continue():w.continue(A.Ft)}}).next(()=>Ve.waitFor(u))}options(r,i){let u;return void 0!==r&&("string"==typeof r?u=r:i=r),{index:u,range:i}}cursor(r){let i="next";if(r.reverse&&(i="prev"),r.index){const u=this.store.index(r.index);return r.qt?u.openKeyCursor(r.range,i):u.openCursor(r.range,i)}return this.store.openCursor(r.range,i)}}function lh(s){return new Ve((r,i)=>{s.onsuccess=u=>{r(u.target.result)},s.onerror=u=>{const d=mI(u.target.error);i(d)}})}let ED=!1;function mI(s){const r=ca.Rt((0,Wt.z$)());if(r>=12.2&&r<13){const i="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(i)>=0){const u=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ED||(ED=!0,setTimeout(()=>{throw u},0)),u}}return s}class CD extends qg{constructor(r,i){super(),this.Qt=r,this.currentSequenceNumber=i}}function Cr(s,r){const i=Ge(s);return ca.St(i.Qt,r)}class Wf{constructor(r,i,u,d){this.batchId=r,this.localWriteTime=i,this.baseMutations=u,this.mutations=d}applyToRemoteDocument(r,i){const u=i.mutationResults;for(let d=0;d<this.mutations.length;d++){const f=this.mutations[d];f.key.isEqual(r.key)&&h_(f,r,u[d])}}applyToLocalView(r){for(const i of this.baseMutations)i.key.isEqual(r.key)&&Vf(i,r,this.localWriteTime);for(const i of this.mutations)i.key.isEqual(r.key)&&Vf(i,r,this.localWriteTime)}applyToLocalDocumentSet(r){this.mutations.forEach(i=>{const u=r.get(i.key),d=u;this.applyToLocalView(d),u.isValidDocument()||d.convertToNoDocument(At.min())})}keys(){return this.mutations.reduce((r,i)=>r.add(i.key),fn())}isEqual(r){return this.batchId===r.batchId&&ts(this.mutations,r.mutations,(i,u)=>f_(i,u))&&ts(this.baseMutations,r.baseMutations,(i,u)=>f_(i,u))}}class N_{constructor(r,i,u,d){this.batch=r,this.commitVersion=i,this.mutationResults=u,this.docVersions=d}static from(r,i,u){dt(r.mutations.length===u.length);let d=tI();const f=r.mutations;for(let E=0;E<f.length;E++)d=d.insert(f[E].key,u[E].version);return new N_(r,i,u,d)}}class Ka{constructor(r,i,u,d,f=At.min(),E=At.min(),w=Tr.EMPTY_BYTE_STRING){this.target=r,this.targetId=i,this.purpose=u,this.sequenceNumber=d,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=w}withSequenceNumber(r){return new Ka(this.target,this.targetId,this.purpose,r,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(r,i){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,r)}withLastLimboFreeSnapshotVersion(r){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,r,this.resumeToken)}}class Kg{constructor(r){this.Wt=r}}function Zg(s,r){if(r.document)return oI(s.Wt,r.document,!!r.hasCommittedMutations);if(r.noDocument){const i=nt.fromSegments(r.noDocument.path),u=ch(r.noDocument.readTime),d=Ft.newNoDocument(i,u);return r.hasCommittedMutations?d.setHasCommittedMutations():d}if(r.unknownDocument){const i=nt.fromSegments(r.unknownDocument.path),u=ch(r.unknownDocument.version);return Ft.newUnknownDocument(i,u)}return st()}function Qg(s,r,i){const u=R_(i),d=r.key.path.popLast().toArray();if(r.isFoundDocument()){const f={name:Hf(w=s.Wt,(A=r).key),fields:A.data.value.mapValue.fields,updateTime:pc(w,A.version.toTimestamp())};return new On(null,null,f,r.hasCommittedMutations,u,d)}var w,A;if(r.isNoDocument()){const f=r.key.path.toArray(),E=_c(r.version),w=r.hasCommittedMutations;return new On(null,new qa(f,E),null,w,u,d)}if(r.isUnknownDocument()){const f=r.key.path.toArray(),E=_c(r.version);return new On(new Gg(f,E),null,null,!0,u,d)}return st()}function R_(s){const r=s.toTimestamp();return[r.seconds,r.nanoseconds]}function Za(s){const r=new ar(s[0],s[1]);return At.fromTimestamp(r)}function _c(s){const r=s.toTimestamp();return new fI(r.seconds,r.nanoseconds)}function ch(s){const r=new ar(s.seconds,s.nanoseconds);return At.fromTimestamp(r)}function Gf(s,r){const i=(r.baseMutations||[]).map(f=>Rs(s.Wt,f));for(let f=0;f<r.mutations.length-1;++f){const E=r.mutations[f];f+1<r.mutations.length&&void 0!==r.mutations[f+1].transform&&(E.updateTransforms=r.mutations[f+1].transform.fieldTransforms,r.mutations.splice(f+1,1),++f)}const u=r.mutations.map(f=>Rs(s.Wt,f)),d=ar.fromMillis(r.localWriteTimeMs);return new Wf(r.batchId,d,i,u)}function vc(s){const r=ch(s.readTime),i=void 0!==s.lastLimboFreeSnapshotVersion?ch(s.lastLimboFreeSnapshotVersion):At.min();let u;var d;return void 0!==s.query.documents?(dt(1===(d=s.query).documents.length),u=b(Ju(Hg(d.documents[0])))):u=b(lI(s.query)),new Ka(u,s.targetId,0,s.lastListenSequenceNumber,r,i,Tr.fromBase64String(s.resumeToken))}function yI(s,r){const i=_c(r.snapshotVersion),u=_c(r.lastLimboFreeSnapshotVersion);let d;d=lc(r.target)?b_(s.Wt,r.target):uI(s.Wt,r.target);const f=r.resumeToken.toBase64();return new is(r.targetId,zu(r.target),i,f,r.sequenceNumber,u,d)}function Yg(s){const r=lI({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?M(r,r.limit,"L"):r}class ID{getBundleMetadata(r,i){return _I(r).get(i).next(u=>{if(u)return{id:(d=u).bundleId,createTime:ch(d.createTime),version:d.version};var d})}saveBundleMetadata(r,i){return _I(r).put({bundleId:(u=i).id,createTime:_c(cr(u.createTime)),version:u.version});var u}getNamedQuery(r,i){return dh(r).get(i).next(u=>{if(u)return{name:(d=u).name,query:Yg(d.bundledQuery),readTime:ch(d.readTime)};var d})}saveNamedQuery(r,i){return dh(r).put({name:(u=i).name,readTime:_c(cr(u.readTime)),bundledQuery:u.bundledQuery});var u}}function _I(s){return Cr(s,$f.store)}function dh(s){return Cr(s,yc.store)}class hh{constructor(){this.Gt=new qf}addToCollectionParentIndex(r,i){return this.Gt.add(i),Ve.resolve()}getCollectionParents(r,i){return Ve.resolve(this.Gt.getEntries(i))}}class qf{constructor(){this.index={}}add(r){const i=r.lastSegment(),u=r.popLast(),d=this.index[i]||new lr(Zt.comparator),f=!d.has(u);return this.index[i]=d.add(u),f}has(r){const i=r.lastSegment(),u=r.popLast(),d=this.index[i];return d&&d.has(u)}getEntries(r){return(this.index[r]||new lr(Zt.comparator)).toArray()}}class fh{constructor(){this.zt=new qf}addToCollectionParentIndex(r,i){if(!this.zt.has(i)){const u=i.lastSegment(),d=i.popLast();r.addOnCommittedListener(()=>{this.zt.add(i)});const f={collectionId:u,parent:po(d)};return ph(r).put(f)}return Ve.resolve()}getCollectionParents(r,i){const u=[],d=IDBKeyRange.bound([i,""],[Rf(i),""],!1,!0);return ph(r).Lt(d).next(f=>{for(const E of f){if(E.collectionId!==i)break;u.push(go(E.parent))}return u})}}function ph(s){return Cr(s,ah.store)}const Ec={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Bi{constructor(r,i,u){this.cacheSizeCollectionThreshold=r,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=u}static withCacheSize(r){return new Bi(r,Bi.DEFAULT_COLLECTION_PERCENTILE,Bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function x_(s,r,i){const u=s.store(Tn.store),d=s.store(Ci.store),f=[],E=IDBKeyRange.only(i.batchId);let w=0;const A=u.Kt({range:E},(V,W,ue)=>(w++,ue.delete()));f.push(A.next(()=>{dt(1===w)}));const P=[];for(const V of i.mutations){const W=Ci.key(r,V.key.path,i.batchId);f.push(d.delete(W)),P.push(V.key)}return Ve.waitFor(f).next(()=>P)}function zf(s){if(!s)return 0;let r;if(s.document)r=s.document;else if(s.unknownDocument)r=s.unknownDocument;else{if(!s.noDocument)throw st();r=s.noDocument}return JSON.stringify(r).length}Bi.DEFAULT_COLLECTION_PERCENTILE=10,Bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bi.DEFAULT=new Bi(41943040,Bi.DEFAULT_COLLECTION_PERCENTILE,Bi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bi.DISABLED=new Bi(-1,0,0);class Kf{constructor(r,i,u,d){this.userId=r,this.N=i,this.Ht=u,this.referenceDelegate=d,this.Jt={}}static Yt(r,i,u,d){dt(""!==r.uid);const f=r.isAuthenticated()?r.uid:"";return new Kf(f,i,u,d)}checkEmpty(r){let i=!0;const u=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qa(r).Kt({index:Tn.userMutationsIndex,range:u},(d,f,E)=>{i=!1,E.done()}).next(()=>i)}addMutationBatch(r,i,u,d){const f=Ya(r),E=Qa(r);return E.add({}).next(w=>{dt("number"==typeof w);const A=new Wf(w,i,u,d),P=function(ue,pe,Ue){const Ke=Ue.baseMutations.map(on=>$g(ue.Wt,on)),ut=Ue.mutations.map(on=>$g(ue.Wt,on));return new Tn(pe,Ue.batchId,Ue.localWriteTime.toMillis(),Ke,ut)}(this.N,this.userId,A),V=[];let W=new lr((ue,pe)=>yt(ue.canonicalString(),pe.canonicalString()));for(const ue of d){const pe=Ci.key(this.userId,ue.key.path,w);W=W.add(ue.key.path.popLast()),V.push(E.put(P)),V.push(f.put(pe,Ci.PLACEHOLDER))}return W.forEach(ue=>{V.push(this.Ht.addToCollectionParentIndex(r,ue))}),r.addOnCommittedListener(()=>{this.Jt[w]=A.keys()}),Ve.waitFor(V).next(()=>A)})}lookupMutationBatch(r,i){return Qa(r).get(i).next(u=>u?(dt(u.userId===this.userId),Gf(this.N,u)):null)}Xt(r,i){return this.Jt[i]?Ve.resolve(this.Jt[i]):this.lookupMutationBatch(r,i).next(u=>{if(u){const d=u.keys();return this.Jt[i]=d,d}return null})}getNextMutationBatchAfterBatchId(r,i){const u=i+1,d=IDBKeyRange.lowerBound([this.userId,u]);let f=null;return Qa(r).Kt({index:Tn.userMutationsIndex,range:d},(E,w,A)=>{w.userId===this.userId&&(dt(w.batchId>=u),f=Gf(this.N,w)),A.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(r){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let u=-1;return Qa(r).Kt({index:Tn.userMutationsIndex,range:i,reverse:!0},(d,f,E)=>{u=f.batchId,E.done()}).next(()=>u)}getAllMutationBatches(r){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Qa(r).Lt(Tn.userMutationsIndex,i).next(u=>u.map(d=>Gf(this.N,d)))}getAllMutationBatchesAffectingDocumentKey(r,i){const u=Ci.prefixForPath(this.userId,i.path),d=IDBKeyRange.lowerBound(u),f=[];return Ya(r).Kt({range:d},(E,w,A)=>{const[P,V,W]=E,ue=go(V);if(P===this.userId&&i.path.isEqual(ue))return Qa(r).get(W).next(pe=>{if(!pe)throw st();dt(pe.userId===this.userId),f.push(Gf(this.N,pe))});A.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(r,i){let u=new lr(yt);const d=[];return i.forEach(f=>{const E=Ci.prefixForPath(this.userId,f.path),w=IDBKeyRange.lowerBound(E),A=Ya(r).Kt({range:w},(P,V,W)=>{const[ue,pe,Ue]=P,Ke=go(pe);ue===this.userId&&f.path.isEqual(Ke)?u=u.add(Ue):W.done()});d.push(A)}),Ve.waitFor(d).next(()=>this.Zt(r,u))}getAllMutationBatchesAffectingQuery(r,i){const u=i.path,d=u.length+1,f=Ci.prefixForPath(this.userId,u),E=IDBKeyRange.lowerBound(f);let w=new lr(yt);return Ya(r).Kt({range:E},(A,P,V)=>{const[W,ue,pe]=A,Ue=go(ue);W===this.userId&&u.isPrefixOf(Ue)?Ue.length===d&&(w=w.add(pe)):V.done()}).next(()=>this.Zt(r,w))}Zt(r,i){const u=[],d=[];return i.forEach(f=>{d.push(Qa(r).get(f).next(E=>{if(null===E)throw st();dt(E.userId===this.userId),u.push(Gf(this.N,E))}))}),Ve.waitFor(d).next(()=>u)}removeMutationBatch(r,i){return x_(r.Qt,this.userId,i).next(u=>(r.addOnCommittedListener(()=>{this.te(i.batchId)}),Ve.forEach(u,d=>this.referenceDelegate.markPotentiallyOrphaned(r,d))))}te(r){delete this.Jt[r]}performConsistencyCheck(r){return this.checkEmpty(r).next(i=>{if(!i)return Ve.resolve();const u=IDBKeyRange.lowerBound(Ci.prefixForUser(this.userId)),d=[];return Ya(r).Kt({range:u},(f,E,w)=>{if(f[0]===this.userId){const A=go(f[1]);d.push(A)}else w.done()}).next(()=>{dt(0===d.length)})})}containsKey(r,i){return Jg(r,this.userId,i)}ee(r){return vI(r).get(this.userId).next(i=>i||new mc(this.userId,-1,""))}}function Jg(s,r,i){const u=Ci.prefixForPath(r,i.path),d=u[1],f=IDBKeyRange.lowerBound(u);let E=!1;return Ya(s).Kt({range:f,qt:!0},(w,A,P)=>{const[V,W,ue]=w;V===r&&W===d&&(E=!0),P.done()}).next(()=>E)}function Qa(s){return Cr(s,Tn.store)}function Ya(s){return Cr(s,Ci.store)}function vI(s){return Cr(s,mc.store)}class el{constructor(r){this.ne=r}next(){return this.ne+=2,this.ne}static se(){return new el(0)}static ie(){return new el(-1)}}class AA{constructor(r,i){this.referenceDelegate=r,this.N=i}allocateTargetId(r){return this.re(r).next(i=>{const u=new el(i.highestTargetId);return i.highestTargetId=u.next(),this.oe(r,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(r){return this.re(r).next(i=>At.fromTimestamp(new ar(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(r){return this.re(r).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(r,i,u){return this.re(r).next(d=>(d.highestListenSequenceNumber=i,u&&(d.lastRemoteSnapshotVersion=u.toTimestamp()),i>d.highestListenSequenceNumber&&(d.highestListenSequenceNumber=i),this.oe(r,d)))}addTargetData(r,i){return this.ae(r,i).next(()=>this.re(r).next(u=>(u.targetCount+=1,this.ce(i,u),this.oe(r,u))))}updateTargetData(r,i){return this.ae(r,i)}removeTargetData(r,i){return this.removeMatchingKeysForTargetId(r,i.targetId).next(()=>Cc(r).delete(i.targetId)).next(()=>this.re(r)).next(u=>(dt(u.targetCount>0),u.targetCount-=1,this.oe(r,u)))}removeTargets(r,i,u){let d=0;const f=[];return Cc(r).Kt((E,w)=>{const A=vc(w);A.sequenceNumber<=i&&null===u.get(A.targetId)&&(d++,f.push(this.removeTargetData(r,A)))}).next(()=>Ve.waitFor(f)).next(()=>d)}forEachTarget(r,i){return Cc(r).Kt((u,d)=>{const f=vc(d);i(f)})}re(r){return M_(r).get(ji.key).next(i=>(dt(null!==i),i))}oe(r,i){return M_(r).put(ji.key,i)}ae(r,i){return Cc(r).put(yI(this.N,i))}ce(r,i){let u=!1;return r.targetId>i.highestTargetId&&(i.highestTargetId=r.targetId,u=!0),r.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=r.sequenceNumber,u=!0),u}getTargetCount(r){return this.re(r).next(i=>i.targetCount)}getTargetData(r,i){const u=zu(i),d=IDBKeyRange.bound([u,Number.NEGATIVE_INFINITY],[u,Number.POSITIVE_INFINITY]);let f=null;return Cc(r).Kt({range:d,index:is.queryTargetsIndexName},(E,w,A)=>{const P=vc(w);Ha(i,P.target)&&(f=P,A.done())}).next(()=>f)}addMatchingKeys(r,i,u){const d=[],f=tl(r);return i.forEach(E=>{const w=po(E.path);d.push(f.put(new Zr(u,w))),d.push(this.referenceDelegate.addReference(r,u,E))}),Ve.waitFor(d)}removeMatchingKeys(r,i,u){const d=tl(r);return Ve.forEach(i,f=>{const E=po(f.path);return Ve.waitFor([d.delete([u,E]),this.referenceDelegate.removeReference(r,u,f)])})}removeMatchingKeysForTargetId(r,i){const u=tl(r),d=IDBKeyRange.bound([i],[i+1],!1,!0);return u.delete(d)}getMatchingKeysForTargetId(r,i){const u=IDBKeyRange.bound([i],[i+1],!1,!0),d=tl(r);let f=fn();return d.Kt({range:u,qt:!0},(E,w,A)=>{const P=go(E[1]),V=new nt(P);f=f.add(V)}).next(()=>f)}containsKey(r,i){const u=po(i.path),d=IDBKeyRange.bound([u],[Rf(u)],!1,!0);let f=0;return tl(r).Kt({index:Zr.documentTargetsIndex,qt:!0,range:d},([E,w],A,P)=>{0!==E&&(f++,P.done())}).next(()=>f>0)}Et(r,i){return Cc(r).get(i).next(u=>u?vc(u):null)}}function Cc(s){return Cr(s,is.store)}function M_(s){return Cr(s,ji.store)}function tl(s){return Cr(s,Zr.store)}function nl(s){return O_.apply(this,arguments)}function O_(){return(O_=(0,be.Z)(function*(s){if(s.code!==Ie.FAILED_PRECONDITION||s.message!==gI)throw s;We("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function EI([s,r],[i,u]){const d=yt(s,i);return 0===d?yt(r,u):d}class ss{constructor(r){this.ue=r,this.buffer=new lr(EI),this.he=0}le(){return++this.he}fe(r){const i=[r,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(i);else{const u=this.buffer.last();EI(i,u)<0&&(this.buffer=this.buffer.delete(u).add(i))}}get maxValue(){return this.buffer.last()[0]}}class wD{constructor(r,i){this.garbageCollector=r,this.asyncQueue=i,this.de=!1,this.we=null}start(r){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(r)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(r){var i=this;const u=this.de?3e5:6e4;We("LruGarbageCollector",`Garbage collection scheduled in ${u}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",u,(0,be.Z)(function*(){i.we=null,i.de=!0;try{yield r.collectGarbage(i.garbageCollector)}catch(d){uh(d)?We("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",d):yield nl(d)}yield i._e(r)}))}}class bD{constructor(r,i){this.me=r,this.params=i}calculateTargetCount(r,i){return this.me.ge(r).next(u=>Math.floor(i/100*u))}nthSequenceNumber(r,i){if(0===i)return Ve.resolve(_i.T);const u=new ss(i);return this.me.forEachTarget(r,d=>u.fe(d.sequenceNumber)).next(()=>this.me.ye(r,d=>u.fe(d))).next(()=>u.maxValue)}removeTargets(r,i,u){return this.me.removeTargets(r,i,u)}removeOrphanedDocuments(r,i){return this.me.removeOrphanedDocuments(r,i)}collect(r,i){return-1===this.params.cacheSizeCollectionThreshold?(We("LruGarbageCollector","Garbage collection skipped; disabled"),Ve.resolve(Ec)):this.getCacheSize(r).next(u=>u<this.params.cacheSizeCollectionThreshold?(We("LruGarbageCollector",`Garbage collection skipped; Cache size ${u} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ec):this.pe(r,i))}getCacheSize(r){return this.me.getCacheSize(r)}pe(r,i){let u,d,f,E,w,A,P;const V=Date.now();return this.calculateTargetCount(r,this.params.percentileToCollect).next(W=>(W>this.params.maximumSequenceNumbersToCollect?(We("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${W}`),d=this.params.maximumSequenceNumbersToCollect):d=W,E=Date.now(),this.nthSequenceNumber(r,d))).next(W=>(u=W,w=Date.now(),this.removeTargets(r,u,i))).next(W=>(f=W,A=Date.now(),this.removeOrphanedDocuments(r,u))).next(W=>(P=Date.now(),Wd()<=zi.in.DEBUG&&We("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${E-V}ms\n\tDetermined least recently used ${d} in `+(w-E)+`ms\n\tRemoved ${f} targets in `+(A-w)+`ms\n\tRemoved ${W} documents in `+(P-A)+`ms\nTotal Duration: ${P-V}ms`),Ve.resolve({didRun:!0,sequenceNumbersCollected:d,targetsRemoved:f,documentsRemoved:W})))}}class NA{constructor(r,i){this.db=r,this.garbageCollector=new bD(this,i)}ge(r){const i=this.Ee(r);return this.db.getTargetCache().getTargetCount(r).next(u=>i.next(d=>u+d))}Ee(r){let i=0;return this.ye(r,u=>{i++}).next(()=>i)}forEachTarget(r,i){return this.db.getTargetCache().forEachTarget(r,i)}ye(r,i){return this.Te(r,(u,d)=>i(d))}addReference(r,i,u){return P_(r,u)}removeReference(r,i,u){return P_(r,u)}removeTargets(r,i,u){return this.db.getTargetCache().removeTargets(r,i,u)}markPotentiallyOrphaned(r,i){return P_(r,i)}Ie(r,i){return function(u,d){let f=!1;return vI(u).jt(E=>Jg(u,E,d).next(w=>(w&&(f=!0),Ve.resolve(!w)))).next(()=>f)}(r,i)}removeOrphanedDocuments(r,i){const u=this.db.getRemoteDocumentCache().newChangeBuffer(),d=[];let f=0;return this.Te(r,(E,w)=>{if(w<=i){const A=this.Ie(r,E).next(P=>{if(!P)return f++,u.getEntry(r,E).next(()=>(u.removeEntry(E),tl(r).delete([0,po(E.path)])))});d.push(A)}}).next(()=>Ve.waitFor(d)).next(()=>u.apply(r)).next(()=>f)}removeTarget(r,i){const u=i.withSequenceNumber(r.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(r,u)}updateLimboDocument(r,i){return P_(r,i)}Te(r,i){const u=tl(r);let d,f=_i.T;return u.Kt({index:Zr.documentTargetsIndex},([E,w],{path:A,sequenceNumber:P})=>{0===E?(f!==_i.T&&i(new nt(go(d)),f),f=P,d=A):f=_i.T}).next(()=>{f!==_i.T&&i(new nt(go(d)),f)})}getCacheSize(r){return this.db.getRemoteDocumentCache().getSize(r)}}function P_(s,r){return tl(s).put((u=s.currentSequenceNumber,new Zr(0,po(r.path),u)));var u}class Ic{constructor(r,i){this.mapKeyFn=r,this.equalsFn=i,this.inner={}}get(r){const i=this.mapKeyFn(r),u=this.inner[i];if(void 0!==u)for(const[d,f]of u)if(this.equalsFn(d,r))return f}has(r){return void 0!==this.get(r)}set(r,i){const u=this.mapKeyFn(r),d=this.inner[u];if(void 0!==d){for(let f=0;f<d.length;f++)if(this.equalsFn(d[f][0],r))return void(d[f]=[r,i]);d.push([r,i])}else this.inner[u]=[[r,i]]}delete(r){const i=this.mapKeyFn(r),u=this.inner[i];if(void 0===u)return!1;for(let d=0;d<u.length;d++)if(this.equalsFn(u[d][0],r))return 1===u.length?delete this.inner[i]:u.splice(d,1),!0;return!1}forEach(r){ao(this.inner,(i,u)=>{for(const[d,f]of u)r(d,f)})}isEmpty(){return Ag(this.inner)}}class DD{constructor(){this.changes=new Ic(r=>r.toString(),(r,i)=>r.isEqual(i)),this.changesApplied=!1}getReadTime(r){const i=this.changes.get(r);return i?i.readTime:At.min()}addEntry(r,i){this.assertNotApplied(),this.changes.set(r.key,{document:r,readTime:i})}removeEntry(r,i=null){this.assertNotApplied(),this.changes.set(r,{document:Ft.newInvalidDocument(r),readTime:i})}getEntry(r,i){this.assertNotApplied();const u=this.changes.get(i);return void 0!==u?Ve.resolve(u.document):this.getFromCache(r,i)}getEntries(r,i){return this.getAllFromCache(r,i)}apply(r){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(r)}assertNotApplied(){}}class TD{constructor(r,i){this.N=r,this.Ht=i}addEntry(r,i,u){return rl(r).put(Xg(i),u)}removeEntry(r,i){const u=rl(r),d=Xg(i);return u.delete(d)}updateMetadata(r,i){return this.getMetadata(r).next(u=>(u.byteSize+=i,this.Ae(r,u)))}getEntry(r,i){return rl(r).get(Xg(i)).next(u=>this.Re(i,u))}Pe(r,i){return rl(r).get(Xg(i)).next(u=>({document:this.Re(i,u),size:zf(u)}))}getEntries(r,i){let u=Ui();return this.be(r,i,(d,f)=>{const E=this.Re(d,f);u=u.insert(d,E)}).next(()=>u)}ve(r,i){let u=Ui(),d=new Mr(nt.comparator);return this.be(r,i,(f,E)=>{const w=this.Re(f,E);u=u.insert(f,w),d=d.insert(f,zf(E))}).next(()=>({documents:u,Ve:d}))}be(r,i,u){if(i.isEmpty())return Ve.resolve();const d=IDBKeyRange.bound(i.first().path.toArray(),i.last().path.toArray()),f=i.getIterator();let E=f.getNext();return rl(r).Kt({range:d},(w,A,P)=>{const V=nt.fromSegments(w);for(;E&&nt.comparator(E,V)<0;)u(E,null),E=f.getNext();E&&E.isEqual(V)&&(u(E,A),E=f.hasNext()?f.getNext():null),E?P.Mt(E.path.toArray()):P.done()}).next(()=>{for(;E;)u(E,null),E=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(r,i,u){let d=Ui();const f=i.path.length+1,E={};if(u.isEqual(At.min())){const w=i.path.toArray();E.range=IDBKeyRange.lowerBound(w)}else{const w=i.path.toArray(),A=R_(u);E.range=IDBKeyRange.lowerBound([w,A],!0),E.index=On.collectionReadTimeIndex}return rl(r).Kt(E,(w,A,P)=>{if(w.length!==f)return;const V=Zg(this.N,A);i.path.isPrefixOf(V.key.path)?He(i,V)&&(d=d.insert(V.key,V)):P.done()}).next(()=>d)}newChangeBuffer(r){return new k_(this,!!r&&r.trackRemovals)}getSize(r){return this.getMetadata(r).next(i=>i.byteSize)}getMetadata(r){return F_(r).get(xs.key).next(i=>(dt(!!i),i))}Ae(r,i){return F_(r).put(xs.key,i)}Re(r,i){if(i){const u=Zg(this.N,i);if(!u.isNoDocument()||!u.version.isEqual(At.min()))return u}return Ft.newInvalidDocument(r)}}class k_ extends DD{constructor(r,i){super(),this.Se=r,this.trackRemovals=i,this.De=new Ic(u=>u.toString(),(u,d)=>u.isEqual(d))}applyChanges(r){const i=[];let u=0,d=new lr((f,E)=>yt(f.canonicalString(),E.canonicalString()));return this.changes.forEach((f,E)=>{const w=this.De.get(f);if(E.document.isValidDocument()){const A=Qg(this.Se.N,E.document,this.getReadTime(f));d=d.add(f.path.popLast()),u+=zf(A)-w,i.push(this.Se.addEntry(r,f,A))}else if(u-=w,this.trackRemovals){const A=Qg(this.Se.N,Ft.newNoDocument(f,At.min()),this.getReadTime(f));i.push(this.Se.addEntry(r,f,A))}else i.push(this.Se.removeEntry(r,f))}),d.forEach(f=>{i.push(this.Se.Ht.addToCollectionParentIndex(r,f))}),i.push(this.Se.updateMetadata(r,u)),Ve.waitFor(i)}getFromCache(r,i){return this.Se.Pe(r,i).next(u=>(this.De.set(i,u.size),u.document))}getAllFromCache(r,i){return this.Se.ve(r,i).next(({documents:u,Ve:d})=>(d.forEach((f,E)=>{this.De.set(f,E)}),u))}}function F_(s){return Cr(s,xs.store)}function rl(s){return Cr(s,On.store)}function Xg(s){return s.path.toArray()}class SD{constructor(r){this.N=r}Ct(r,i,u,d){dt(u<d&&u>=0&&d<=11);const f=new A_("createOrUpgrade",i);var w;u<1&&d>=1&&(r.createObjectStore(Ei.store),(w=r).createObjectStore(mc.store,{keyPath:mc.keyPath}),w.createObjectStore(Tn.store,{keyPath:Tn.keyPath,autoIncrement:!0}).createIndex(Tn.userMutationsIndex,Tn.userMutationsKeyPath,{unique:!0}),w.createObjectStore(Ci.store),L_(r),function(w){w.createObjectStore(On.store)}(r));let E=Ve.resolve();return u<3&&d>=3&&(0!==u&&(function(w){w.deleteObjectStore(Zr.store),w.deleteObjectStore(is.store),w.deleteObjectStore(ji.store)}(r),L_(r)),E=E.next(()=>function(w){const A=w.store(ji.store),P=new ji(0,0,At.min().toTimestamp(),0);return A.put(ji.key,P)}(f))),u<4&&d>=4&&(0!==u&&(E=E.next(()=>function(w,A){return A.store(Tn.store).Lt().next(P=>{w.deleteObjectStore(Tn.store),w.createObjectStore(Tn.store,{keyPath:Tn.keyPath,autoIncrement:!0}).createIndex(Tn.userMutationsIndex,Tn.userMutationsKeyPath,{unique:!0});const V=A.store(Tn.store),W=P.map(ue=>V.put(ue));return Ve.waitFor(W)})}(r,f))),E=E.next(()=>{!function(w){w.createObjectStore(za.store,{keyPath:za.keyPath})}(r)})),u<5&&d>=5&&(E=E.next(()=>this.Ce(f))),u<6&&d>=6&&(E=E.next(()=>(function(w){w.createObjectStore(xs.store)}(r),this.Ne(f)))),u<7&&d>=7&&(E=E.next(()=>this.xe(f))),u<8&&d>=8&&(E=E.next(()=>this.ke(r,f))),u<9&&d>=9&&(E=E.next(()=>{(function(w){w.objectStoreNames.contains("remoteDocumentChanges")&&w.deleteObjectStore("remoteDocumentChanges")})(r),function(w){const A=w.objectStore(On.store);A.createIndex(On.readTimeIndex,On.readTimeIndexPath,{unique:!1}),A.createIndex(On.collectionReadTimeIndex,On.collectionReadTimeIndexPath,{unique:!1})}(i)})),u<10&&d>=10&&(E=E.next(()=>this.$e(f))),u<11&&d>=11&&(E=E.next(()=>{(function(w){w.createObjectStore($f.store,{keyPath:$f.keyPath})})(r),function(w){w.createObjectStore(yc.store,{keyPath:yc.keyPath})}(r)})),E}Ne(r){let i=0;return r.store(On.store).Kt((u,d)=>{i+=zf(d)}).next(()=>{const u=new xs(i);return r.store(xs.store).put(xs.key,u)})}Ce(r){const i=r.store(mc.store),u=r.store(Tn.store);return i.Lt().next(d=>Ve.forEach(d,f=>{const E=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return u.Lt(Tn.userMutationsIndex,E).next(w=>Ve.forEach(w,A=>{dt(A.userId===f.userId);const P=Gf(this.N,A);return x_(r,f.userId,P).next(()=>{})}))}))}xe(r){const i=r.store(Zr.store),u=r.store(On.store);return r.store(ji.store).get(ji.key).next(d=>{const f=[];return u.Kt((E,w)=>{const A=new Zt(E),P=[0,po(A)];f.push(i.get(P).next(V=>V?Ve.resolve():i.put(new Zr(0,po(A),d.highestListenSequenceNumber))))}).next(()=>Ve.waitFor(f))})}ke(r,i){r.createObjectStore(ah.store,{keyPath:ah.keyPath});const u=i.store(ah.store),d=new qf,f=E=>{if(d.add(E)){const w=E.lastSegment(),A=E.popLast();return u.put({collectionId:w,parent:po(A)})}};return i.store(On.store).Kt({qt:!0},(E,w)=>{const A=new Zt(E);return f(A.popLast())}).next(()=>i.store(Ci.store).Kt({qt:!0},([E,w,A],P)=>{const V=go(w);return f(V.popLast())}))}$e(r){const i=r.store(is.store);return i.Kt((u,d)=>{const f=vc(d),E=yI(this.N,f);return i.put(E)})}}function L_(s){s.createObjectStore(Zr.store,{keyPath:Zr.keyPath}).createIndex(Zr.documentTargetsIndex,Zr.documentTargetsKeyPath,{unique:!0}),s.createObjectStore(is.store,{keyPath:is.keyPath}).createIndex(is.queryTargetsIndexName,is.queryTargetsKeyPath,{unique:!0}),s.createObjectStore(ji.store)}const V_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class em{constructor(r,i,u,d,f,E,w,A,P,V){if(this.allowTabSynchronization=r,this.persistenceKey=i,this.clientId=u,this.Oe=f,this.window=E,this.document=w,this.Fe=P,this.Me=V,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=W=>Promise.resolve(),!em.Pt())throw new Fe(Ie.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new NA(this,d),this.We=i+"main",this.N=new Kg(A),this.Ge=new ca(this.We,11,new SD(this.N)),this.ze=new AA(this.referenceDelegate,this.N),this.Ht=new fh,this.He=new TD(this.N,this.Ht),this.Je=new ID,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===V&&$n("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(Ie.FAILED_PRECONDITION,V_);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",r=>this.ze.getHighestSequenceNumber(r))}).then(r=>{this.Le=new _i(r,this.Fe)}).then(()=>{this.Be=!0}).catch(r=>(this.Ge&&this.Ge.close(),Promise.reject(r)))}nn(r){var i=this;return this.Qe=function(){var u=(0,be.Z)(function*(d){if(i.started)return r(d)});return function(d){return u.apply(this,arguments)}}(),r(this.isPrimary)}setDatabaseDeletedListener(r){this.Ge.xt(function(){var i=(0,be.Z)(function*(u){null===u.newVersion&&(yield r())});return function(u){return i.apply(this,arguments)}}())}setNetworkEnabled(r){var i=this;this.networkEnabled!==r&&(this.networkEnabled=r,this.Oe.enqueueAndForget((0,be.Z)(function*(){i.started&&(yield i.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",r=>tm(r).put(new za(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(r).next(i=>{i||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(r)).next(i=>this.isPrimary&&!i?this.on(r).next(()=>!1):!!i&&this.an(r).next(()=>!0))).catch(r=>{if(uh(r))return We("IndexedDbPersistence","Failed to extend owner lease: ",r),this.isPrimary;if(!this.allowTabSynchronization)throw r;return We("IndexedDbPersistence","Releasing owner lease after error during lease refresh",r),!1}).then(r=>{this.isPrimary!==r&&this.Oe.enqueueRetryable(()=>this.Qe(r)),this.isPrimary=r})}sn(r){return Zf(r).get(Ei.key).next(i=>Ve.resolve(this.cn(i)))}un(r){return tm(r).delete(this.clientId)}hn(){var r=this;return(0,be.Z)(function*(){if(r.isPrimary&&!r.ln(r.je,18e5)){r.je=Date.now();const i=yield r.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",u=>{const d=Cr(u,za.store);return d.Lt().next(f=>{const E=r.fn(f,18e5),w=f.filter(A=>-1===E.indexOf(A));return Ve.forEach(w,A=>d.delete(A.clientId)).next(()=>w)})}).catch(()=>[]);if(r.Ye)for(const u of i)r.Ye.removeItem(r.dn(u.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(r){return!!r&&r.ownerId===this.clientId}rn(r){return this.Me?Ve.resolve(!0):Zf(r).get(Ei.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)){if(this.cn(i)&&this.networkEnabled)return!0;if(!this.cn(i)){if(!i.allowTabSynchronization)throw new Fe(Ie.FAILED_PRECONDITION,V_);return!1}}return!(!this.networkEnabled||!this.inForeground)||tm(r).Lt().next(u=>void 0===this.fn(u,5e3).find(d=>{if(this.clientId!==d.clientId){const E=!this.inForeground&&d.inForeground,w=this.networkEnabled===d.networkEnabled;if(!this.networkEnabled&&d.networkEnabled||E&&w)return!0}return!1}))}).next(i=>(this.isPrimary!==i&&We("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var r=this;return(0,be.Z)(function*(){r.Be=!1,r._n(),r.Ke&&(r.Ke.cancel(),r.Ke=null),r.mn(),r.gn(),yield r.Ge.runTransaction("shutdown","readwrite",[Ei.store,za.store],i=>{const u=new CD(i,_i.T);return r.on(u).next(()=>r.un(u))}),r.Ge.close(),r.yn()})()}fn(r,i){return r.filter(u=>this.ln(u.updateTimeMs,i)&&!this.wn(u.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",r=>tm(r).Lt().next(i=>this.fn(i,18e5).map(u=>u.clientId)))}get started(){return this.Be}getMutationQueue(r){return Kf.Yt(r,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(r,i,u){let f;return We("IndexedDbPersistence","Starting transaction:",r),this.Ge.runTransaction(r,"readonly"===i?"readonly":"readwrite",pI,E=>(f=new CD(E,this.Le?this.Le.next():_i.T),"readwrite-primary"===i?this.sn(f).next(w=>!!w||this.rn(f)).next(w=>{if(!w)throw $n(`Failed to obtain primary lease for action '${r}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Fe(Ie.FAILED_PRECONDITION,gI);return u(f)}).next(w=>this.an(f).next(()=>w)):this.En(f).next(()=>u(f)))).then(E=>(f.raiseOnCommittedEvent(),E))}En(r){return Zf(r).get(Ei.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)&&!this.cn(i)&&!(this.Me||this.allowTabSynchronization&&i.allowTabSynchronization))throw new Fe(Ie.FAILED_PRECONDITION,V_)})}an(r){const i=new Ei(this.clientId,this.allowTabSynchronization,Date.now());return Zf(r).put(Ei.key,i)}static Pt(){return ca.Pt()}on(r){const i=Zf(r);return i.get(Ei.key).next(u=>this.cn(u)?(We("IndexedDbPersistence","Releasing primary lease."),i.delete(Ei.key)):Ve.resolve())}ln(r,i){const u=Date.now();return!(r<u-i||r>u&&($n(`Detected an update time that is in the future: ${r} > ${u}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var r;"function"==typeof(null===(r=this.window)||void 0===r?void 0:r.addEventListener)&&(this.Ue=()=>{this._n(),(0,Wt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(r){var i;try{const u=null!==(null===(i=this.Ye)||void 0===i?void 0:i.getItem(this.dn(r)));return We("IndexedDbPersistence",`Client '${r}' ${u?"is":"is not"} zombied in LocalStorage`),u}catch(u){return $n("IndexedDbPersistence","Failed to get zombied client id.",u),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(r){$n("Failed to set zombie client id.",r)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(r){}}dn(r){return`firestore_zombie_${this.persistenceKey}_${r}`}}function Zf(s){return Cr(s,Ei.store)}function tm(s){return Cr(s,za.store)}function nm(s,r){let i=s.projectId;return s.isDefaultDatabase||(i+="."+s.database),"firestore/"+r+"/"+i+"/"}class CI{constructor(r,i){this.progress=r,this.Tn=i}}class II{constructor(r,i,u){this.He=r,this.In=i,this.Ht=u}An(r,i){return this.In.getAllMutationBatchesAffectingDocumentKey(r,i).next(u=>this.Rn(r,i,u))}Rn(r,i,u){return this.He.getEntry(r,i).next(d=>{for(const f of u)f.applyToLocalView(d);return d})}Pn(r,i){r.forEach((u,d)=>{for(const f of i)f.applyToLocalView(d)})}bn(r,i){return this.He.getEntries(r,i).next(u=>this.vn(r,u).next(()=>u))}vn(r,i){return this.In.getAllMutationBatchesAffectingDocumentKeys(r,i).next(u=>this.Pn(i,u))}getDocumentsMatchingQuery(r,i,u){return nt.isDocumentKey((d=i).path)&&null===d.collectionGroup&&0===d.filters.length?this.Vn(r,i.path):m(i)?this.Sn(r,i,u):this.Dn(r,i,u);var d}Vn(r,i){return this.An(r,new nt(i)).next(u=>{let d=Uf();return u.isFoundDocument()&&(d=d.insert(u.key,u)),d})}Sn(r,i,u){const d=i.collectionGroup;let f=Uf();return this.Ht.getCollectionParents(r,d).next(E=>Ve.forEach(E,w=>{const A=(P=i,V=w.child(d),new Ss(V,null,P.explicitOrderBy.slice(),P.filters.slice(),P.limit,P.limitType,P.startAt,P.endAt));var P,V;return this.Dn(r,A,u).next(P=>{P.forEach((V,W)=>{f=f.insert(V,W)})})}).next(()=>f))}Dn(r,i,u){let d,f;return this.He.getDocumentsMatchingQuery(r,i,u).next(E=>(d=E,this.In.getAllMutationBatchesAffectingQuery(r,i))).next(E=>(f=E,this.Cn(r,f,d).next(w=>{d=w;for(const A of f)for(const P of A.mutations){const V=P.key;let W=d.get(V);null==W&&(W=Ft.newInvalidDocument(V),d=d.insert(V,W)),Vf(P,W,A.localWriteTime),W.isFoundDocument()||(d=d.remove(V))}}))).next(()=>(d.forEach((E,w)=>{He(i,w)||(d=d.remove(E))}),d))}Cn(r,i,u){let d=fn();for(const E of i)for(const w of E.mutations)w instanceof aa&&null===u.get(w.key)&&(d=d.add(w.key));let f=u;return this.He.getEntries(r,d).next(E=>(E.forEach((w,A)=>{A.isFoundDocument()&&(f=f.insert(w,A))}),f))}}class Ms{constructor(r,i,u,d){this.targetId=r,this.fromCache=i,this.Nn=u,this.xn=d}static kn(r,i){let u=fn(),d=fn();for(const f of i.docChanges)switch(f.type){case 0:u=u.add(f.doc.key);break;case 1:d=d.add(f.doc.key)}return new Ms(r,i.fromCache,u,d)}}class rm{$n(r){this.On=r}getDocumentsMatchingQuery(r,i,u,d){return 0===(f=i).filters.length&&null===f.limit&&null==f.startAt&&null==f.endAt&&(0===f.explicitOrderBy.length||1===f.explicitOrderBy.length&&f.explicitOrderBy[0].field.isKeyField())||u.isEqual(At.min())?this.Fn(r,i):this.On.bn(r,d).next(f=>{const E=this.Mn(i,f);return(Xd(i)||eh(i))&&this.Ln(i.limitType,E,d,u)?this.Fn(r,i):(Wd()<=zi.in.DEBUG&&We("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),De(i)),this.On.getDocumentsMatchingQuery(r,i,u).next(w=>(E.forEach(A=>{w=w.insert(A.key,A)}),w)))});var f}Mn(r,i){let u=new lr(rt(r));return i.forEach((d,f)=>{He(r,f)&&(u=u.add(f))}),u}Ln(r,i,u,d){if(u.size!==i.size)return!0;const f="F"===r?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(d)>0)}Fn(r,i){return Wd()<=zi.in.DEBUG&&We("QueryEngine","Using full collection scan to execute query:",De(i)),this.On.getDocumentsMatchingQuery(r,i,At.min())}}class AD{constructor(r,i,u,d){this.persistence=r,this.Bn=i,this.N=d,this.Un=new Mr(yt),this.qn=new Ic(f=>zu(f),Ha),this.Kn=At.min(),this.In=r.getMutationQueue(u),this.jn=r.getRemoteDocumentCache(),this.ze=r.getTargetCache(),this.Qn=new II(this.jn,this.In,this.persistence.getIndexManager()),this.Je=r.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(r){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>r.collect(i,this.Un))}}function wI(s,r,i,u){return new AD(s,r,i,u)}function ND(s,r){return im.apply(this,arguments)}function im(){return(im=(0,be.Z)(function*(s,r){const i=Ge(s);let u=i.In,d=i.Qn;const f=yield i.persistence.runTransaction("Handle user change","readonly",E=>{let w;return i.In.getAllMutationBatches(E).next(A=>(w=A,u=i.persistence.getMutationQueue(r),d=new II(i.jn,u,i.persistence.getIndexManager()),u.getAllMutationBatches(E))).next(A=>{const P=[],V=[];let W=fn();for(const ue of w){P.push(ue.batchId);for(const pe of ue.mutations)W=W.add(pe.key)}for(const ue of A){V.push(ue.batchId);for(const pe of ue.mutations)W=W.add(pe.key)}return d.bn(E,W).next(ue=>({Wn:ue,removedBatchIds:P,addedBatchIds:V}))})});return i.In=u,i.Qn=d,i.Bn.$n(i.Qn),f})).apply(this,arguments)}function RD(s,r){const i=Ge(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",u=>{const d=r.batch.keys(),f=i.jn.newChangeBuffer({trackRemovals:!0});return function(E,w,A,P){const V=A.batch,W=V.keys();let ue=Ve.resolve();return W.forEach(pe=>{ue=ue.next(()=>P.getEntry(w,pe)).next(Ue=>{const Ke=A.docVersions.get(pe);dt(null!==Ke),Ue.version.compareTo(Ke)<0&&(V.applyToRemoteDocument(Ue,A),Ue.isValidDocument()&&P.addEntry(Ue,A.commitVersion))})}),ue.next(()=>E.In.removeMutationBatch(w,V))}(i,u,r,f).next(()=>f.apply(u)).next(()=>i.In.performConsistencyCheck(u)).next(()=>i.Qn.bn(u,d))})}function bI(s){const r=Ge(s);return r.persistence.runTransaction("Get last remote snapshot version","readonly",i=>r.ze.getLastRemoteSnapshotVersion(i))}function xD(s,r){const i=Ge(s),u=r.snapshotVersion;let d=i.Un;return i.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const E=i.jn.newChangeBuffer({trackRemovals:!0});d=i.Un;const w=[];r.targetChanges.forEach((P,V)=>{const W=d.get(V);if(!W)return;w.push(i.ze.removeMatchingKeys(f,P.removedDocuments,V).next(()=>i.ze.addMatchingKeys(f,P.addedDocuments,V)));const ue=P.resumeToken;if(ue.approximateByteSize()>0){const pe=W.withResumeToken(ue,u).withSequenceNumber(f.currentSequenceNumber);d=d.insert(V,pe),Ue=W,ut=P,dt((Ke=pe).resumeToken.approximateByteSize()>0),(0===Ue.resumeToken.approximateByteSize()||Ke.snapshotVersion.toMicroseconds()-Ue.snapshotVersion.toMicroseconds()>=3e8||ut.addedDocuments.size+ut.modifiedDocuments.size+ut.removedDocuments.size>0)&&w.push(i.ze.updateTargetData(f,pe))}var Ue,Ke,ut});let A=Ui();if(r.documentUpdates.forEach((P,V)=>{r.resolvedLimboDocuments.has(P)&&w.push(i.persistence.referenceDelegate.updateLimboDocument(f,P))}),w.push(sm(f,E,r.documentUpdates,u,void 0).next(P=>{A=P})),!u.isEqual(At.min())){const P=i.ze.getLastRemoteSnapshotVersion(f).next(V=>i.ze.setTargetsMetadata(f,f.currentSequenceNumber,u));w.push(P)}return Ve.waitFor(w).next(()=>E.apply(f)).next(()=>i.Qn.vn(f,A)).next(()=>A)}).then(f=>(i.Un=d,f))}function sm(s,r,i,u,d){let f=fn();return i.forEach(E=>f=f.add(E)),r.getEntries(s,f).next(E=>{let w=Ui();return i.forEach((A,P)=>{const V=E.get(A),W=(null==d?void 0:d.get(A))||u;P.isNoDocument()&&P.version.isEqual(At.min())?(r.removeEntry(A,W),w=w.insert(A,P)):!V.isValidDocument()||P.version.compareTo(V.version)>0||0===P.version.compareTo(V.version)&&V.hasPendingWrites?(r.addEntry(P,W),w=w.insert(A,P)):We("LocalStore","Ignoring outdated watch update for ",A,". Current version:",V.version," Watch version:",P.version)}),w})}function MD(s,r){const i=Ge(s);return i.persistence.runTransaction("Get next mutation batch","readonly",u=>(void 0===r&&(r=-1),i.In.getNextMutationBatchAfterBatchId(u,r)))}function gh(s,r){const i=Ge(s);return i.persistence.runTransaction("Allocate target","readwrite",u=>{let d;return i.ze.getTargetData(u,r).next(f=>f?(d=f,Ve.resolve(d)):i.ze.allocateTargetId(u).next(E=>(d=new Ka(r,E,0,u.currentSequenceNumber),i.ze.addTargetData(u,d).next(()=>d))))}).then(u=>{const d=i.Un.get(u.targetId);return(null===d||u.snapshotVersion.compareTo(d.snapshotVersion)>0)&&(i.Un=i.Un.insert(u.targetId,u),i.qn.set(r,u.targetId)),u})}function Ja(s,r,i){return Qf.apply(this,arguments)}function Qf(){return(Qf=(0,be.Z)(function*(s,r,i){const u=Ge(s),d=u.Un.get(r),f=i?"readwrite":"readwrite-primary";try{i||(yield u.persistence.runTransaction("Release target",f,E=>u.persistence.referenceDelegate.removeTarget(E,d)))}catch(E){if(!uh(E))throw E;We("LocalStore",`Failed to update sequence numbers for target ${r}: ${E}`)}u.Un=u.Un.remove(r),u.qn.delete(d.target)})).apply(this,arguments)}function om(s,r,i){const u=Ge(s);let d=At.min(),f=fn();return u.persistence.runTransaction("Execute query","readonly",E=>function(w,A,P){const V=Ge(w),W=V.qn.get(P);return void 0!==W?Ve.resolve(V.Un.get(W)):V.ze.getTargetData(A,P)}(u,E,b(r)).next(w=>{if(w)return d=w.lastLimboFreeSnapshotVersion,u.ze.getMatchingKeysForTargetId(E,w.targetId).next(A=>{f=A})}).next(()=>u.Bn.getDocumentsMatchingQuery(E,r,i?d:At.min(),i?f:fn())).next(w=>({documents:w,Gn:f})))}function am(s,r){const i=Ge(s),u=Ge(i.ze),d=i.Un.get(r);return d?Promise.resolve(d.target):i.persistence.runTransaction("Get target data","readonly",f=>u.Et(f,r).next(E=>E?E.target:null))}function um(s){const r=Ge(s);return r.persistence.runTransaction("Get new document changes","readonly",i=>function(u,d,f){const E=Ge(u);let w=Ui(),A=R_(f);const P=rl(d),V=IDBKeyRange.lowerBound(A,!0);return P.Kt({index:On.readTimeIndex,range:V},(W,ue)=>{const pe=Zg(E.N,ue);w=w.insert(pe.key,pe),A=ue.readTime}).next(()=>({Tn:w,readTime:Za(A)}))}(r.jn,i,r.Kn)).then(({Tn:i,readTime:u})=>(r.Kn=u,i))}function U_(){return(U_=(0,be.Z)(function*(s){const r=Ge(s);return r.persistence.runTransaction("Synchronize last document change read time","readonly",i=>function(u){const d=rl(u);let f=At.min();return d.Kt({index:On.readTimeIndex,reverse:!0},(E,w,A)=>{w.readTime&&(f=Za(w.readTime)),A.done()}).next(()=>f)}(i)).then(i=>{r.Kn=i})})).apply(this,arguments)}function Yf(){return(Yf=(0,be.Z)(function*(s,r,i,u){const d=Ge(s);let f=fn(),E=Ui(),w=tI();for(const V of i){const W=r.zn(V.metadata.name);V.document&&(f=f.add(W)),E=E.insert(W,r.Hn(V)),w=w.insert(W,r.Jn(V.metadata.readTime))}const A=d.jn.newChangeBuffer({trackRemovals:!0}),P=yield gh(d,(V=u,b(Ju(Zt.fromString(`__bundle__/docs/${V}`)))));var V;return d.persistence.runTransaction("Apply bundle documents","readwrite",V=>sm(V,A,E,At.min(),w).next(W=>(A.apply(V),W)).next(W=>d.ze.removeMatchingKeysForTargetId(V,P.targetId).next(()=>d.ze.addMatchingKeys(V,f,P.targetId)).next(()=>d.Qn.vn(V,W)).next(()=>W)))})).apply(this,arguments)}function RA(s,r){return j_.apply(this,arguments)}function j_(){return(j_=(0,be.Z)(function*(s,r,i=fn()){const u=yield gh(s,b(Yg(r.bundledQuery))),d=Ge(s);return d.persistence.runTransaction("Save named query","readwrite",f=>{const E=cr(r.readTime);if(u.snapshotVersion.compareTo(E)>=0)return d.Je.saveNamedQuery(f,r);const w=u.withResumeToken(Tr.EMPTY_BYTE_STRING,E);return d.Un=d.Un.insert(w.targetId,w),d.ze.updateTargetData(f,w).next(()=>d.ze.removeMatchingKeysForTargetId(f,u.targetId)).next(()=>d.ze.addMatchingKeys(f,i,u.targetId)).next(()=>d.Je.saveNamedQuery(f,r))})})).apply(this,arguments)}class TI{constructor(r){this.N=r,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(r,i){return Ve.resolve(this.Yn.get(i))}saveBundleMetadata(r,i){var u;return this.Yn.set(i.id,{id:(u=i).id,version:u.version,createTime:cr(u.createTime)}),Ve.resolve()}getNamedQuery(r,i){return Ve.resolve(this.Xn.get(i))}saveNamedQuery(r,i){return this.Xn.set(i.name,{name:(u=i).name,query:Yg(u.bundledQuery),readTime:cr(u.readTime)}),Ve.resolve();var u}}class lm{constructor(){this.Zn=new lr(Or.ts),this.es=new lr(Or.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(r,i){const u=new Or(r,i);this.Zn=this.Zn.add(u),this.es=this.es.add(u)}ss(r,i){r.forEach(u=>this.addReference(u,i))}removeReference(r,i){this.rs(new Or(r,i))}os(r,i){r.forEach(u=>this.removeReference(u,i))}cs(r){const i=new nt(new Zt([])),u=new Or(i,r),d=new Or(i,r+1),f=[];return this.es.forEachInRange([u,d],E=>{this.rs(E),f.push(E.key)}),f}us(){this.Zn.forEach(r=>this.rs(r))}rs(r){this.Zn=this.Zn.delete(r),this.es=this.es.delete(r)}hs(r){const i=new nt(new Zt([])),u=new Or(i,r),d=new Or(i,r+1);let f=fn();return this.es.forEachInRange([u,d],E=>{f=f.add(E.key)}),f}containsKey(r){const i=new Or(r,0),u=this.Zn.firstAfterOrEqual(i);return null!==u&&r.isEqual(u.key)}}class Or{constructor(r,i){this.key=r,this.ls=i}static ts(r,i){return nt.comparator(r.key,i.key)||yt(r.ls,i.ls)}static ns(r,i){return yt(r.ls,i.ls)||nt.comparator(r.key,i.key)}}class SI{constructor(r,i){this.Ht=r,this.referenceDelegate=i,this.In=[],this.fs=1,this.ds=new lr(Or.ts)}checkEmpty(r){return Ve.resolve(0===this.In.length)}addMutationBatch(r,i,u,d){const f=this.fs;this.fs++;const E=new Wf(f,i,u,d);this.In.push(E);for(const w of d)this.ds=this.ds.add(new Or(w.key,f)),this.Ht.addToCollectionParentIndex(r,w.key.path.popLast());return Ve.resolve(E)}lookupMutationBatch(r,i){return Ve.resolve(this.ws(i))}getNextMutationBatchAfterBatchId(r,i){const d=this._s(i+1),f=d<0?0:d;return Ve.resolve(this.In.length>f?this.In[f]:null)}getHighestUnacknowledgedBatchId(){return Ve.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(r){return Ve.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(r,i){const u=new Or(i,0),d=new Or(i,Number.POSITIVE_INFINITY),f=[];return this.ds.forEachInRange([u,d],E=>{const w=this.ws(E.ls);f.push(w)}),Ve.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(r,i){let u=new lr(yt);return i.forEach(d=>{const f=new Or(d,0),E=new Or(d,Number.POSITIVE_INFINITY);this.ds.forEachInRange([f,E],w=>{u=u.add(w.ls)})}),Ve.resolve(this.gs(u))}getAllMutationBatchesAffectingQuery(r,i){const u=i.path,d=u.length+1;let f=u;nt.isDocumentKey(f)||(f=f.child(""));const E=new Or(new nt(f),0);let w=new lr(yt);return this.ds.forEachWhile(A=>{const P=A.key.path;return!!u.isPrefixOf(P)&&(P.length===d&&(w=w.add(A.ls)),!0)},E),Ve.resolve(this.gs(w))}gs(r){const i=[];return r.forEach(u=>{const d=this.ws(u);null!==d&&i.push(d)}),i}removeMutationBatch(r,i){dt(0===this.ys(i.batchId,"removed")),this.In.shift();let u=this.ds;return Ve.forEach(i.mutations,d=>{const f=new Or(d.key,i.batchId);return u=u.delete(f),this.referenceDelegate.markPotentiallyOrphaned(r,d.key)}).next(()=>{this.ds=u})}te(r){}containsKey(r,i){const u=new Or(i,0),d=this.ds.firstAfterOrEqual(u);return Ve.resolve(i.isEqual(d&&d.key))}performConsistencyCheck(r){return Ve.resolve()}ys(r,i){return this._s(r)}_s(r){return 0===this.In.length?0:r-this.In[0].batchId}ws(r){const i=this._s(r);return i<0||i>=this.In.length?null:this.In[i]}}class AI{constructor(r,i){this.Ht=r,this.ps=i,this.docs=new Mr(nt.comparator),this.size=0}addEntry(r,i,u){const d=i.key,f=this.docs.get(d),E=f?f.size:0,w=this.ps(i);return this.docs=this.docs.insert(d,{document:i.clone(),size:w,readTime:u}),this.size+=w-E,this.Ht.addToCollectionParentIndex(r,d.path.popLast())}removeEntry(r){const i=this.docs.get(r);i&&(this.docs=this.docs.remove(r),this.size-=i.size)}getEntry(r,i){const u=this.docs.get(i);return Ve.resolve(u?u.document.clone():Ft.newInvalidDocument(i))}getEntries(r,i){let u=Ui();return i.forEach(d=>{const f=this.docs.get(d);u=u.insert(d,f?f.document.clone():Ft.newInvalidDocument(d))}),Ve.resolve(u)}getDocumentsMatchingQuery(r,i,u){let d=Ui();const f=new nt(i.path.child("")),E=this.docs.getIteratorFrom(f);for(;E.hasNext();){const{key:w,value:{document:A,readTime:P}}=E.getNext();if(!i.path.isPrefixOf(w.path))break;P.compareTo(u)<=0||He(i,A)&&(d=d.insert(A.key,A.clone()))}return Ve.resolve(d)}Es(r,i){return Ve.forEach(this.docs,u=>i(u))}newChangeBuffer(r){return new Xa(this)}getSize(r){return Ve.resolve(this.size)}}class Xa extends DD{constructor(r){super(),this.Se=r}applyChanges(r){const i=[];return this.changes.forEach((u,d)=>{d.document.isValidDocument()?i.push(this.Se.addEntry(r,d.document,this.getReadTime(u))):this.Se.removeEntry(u)}),Ve.waitFor(i)}getFromCache(r,i){return this.Se.getEntry(r,i)}getAllFromCache(r,i){return this.Se.getEntries(r,i)}}class cm{constructor(r){this.persistence=r,this.Ts=new Ic(i=>zu(i),Ha),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.Is=0,this.As=new lm,this.targetCount=0,this.Rs=el.se()}forEachTarget(r,i){return this.Ts.forEach((u,d)=>i(d)),Ve.resolve()}getLastRemoteSnapshotVersion(r){return Ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(r){return Ve.resolve(this.Is)}allocateTargetId(r){return this.highestTargetId=this.Rs.next(),Ve.resolve(this.highestTargetId)}setTargetsMetadata(r,i,u){return u&&(this.lastRemoteSnapshotVersion=u),i>this.Is&&(this.Is=i),Ve.resolve()}ae(r){this.Ts.set(r.target,r);const i=r.targetId;i>this.highestTargetId&&(this.Rs=new el(i),this.highestTargetId=i),r.sequenceNumber>this.Is&&(this.Is=r.sequenceNumber)}addTargetData(r,i){return this.ae(i),this.targetCount+=1,Ve.resolve()}updateTargetData(r,i){return this.ae(i),Ve.resolve()}removeTargetData(r,i){return this.Ts.delete(i.target),this.As.cs(i.targetId),this.targetCount-=1,Ve.resolve()}removeTargets(r,i,u){let d=0;const f=[];return this.Ts.forEach((E,w)=>{w.sequenceNumber<=i&&null===u.get(w.targetId)&&(this.Ts.delete(E),f.push(this.removeMatchingKeysForTargetId(r,w.targetId)),d++)}),Ve.waitFor(f).next(()=>d)}getTargetCount(r){return Ve.resolve(this.targetCount)}getTargetData(r,i){const u=this.Ts.get(i)||null;return Ve.resolve(u)}addMatchingKeys(r,i,u){return this.As.ss(i,u),Ve.resolve()}removeMatchingKeys(r,i,u){this.As.os(i,u);const d=this.persistence.referenceDelegate,f=[];return d&&i.forEach(E=>{f.push(d.markPotentiallyOrphaned(r,E))}),Ve.waitFor(f)}removeMatchingKeysForTargetId(r,i){return this.As.cs(i),Ve.resolve()}getMatchingKeysForTargetId(r,i){const u=this.As.hs(i);return Ve.resolve(u)}containsKey(r,i){return Ve.resolve(this.As.containsKey(i))}}class NI{constructor(r,i){this.Ps={},this.Le=new _i(0),this.Be=!1,this.Be=!0,this.referenceDelegate=r(this),this.ze=new cm(this),this.Ht=new hh,this.He=new AI(this.Ht,u=>this.referenceDelegate.bs(u)),this.N=new Kg(i),this.Je=new TI(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(r){let i=this.Ps[r.toKey()];return i||(i=new SI(this.Ht,this.referenceDelegate),this.Ps[r.toKey()]=i),i}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(r,i,u){We("MemoryPersistence","Starting transaction:",r);const d=new RI(this.Le.next());return this.referenceDelegate.vs(),u(d).next(f=>this.referenceDelegate.Vs(d).next(()=>f)).toPromise().then(f=>(d.raiseOnCommittedEvent(),f))}Ss(r,i){return Ve.or(Object.values(this.Ps).map(u=>()=>u.containsKey(r,i)))}}class RI extends qg{constructor(r){super(),this.currentSequenceNumber=r}}class xI{constructor(r){this.persistence=r,this.Ds=new lm,this.Cs=null}static Ns(r){return new xI(r)}get xs(){if(this.Cs)return this.Cs;throw st()}addReference(r,i,u){return this.Ds.addReference(u,i),this.xs.delete(u.toString()),Ve.resolve()}removeReference(r,i,u){return this.Ds.removeReference(u,i),this.xs.add(u.toString()),Ve.resolve()}markPotentiallyOrphaned(r,i){return this.xs.add(i.toString()),Ve.resolve()}removeTarget(r,i){this.Ds.cs(i.targetId).forEach(d=>this.xs.add(d.toString()));const u=this.persistence.getTargetCache();return u.getMatchingKeysForTargetId(r,i.targetId).next(d=>{d.forEach(f=>this.xs.add(f.toString()))}).next(()=>u.removeTargetData(r,i))}vs(){this.Cs=new Set}Vs(r){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ve.forEach(this.xs,u=>{const d=nt.fromPath(u);return this.ks(r,d).next(f=>{f||i.removeEntry(d)})}).next(()=>(this.Cs=null,i.apply(r)))}updateLimboDocument(r,i){return this.ks(r,i).next(u=>{u?this.xs.delete(i.toString()):this.xs.add(i.toString())})}bs(r){return 0}ks(r,i){return Ve.or([()=>Ve.resolve(this.Ds.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(r,i),()=>this.persistence.Ss(r,i)])}}function eu(s,r){return`firestore_clients_${s}_${r}`}function dm(s,r,i){let u=`firestore_mutations_${s}_${i}`;return r.isAuthenticated()&&(u+=`_${r.uid}`),u}function wc(s,r){return`firestore_targets_${s}_${r}`}class il{constructor(r,i,u,d){this.user=r,this.batchId=i,this.state=u,this.error=d}static $s(r,i,u){const d=JSON.parse(u);let f,E="object"==typeof d&&-1!==["pending","acknowledged","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error);return E&&d.error&&(E="string"==typeof d.error.message&&"string"==typeof d.error.code,E&&(f=new Fe(d.error.code,d.error.message))),E?new il(r,i,d.state,f):($n("SharedClientState",`Failed to parse mutation state for ID '${i}': ${u}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class Jf{constructor(r,i,u){this.targetId=r,this.state=i,this.error=u}static $s(r,i){const u=JSON.parse(i);let d,f="object"==typeof u&&-1!==["not-current","current","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return f&&u.error&&(f="string"==typeof u.error.message&&"string"==typeof u.error.code,f&&(d=new Fe(u.error.code,u.error.message))),f?new Jf(r,u.state,d):($n("SharedClientState",`Failed to parse target state for ID '${r}': ${i}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class mh{constructor(r,i){this.clientId=r,this.activeTargetIds=i}static $s(r,i){const u=JSON.parse(i);let d="object"==typeof u&&u.activeTargetIds instanceof Array,f=jf();for(let E=0;d&&E<u.activeTargetIds.length;++E)d=Rg(u.activeTargetIds[E]),f=f.add(u.activeTargetIds[E]);return d?new mh(r,f):($n("SharedClientState",`Failed to parse client data for instance '${r}': ${i}`),null)}}class hm{constructor(r,i){this.clientId=r,this.onlineState=i}static $s(r){const i=JSON.parse(r);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new hm(i.clientId,i.onlineState):($n("SharedClientState",`Failed to parse online state: ${r}`),null)}}class fm{constructor(){this.activeTargetIds=jf()}Fs(r){this.activeTargetIds=this.activeTargetIds.add(r)}Ms(r){this.activeTargetIds=this.activeTargetIds.delete(r)}Os(){const r={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(r)}}class pm{constructor(r,i,u,d,f){this.window=r,this.Oe=i,this.persistenceKey=u,this.Ls=d,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Mr(yt),this.started=!1,this.Ks=[];const E=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.js=eu(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new fm),this.Ws=new RegExp(`^firestore_clients_${E}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${E}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${E}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(w){return`firestore_bundle_loaded_${w}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static Pt(r){return!(!r||!r.localStorage)}start(){var r=this;return(0,be.Z)(function*(){const i=yield r.syncEngine.pn();for(const d of i){if(d===r.Ls)continue;const f=r.getItem(eu(r.persistenceKey,d));if(f){const E=mh.$s(d,f);E&&(r.qs=r.qs.insert(E.clientId,E))}}r.Ys();const u=r.storage.getItem(r.Hs);if(u){const d=r.Xs(u);d&&r.Zs(d)}for(const d of r.Ks)r.Us(d);r.Ks=[],r.window.addEventListener("pagehide",()=>r.shutdown()),r.started=!0})()}writeSequenceNumber(r){this.setItem(this.Qs,JSON.stringify(r))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(r){let i=!1;return this.qs.forEach((u,d)=>{d.activeTargetIds.has(r)&&(i=!0)}),i}addPendingMutation(r){this.ei(r,"pending")}updateMutationState(r,i,u){this.ei(r,i,u),this.ni(r)}addLocalQueryTarget(r){let i="not-current";if(this.isActiveQueryTarget(r)){const u=this.storage.getItem(wc(this.persistenceKey,r));if(u){const d=Jf.$s(r,u);d&&(i=d.state)}}return this.si.Fs(r),this.Ys(),i}removeLocalQueryTarget(r){this.si.Ms(r),this.Ys()}isLocalQueryTarget(r){return this.si.activeTargetIds.has(r)}clearQueryState(r){this.removeItem(wc(this.persistenceKey,r))}updateQueryState(r,i,u){this.ii(r,i,u)}handleUserChange(r,i,u){i.forEach(d=>{this.ni(d)}),this.currentUser=r,u.forEach(d=>{this.addPendingMutation(d)})}setOnlineState(r){this.ri(r)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(r){const i=this.storage.getItem(r);return We("SharedClientState","READ",r,i),i}setItem(r,i){We("SharedClientState","SET",r,i),this.storage.setItem(r,i)}removeItem(r){We("SharedClientState","REMOVE",r),this.storage.removeItem(r)}Us(r){var i=this;const u=r;if(u.storageArea===this.storage){if(We("SharedClientState","EVENT",u.key,u.newValue),u.key===this.js)return void $n("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,be.Z)(function*(){if(i.started){if(null!==u.key)if(i.Ws.test(u.key)){if(null==u.newValue){const d=i.ai(u.key);return i.ci(d,null)}{const d=i.ui(u.key,u.newValue);if(d)return i.ci(d.clientId,d)}}else if(i.Gs.test(u.key)){if(null!==u.newValue){const d=i.hi(u.key,u.newValue);if(d)return i.li(d)}}else if(i.zs.test(u.key)){if(null!==u.newValue){const d=i.fi(u.key,u.newValue);if(d)return i.di(d)}}else if(u.key===i.Hs){if(null!==u.newValue){const d=i.Xs(u.newValue);if(d)return i.Zs(d)}}else if(u.key===i.Qs){const d=function(f){let E=_i.T;if(null!=f)try{const w=JSON.parse(f);dt("number"==typeof w),E=w}catch(w){$n("SharedClientState","Failed to read sequence number from WebStorage",w)}return E}(u.newValue);d!==_i.T&&i.sequenceNumberHandler(d)}else if(u.key===i.Js)return i.syncEngine.wi()}else i.Ks.push(u)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(r,i,u){const d=new il(this.currentUser,r,i,u),f=dm(this.persistenceKey,this.currentUser,r);this.setItem(f,d.Os())}ni(r){const i=dm(this.persistenceKey,this.currentUser,r);this.removeItem(i)}ri(r){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:r}))}ii(r,i,u){const d=wc(this.persistenceKey,r),f=new Jf(r,i,u);this.setItem(d,f.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(r){const i=this.Ws.exec(r);return i?i[1]:null}ui(r,i){const u=this.ai(r);return mh.$s(u,i)}hi(r,i){const u=this.Gs.exec(r),d=Number(u[1]);return il.$s(new Nr(void 0!==u[2]?u[2]:null),d,i)}fi(r,i){const u=this.zs.exec(r),d=Number(u[1]);return Jf.$s(d,i)}Xs(r){return hm.$s(r)}li(r){var i=this;return(0,be.Z)(function*(){if(r.user.uid===i.currentUser.uid)return i.syncEngine._i(r.batchId,r.state,r.error);We("SharedClientState",`Ignoring mutation for non-active user ${r.user.uid}`)})()}di(r){return this.syncEngine.mi(r.targetId,r.state,r.error)}ci(r,i){const u=i?this.qs.insert(r,i):this.qs.remove(r),d=this.ti(this.qs),f=this.ti(u),E=[],w=[];return f.forEach(A=>{d.has(A)||E.push(A)}),d.forEach(A=>{f.has(A)||w.push(A)}),this.syncEngine.gi(E,w).then(()=>{this.qs=u})}Zs(r){this.qs.get(r.clientId)&&this.onlineStateHandler(r.onlineState)}ti(r){let i=jf();return r.forEach((u,d)=>{i=i.unionWith(d.activeTargetIds)}),i}}class MI{constructor(){this.yi=new fm,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(r){}updateMutationState(r,i,u){}addLocalQueryTarget(r){return this.yi.Fs(r),this.pi[r]||"not-current"}updateQueryState(r,i,u){this.pi[r]=i}removeLocalQueryTarget(r){this.yi.Ms(r)}isLocalQueryTarget(r){return this.yi.activeTargetIds.has(r)}clearQueryState(r){delete this.pi[r]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(r){return this.yi.activeTargetIds.has(r)}start(){return this.yi=new fm,Promise.resolve()}handleUserChange(r,i,u){}setOnlineState(r){}shutdown(){}writeSequenceNumber(r){}notifyBundleLoaded(){}}class B_{Ei(r){}shutdown(){}}class OI{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.Pi=[],this.bi()}Ei(r){this.Pi.push(r)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}bi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){We("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const r of this.Pi)r(0)}Ri(){We("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const r of this.Pi)r(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const PD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class PI{constructor(r){this.vi=r.vi,this.Vi=r.Vi}Si(r){this.Di=r}Ci(r){this.Ni=r}onMessage(r){this.xi=r}close(){this.Vi()}send(r){this.vi(r)}ki(){this.Di()}$i(r){this.Ni(r)}Oi(r){this.xi(r)}}class yh extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId,this.Fi=(r.ssl?"https":"http")+"://"+r.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(r,i,u,d){const f=this.Bi(r,i);We("RestConnection","Sending: ",f,u);const E={};return this.Ui(E,d),this.qi(r,f,E,u).then(w=>(We("RestConnection","Received: ",w),w),w=>{throw ic("RestConnection",`${r} failed with error: `,w,"url: ",f,"request:",u),w})}Ki(r,i,u,d){return this.Li(r,i,u,d)}Ui(r,i){if(r["X-Goog-Api-Client"]="gl-js/ fire/"+Uu,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),i)for(const u in i.authHeaders)i.authHeaders.hasOwnProperty(u)&&(r[u]=i.authHeaders[u])}Bi(r,i){return`${this.Fi}/v1/${i}:${PD[r]}`}}{constructor(r){super(r),this.forceLongPolling=r.forceLongPolling,this.autoDetectLongPolling=r.autoDetectLongPolling,this.useFetchStreams=r.useFetchStreams}qi(r,i,u,d){return new Promise((f,E)=>{const w=new Sf;w.listenOnce(Tf.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case ec.NO_ERROR:const P=w.getResponseJson();We("Connection","XHR received:",JSON.stringify(P)),f(P);break;case ec.TIMEOUT:We("Connection",'RPC "'+r+'" timed out'),E(new Fe(Ie.DEADLINE_EXCEEDED,"Request time out"));break;case ec.HTTP_ERROR:const V=w.getStatus();if(We("Connection",'RPC "'+r+'" failed with status:',V,"response text:",w.getResponseText()),V>0){const W=w.getResponseJson().error;if(W&&W.status&&W.message){const ue=function(pe){const Ue=pe.toLowerCase().replace(/_/g,"-");return Object.values(Ie).indexOf(Ue)>=0?Ue:Ie.UNKNOWN}(W.status);E(new Fe(ue,W.message))}else E(new Fe(Ie.UNKNOWN,"Server responded with status "+w.getStatus()))}else E(new Fe(Ie.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{We("Connection",'RPC "'+r+'" completed.')}});const A=JSON.stringify(d);w.send(i,"POST",A,u,15)})}ji(r,i){const u=[this.Fi,"/","google.firestore.v1.Firestore","/",r,"/channel"],d=new Fu,f=$o(),E={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(E.xmlHttpFactory=new tc({})),this.Ui(E.initMessageHeaders,i),(0,Wt.uI)()||(0,Wt.b$)()||(0,Wt.d)()||(0,Wt.w1)()||(0,Wt.Mn)()||(0,Wt.ru)()||(E.httpHeadersOverwriteParam="$httpHeaders");const w=u.join("");We("Connection","Creating WebChannel: "+w,E);const A=d.createWebChannel(w,E);let P=!1,V=!1;const W=new PI({vi:pe=>{V?We("Connection","Not sending because WebChannel is closed:",pe):(P||(We("Connection","Opening WebChannel transport."),A.open(),P=!0),We("Connection","WebChannel sending:",pe),A.send(pe))},Vi:()=>A.close()}),ue=(pe,Ue,Ke)=>{pe.listen(Ue,ut=>{try{Ke(ut)}catch(on){setTimeout(()=>{throw on},0)}})};return ue(A,nc.EventType.OPEN,()=>{V||We("Connection","WebChannel transport opened.")}),ue(A,nc.EventType.CLOSE,()=>{V||(V=!0,We("Connection","WebChannel transport closed"),W.$i())}),ue(A,nc.EventType.ERROR,pe=>{V||(V=!0,ic("Connection","WebChannel transport errored:",pe),W.$i(new Fe(Ie.UNAVAILABLE,"The operation could not be completed")))}),ue(A,nc.EventType.MESSAGE,pe=>{var Ue;if(!V){const Ke=pe.data[0];dt(!!Ke);const ut=Ke,on=ut.error||(null===(Ue=ut[0])||void 0===Ue?void 0:Ue.error);if(on){We("Connection","WebChannel received error:",on);const Sn=on.status;let $t=function(ds){const zy=Er[ds];if(void 0!==zy)return YC(zy)}(Sn),kn=on.message;void 0===$t&&($t=Ie.INTERNAL,kn="Unknown error status: "+Sn+" with message "+on.message),V=!0,W.$i(new Fe($t,kn)),A.close()}else We("Connection","WebChannel received:",Ke),W.Oi(Ke)}}),ue(f,Hd.STAT_EVENT,pe=>{pe.stat===Vu_PROXY?We("Connection","Detected buffering proxy"):pe.stat===Vu_NOPROXY&&We("Connection","Detected no buffering proxy")}),setTimeout(()=>{W.ki()},0),W}}function H_(){return"undefined"!=typeof window?window:null}function gm(){return"undefined"!=typeof document?document:null}function Xf(s){return new sI(s,!0)}class sl{constructor(r,i,u=1e3,d=1.5,f=6e4){this.Oe=r,this.timerId=i,this.Qi=u,this.Wi=d,this.Gi=f,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(r){this.cancel();const i=Math.floor(this.zi+this.Zi()),u=Math.max(0,Date.now()-this.Ji),d=Math.max(0,i-u);d>0&&We("ExponentialBackoff",`Backing off for ${d} ms (base delay: ${this.zi} ms, delay with jitter: ${i} ms, last attempt: ${u} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,d,()=>(this.Ji=Date.now(),r())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class kI{constructor(r,i,u,d,f,E){this.Oe=r,this.er=u,this.nr=d,this.credentialsProvider=f,this.listener=E,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new sl(r,i)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var r=this;return(0,be.Z)(function*(){r.ar()&&(yield r.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(r){this._r(),this.stream.send(r)}dr(){var r=this;return(0,be.Z)(function*(){if(r.cr())return r.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(r,i){var u=this;return(0,be.Z)(function*(){u._r(),u.rr.cancel(),u.sr++,3!==r?u.rr.reset():i&&i.code===Ie.RESOURCE_EXHAUSTED?($n(i.toString()),$n("Using maximum backoff delay to prevent overloading the backend."),u.rr.Yi()):i&&i.code===Ie.UNAUTHENTICATED&&u.credentialsProvider.invalidateToken(),null!==u.stream&&(u.mr(),u.stream.close(),u.stream=null),u.state=r,yield u.listener.Ci(i)})()}mr(){}auth(){this.state=1;const r=this.gr(this.sr),i=this.sr;this.credentialsProvider.getToken().then(u=>{this.sr===i&&this.yr(u)},u=>{r(()=>{const d=new Fe(Ie.UNKNOWN,"Fetching auth token failed: "+u.message);return this.pr(d)})})}yr(r){const i=this.gr(this.sr);this.stream=this.Er(r),this.stream.Si(()=>{i(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(u=>{i(()=>this.pr(u))}),this.stream.onMessage(u=>{i(()=>this.onMessage(u))})}ur(){var r=this;this.state=4,this.rr.Xi((0,be.Z)(function*(){r.state=0,r.start()}))}pr(r){return We("PersistentStream",`close with error: ${r}`),this.stream=null,this.close(3,r)}gr(r){return i=>{this.Oe.enqueueAndForget(()=>this.sr===r?i():(We("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kD extends kI{constructor(r,i,u,d,f){super(r,"listen_stream_connection_backoff","listen_stream_idle",i,u,f),this.N=d}Er(r){return this.nr.ji("Listen",r)}onMessage(r){this.rr.reset();const i=function(s,r){let i;if("targetChange"in r){const u="NO_CHANGE"===(A=r.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===A?1:"REMOVE"===A?2:"CURRENT"===A?3:"RESET"===A?4:st(),d=r.targetChange.targetIds||[],f=function(A,P){return A.D?(dt(void 0===P||"string"==typeof P),Tr.fromBase64String(P||"")):(dt(void 0===P||P instanceof Uint8Array),Tr.fromUint8Array(P||new Uint8Array))}(s,r.targetChange.resumeToken),E=r.targetChange.cause,w=E&&function(A){const P=void 0===A.code?Ie.UNKNOWN:YC(A.code);return new Fe(P,A.message||"")}(E);i=new m_(u,d,f,w||null)}else if("documentChange"in r){const u=r.documentChange,d=ua(s,u.document.name),f=cr(u.document.updateTime),E=new kt({mapValue:{fields:u.document.fields}}),w=Ft.newFoundDocument(d,f,E);i=new fc(u.targetIds||[],u.removedTargetIds||[],w.key,w)}else if("documentDelete"in r){const u=r.documentDelete,d=ua(s,u.document),f=u.readTime?cr(u.readTime):At.min(),E=Ft.newNoDocument(d,f);i=new fc([],u.removedTargetIds||[],E.key,E)}else if("documentRemove"in r){const u=r.documentRemove,d=ua(s,u.document);i=new fc([],u.removedTargetIds||[],d,null)}else{if(!("filter"in r))return st();{const u=r.filter,f=new g_(u.count||0);i=new rI(u.targetId,f)}}var A;return i}(this.N,r),u=function(d){if(!("targetChange"in d))return At.min();const f=d.targetChange;return f.targetIds&&f.targetIds.length?At.min():f.readTime?cr(f.readTime):At.min()}(r);return this.listener.Tr(i,u)}Ir(r){const i={};i.database=oh(this.N),i.addTarget=function(d,f){let E;const w=f.target;return E=lc(w)?{documents:b_(d,w)}:{query:uI(d,w)},E.targetId=f.targetId,f.resumeToken.approximateByteSize()>0?E.resumeToken=v_(d,f.resumeToken):f.snapshotVersion.compareTo(At.min())>0&&(E.readTime=pc(d,f.snapshotVersion.toTimestamp())),E}(this.N,r);const u=function(s,r){const i=function(u,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return st()}}(0,r.purpose);return null==i?null:{"goog-listen-tags":i}}(0,r);u&&(i.labels=u),this.wr(i)}Ar(r){const i={};i.database=oh(this.N),i.removeTarget=r,this.wr(i)}}class FD extends kI{constructor(r,i,u,d,f){super(r,"write_stream_connection_backoff","write_stream_idle",i,u,f),this.N=d,this.Rr=!1}get Pr(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.br([])}Er(r){return this.nr.ji("Write",r)}onMessage(r){if(dt(!!r.streamToken),this.lastStreamToken=r.streamToken,this.Rr){this.rr.reset();const i=function(s,r){return s&&s.length>0?(dt(void 0!==r),s.map(i=>function(u,d){let f=cr(u.updateTime?u.updateTime:d);return f.isEqual(At.min())&&(f=cr(d)),new DA(f,u.transformResults||[])}(i,r))):[]}(r.writeResults,r.commitTime),u=cr(r.commitTime);return this.listener.vr(u,i)}return dt(!r.writeResults||0===r.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const r={};r.database=oh(this.N),this.wr(r)}br(r){const i={streamToken:this.lastStreamToken,writes:r.map(u=>$g(this.N,u))};this.wr(i)}}class LD extends class{}{constructor(r,i,u){super(),this.credentials=r,this.nr=i,this.N=u,this.Dr=!1}Cr(){if(this.Dr)throw new Fe(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}Li(r,i,u){return this.Cr(),this.credentials.getToken().then(d=>this.nr.Li(r,i,u,d)).catch(d=>{throw"FirebaseError"===d.name?(d.code===Ie.UNAUTHENTICATED&&this.credentials.invalidateToken(),d):new Fe(Ie.UNKNOWN,d.toString())})}Ki(r,i,u){return this.Cr(),this.credentials.getToken().then(d=>this.nr.Ki(r,i,u,d)).catch(d=>{throw"FirebaseError"===d.name?(d.code===Ie.UNAUTHENTICATED&&this.credentials.invalidateToken(),d):new Fe(Ie.UNKNOWN,d.toString())})}terminate(){this.Dr=!0}}class xA{constructor(r,i){this.asyncQueue=r,this.onlineStateHandler=i,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(r){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${r.toString()}`),this.Fr("Offline")))}set(r){this.Br(),this.Nr=0,"Online"===r&&(this.$r=!1),this.Fr(r)}Fr(r){r!==this.state&&(this.state=r,this.onlineStateHandler(r))}Mr(r){const i=`Could not reach Cloud Firestore backend. ${r}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?($n(i),this.$r=!1):We("OnlineStateTracker",i)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class FI{constructor(r,i,u,d,f){var E=this;this.localStore=r,this.datastore=i,this.asyncQueue=u,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=f,this.Qr.Ei(w=>{u.enqueueAndForget((0,be.Z)(function*(){var A;tu(E)&&(We("RemoteStore","Restarting streams for network reachability change."),yield(A=(0,be.Z)(function*(P){const V=Ge(P);V.Kr.add(4),yield ol(V),V.Wr.set("Unknown"),V.Kr.delete(4),yield _h(V)}),function(P){return A.apply(this,arguments)})(E))}))}),this.Wr=new xA(u,d)}}function _h(s){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,be.Z)(function*(s){if(tu(s))for(const r of s.jr)yield r(!0)})).apply(this,arguments)}function ol(s){return LI.apply(this,arguments)}function LI(){return(LI=(0,be.Z)(function*(s){for(const r of s.jr)yield r(!1)})).apply(this,arguments)}function Os(s,r){const i=Ge(s);i.qr.has(r.targetId)||(i.qr.set(r.targetId,r),W_(i)?$_(i):vh(i).cr()&&ep(i,r))}function bc(s,r){const i=Ge(s),u=vh(i);i.qr.delete(r),u.cr()&&VD(i,r),0===i.qr.size&&(u.cr()?u.lr():tu(i)&&i.Wr.set("Unknown"))}function ep(s,r){s.Gr.Y(r.targetId),vh(s).Ir(r)}function VD(s,r){s.Gr.Y(r),vh(s).Ar(r)}function $_(s){s.Gr=new iI({getRemoteKeysForTarget:r=>s.remoteSyncer.getRemoteKeysForTarget(r),Et:r=>s.qr.get(r)||null}),vh(s).start(),s.Wr.Or()}function W_(s){return tu(s)&&!vh(s).ar()&&s.qr.size>0}function tu(s){return 0===Ge(s).Kr.size}function G_(s){s.Gr=void 0}function VI(s){return mm.apply(this,arguments)}function mm(){return(mm=(0,be.Z)(function*(s){s.qr.forEach((r,i)=>{ep(s,r)})})).apply(this,arguments)}function UD(s,r){return q_.apply(this,arguments)}function q_(){return(q_=(0,be.Z)(function*(s,r){G_(s),W_(s)?(s.Wr.Lr(r),$_(s)):s.Wr.set("Unknown")})).apply(this,arguments)}function tp(s,r,i){return np.apply(this,arguments)}function np(){return(np=(0,be.Z)(function*(s,r,i){if(s.Wr.set("Online"),r instanceof m_&&2===r.state&&r.cause)try{yield(u=(0,be.Z)(function*(d,f){const E=f.cause;for(const w of f.targetIds)d.qr.has(w)&&(yield d.remoteSyncer.rejectListen(w,E),d.qr.delete(w),d.Gr.removeTarget(w))}),function(d,f){return u.apply(this,arguments)})(s,r)}catch(u){We("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),u),yield rp(s,u)}else if(r instanceof fc?s.Gr.rt(r):r instanceof rI?s.Gr.ft(r):s.Gr.ct(r),!i.isEqual(At.min()))try{const u=yield bI(s.localStore);i.compareTo(u)>=0&&(yield function(d,f){const E=d.Gr._t(f);return E.targetChanges.forEach((w,A)=>{if(w.resumeToken.approximateByteSize()>0){const P=d.qr.get(A);P&&d.qr.set(A,P.withResumeToken(w.resumeToken,f))}}),E.targetMismatches.forEach(w=>{const A=d.qr.get(w);if(!A)return;d.qr.set(w,A.withResumeToken(Tr.EMPTY_BYTE_STRING,A.snapshotVersion)),VD(d,w);const P=new Ka(A.target,w,1,A.sequenceNumber);ep(d,P)}),d.remoteSyncer.applyRemoteEvent(E)}(s,i))}catch(u){We("RemoteStore","Failed to raise snapshot:",u),yield rp(s,u)}var u})).apply(this,arguments)}function rp(s,r,i){return ym.apply(this,arguments)}function ym(){return(ym=(0,be.Z)(function*(s,r,i){if(!uh(r))throw r;s.Kr.add(1),yield ol(s),s.Wr.set("Offline"),i||(i=()=>bI(s.localStore)),s.asyncQueue.enqueueRetryable((0,be.Z)(function*(){We("RemoteStore","Retrying IndexedDB access"),yield i(),s.Kr.delete(1),yield _h(s)}))})).apply(this,arguments)}function z_(s,r){return r().catch(i=>rp(s,i,r))}function Dc(s){return K_.apply(this,arguments)}function K_(){return(K_=(0,be.Z)(function*(s){const r=Ge(s),i=Pr(r);let u=r.Ur.length>0?r.Ur[r.Ur.length-1].batchId:-1;for(;UI(r);)try{const d=yield MD(r.localStore,u);if(null===d){0===r.Ur.length&&i.lr();break}u=d.batchId,jD(r,d)}catch(d){yield rp(r,d)}jI(r)&&_m(r)})).apply(this,arguments)}function UI(s){return tu(s)&&s.Ur.length<10}function jD(s,r){s.Ur.push(r);const i=Pr(s);i.cr()&&i.Pr&&i.br(r.mutations)}function jI(s){return tu(s)&&!Pr(s).ar()&&s.Ur.length>0}function _m(s){Pr(s).start()}function MA(s){return vm.apply(this,arguments)}function vm(){return(vm=(0,be.Z)(function*(s){Pr(s).Sr()})).apply(this,arguments)}function BD(s){return Z_.apply(this,arguments)}function Z_(){return(Z_=(0,be.Z)(function*(s){const r=Pr(s);for(const i of s.Ur)r.br(i.mutations)})).apply(this,arguments)}function OA(s,r,i){return BI.apply(this,arguments)}function BI(){return(BI=(0,be.Z)(function*(s,r,i){const u=s.Ur.shift(),d=N_.from(u,r,i);yield z_(s,()=>s.remoteSyncer.applySuccessfulWrite(d)),yield Dc(s)})).apply(this,arguments)}function Q_(s,r){return Y_.apply(this,arguments)}function Y_(){return(Y_=(0,be.Z)(function*(s,r){var i;r&&Pr(s).Pr&&(yield(i=(0,be.Z)(function*(u,d){if(Fg(f=d.code)&&f!==Ie.ABORTED){const E=u.Ur.shift();Pr(u).hr(),yield z_(u,()=>u.remoteSyncer.rejectFailedWrite(E.batchId,d)),yield Dc(u)}var f}),function(u,d){return i.apply(this,arguments)})(s,r)),jI(s)&&_m(s)})).apply(this,arguments)}function Em(s,r){return Cm.apply(this,arguments)}function Cm(){return(Cm=(0,be.Z)(function*(s,r){const i=Ge(s);r?(i.Kr.delete(2),yield _h(i)):r||(i.Kr.add(2),yield ol(i),i.Wr.set("Unknown"))})).apply(this,arguments)}function vh(s){return s.zr||(s.zr=function(r,i,u){const d=Ge(r);return d.Cr(),new kD(i,d.nr,d.credentials,d.N,u)}(s.datastore,s.asyncQueue,{Si:VI.bind(null,s),Ci:UD.bind(null,s),Tr:tp.bind(null,s)}),s.jr.push(function(){var r=(0,be.Z)(function*(i){i?(s.zr.hr(),W_(s)?$_(s):s.Wr.set("Unknown")):(yield s.zr.stop(),G_(s))});return function(i){return r.apply(this,arguments)}}())),s.zr}function Pr(s){return s.Hr||(s.Hr=function(r,i,u){const d=Ge(r);return d.Cr(),new FD(i,d.nr,d.credentials,d.N,u)}(s.datastore,s.asyncQueue,{Si:MA.bind(null,s),Ci:Q_.bind(null,s),Vr:BD.bind(null,s),vr:OA.bind(null,s)}),s.jr.push(function(){var r=(0,be.Z)(function*(i){i?(s.Hr.hr(),yield Dc(s)):(yield s.Hr.stop(),s.Ur.length>0&&(We("RemoteStore",`Stopping write stream with ${s.Ur.length} pending writes`),s.Ur=[]))});return function(i){return r.apply(this,arguments)}}())),s.Hr}class HI{constructor(r,i,u,d,f){this.asyncQueue=r,this.timerId=i,this.targetTimeMs=u,this.op=d,this.removalCallback=f,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}static createAndSchedule(r,i,u,d,f){const E=Date.now()+u,w=new HI(r,i,E,d,f);return w.start(u),w}start(r){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),r)}skipDelay(){return this.handleDelayElapsed()}cancel(r){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(Ie.CANCELLED,"Operation cancelled"+(r?": "+r:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(r=>this.deferred.resolve(r))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ip(s,r){if($n("AsyncQueue",`${r}: ${s}`),uh(s))return new Fe(Ie.UNAVAILABLE,`${r}: ${s}`);throw s}class Eh{constructor(r){this.comparator=r?(i,u)=>r(i,u)||nt.comparator(i.key,u.key):(i,u)=>nt.comparator(i.key,u.key),this.keyedMap=Uf(),this.sortedSet=new Mr(this.comparator)}static emptySet(r){return new Eh(r.comparator)}has(r){return null!=this.keyedMap.get(r)}get(r){return this.keyedMap.get(r)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(r){const i=this.keyedMap.get(r);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(r){this.sortedSet.inorderTraversal((i,u)=>(r(i),!1))}add(r){const i=this.delete(r.key);return i.copy(i.keyedMap.insert(r.key,r),i.sortedSet.insert(r,null))}delete(r){const i=this.get(r);return i?this.copy(this.keyedMap.remove(r),this.sortedSet.remove(i)):this}isEqual(r){if(!(r instanceof Eh)||this.size!==r.size)return!1;const i=this.sortedSet.getIterator(),u=r.sortedSet.getIterator();for(;i.hasNext();){const d=i.getNext().key,f=u.getNext().key;if(!d.isEqual(f))return!1}return!0}toString(){const r=[];return this.forEach(i=>{r.push(i.toString())}),0===r.length?"DocumentSet ()":"DocumentSet (\n  "+r.join("  \n")+"\n)"}copy(r,i){const u=new Eh;return u.comparator=this.comparator,u.keyedMap=r,u.sortedSet=i,u}}class J_{constructor(){this.Jr=new Mr(nt.comparator)}track(r){const i=r.doc.key,u=this.Jr.get(i);u?0!==r.type&&3===u.type?this.Jr=this.Jr.insert(i,r):3===r.type&&1!==u.type?this.Jr=this.Jr.insert(i,{type:u.type,doc:r.doc}):2===r.type&&2===u.type?this.Jr=this.Jr.insert(i,{type:2,doc:r.doc}):2===r.type&&0===u.type?this.Jr=this.Jr.insert(i,{type:0,doc:r.doc}):1===r.type&&0===u.type?this.Jr=this.Jr.remove(i):1===r.type&&2===u.type?this.Jr=this.Jr.insert(i,{type:1,doc:u.doc}):0===r.type&&1===u.type?this.Jr=this.Jr.insert(i,{type:2,doc:r.doc}):st():this.Jr=this.Jr.insert(i,r)}Yr(){const r=[];return this.Jr.inorderTraversal((i,u)=>{r.push(u)}),r}}class Tc{constructor(r,i,u,d,f,E,w,A){this.query=r,this.docs=i,this.oldDocs=u,this.docChanges=d,this.mutatedKeys=f,this.fromCache=E,this.syncStateChanged=w,this.excludesMetadataChanges=A}static fromInitialDocuments(r,i,u,d){const f=[];return i.forEach(E=>{f.push({type:0,doc:E})}),new Tc(r,i,Eh.emptySet(i),f,u,d,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(r){if(!(this.fromCache===r.fromCache&&this.syncStateChanged===r.syncStateChanged&&this.mutatedKeys.isEqual(r.mutatedKeys)&&L(this.query,r.query)&&this.docs.isEqual(r.docs)&&this.oldDocs.isEqual(r.oldDocs)))return!1;const i=this.docChanges,u=r.docChanges;if(i.length!==u.length)return!1;for(let d=0;d<i.length;d++)if(i[d].type!==u[d].type||!i[d].doc.isEqual(u[d].doc))return!1;return!0}}class $I{constructor(){this.Xr=void 0,this.listeners=[]}}class WI{constructor(){this.queries=new Ic(r=>ee(r),L),this.onlineState="Unknown",this.Zr=new Set}}function X_(s,r){return Im.apply(this,arguments)}function Im(){return(Im=(0,be.Z)(function*(s,r){const i=Ge(s),u=r.query;let d=!1,f=i.queries.get(u);if(f||(d=!0,f=new $I),d)try{f.Xr=yield i.onListen(u)}catch(E){const w=ip(E,`Initialization of query '${De(r.query)}' failed`);return void r.onError(w)}i.queries.set(u,f),f.listeners.push(r),r.eo(i.onlineState),f.Xr&&r.no(f.Xr)&&nv(i)})).apply(this,arguments)}function sp(s,r){return ev.apply(this,arguments)}function ev(){return(ev=(0,be.Z)(function*(s,r){const i=Ge(s),u=r.query;let d=!1;const f=i.queries.get(u);if(f){const E=f.listeners.indexOf(r);E>=0&&(f.listeners.splice(E,1),d=0===f.listeners.length)}if(d)return i.queries.delete(u),i.onUnlisten(u)})).apply(this,arguments)}function tv(s,r){const i=Ge(s);let u=!1;for(const d of r){const E=i.queries.get(d.query);if(E){for(const w of E.listeners)w.no(d)&&(u=!0);E.Xr=d}}u&&nv(i)}function HD(s,r,i){const u=Ge(s),d=u.queries.get(r);if(d)for(const f of d.listeners)f.onError(i);u.queries.delete(r)}function nv(s){s.Zr.forEach(r=>{r.next()})}class rv{constructor(r,i,u){this.query=r,this.so=i,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=u||{}}no(r){if(!this.options.includeMetadataChanges){const u=[];for(const d of r.docChanges)3!==d.type&&u.push(d);r=new Tc(r.query,r.docs,r.oldDocs,u,r.mutatedKeys,r.fromCache,r.syncStateChanged,!0)}let i=!1;return this.io?this.oo(r)&&(this.so.next(r),i=!0):this.ao(r,this.onlineState)&&(this.co(r),i=!0),this.ro=r,i}onError(r){this.so.error(r)}eo(r){this.onlineState=r;let i=!1;return this.ro&&!this.io&&this.ao(this.ro,r)&&(this.co(this.ro),i=!0),i}ao(r,i){return!r.fromCache||!(this.options.uo&&"Offline"!==i||r.docs.isEmpty()&&"Offline"!==i)}oo(r){return r.docChanges.length>0||!!(r.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==r.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(r){r=Tc.fromInitialDocuments(r.query,r.docs,r.mutatedKeys,r.fromCache),this.io=!0,this.so.next(r)}}class $D{constructor(r,i){this.payload=r,this.byteLength=i}ho(){return"metadata"in this.payload}}class GI{constructor(r){this.N=r}zn(r){return ua(this.N,r)}Hn(r){return r.metadata.exists?oI(this.N,r.document,!1):Ft.newNoDocument(this.zn(r.metadata.name),this.Jn(r.metadata.readTime))}Jn(r){return cr(r)}}class qI{constructor(r,i,u){this.lo=r,this.localStore=i,this.N=u,this.queries=[],this.documents=[],this.progress=op(r)}fo(r){this.progress.bytesLoaded+=r.byteLength;let i=this.progress.documentsLoaded;return r.payload.namedQuery?this.queries.push(r.payload.namedQuery):r.payload.documentMetadata?(this.documents.push({metadata:r.payload.documentMetadata}),r.payload.documentMetadata.exists||++i):r.payload.document&&(this.documents[this.documents.length-1].document=r.payload.document,++i),i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}wo(r){const i=new Map,u=new GI(this.N);for(const d of r)if(d.metadata.queries){const f=u.zn(d.metadata.name);for(const E of d.metadata.queries){const w=(i.get(E)||fn()).add(f);i.set(E,w)}}return i}complete(){var r=this;return(0,be.Z)(function*(){const i=yield function(s,r,i,u){return Yf.apply(this,arguments)}(r.localStore,new GI(r.N),r.documents,r.lo.id),u=r.wo(r.documents);for(const d of r.queries)yield RA(r.localStore,d,u.get(d.name));return r.progress.taskState="Success",new CI(Object.assign({},r.progress),i)})()}}function op(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class Sc{constructor(r){this.key=r}}class wm{constructor(r){this.key=r}}class os{constructor(r,i){this.query=r,this._o=i,this.mo=null,this.current=!1,this.yo=fn(),this.mutatedKeys=fn(),this.po=rt(r),this.Eo=new Eh(this.po)}get To(){return this._o}Io(r,i){const u=i?i.Ao:new J_,d=i?i.Eo:this.Eo;let f=i?i.mutatedKeys:this.mutatedKeys,E=d,w=!1;const A=Xd(this.query)&&d.size===this.query.limit?d.last():null,P=eh(this.query)&&d.size===this.query.limit?d.first():null;if(r.inorderTraversal((V,W)=>{const ue=d.get(V),pe=He(this.query,W)?W:null,Ue=!!ue&&this.mutatedKeys.has(ue.key),Ke=!!pe&&(pe.hasLocalMutations||this.mutatedKeys.has(pe.key)&&pe.hasCommittedMutations);let ut=!1;ue&&pe?ue.data.isEqual(pe.data)?Ue!==Ke&&(u.track({type:3,doc:pe}),ut=!0):this.Ro(ue,pe)||(u.track({type:2,doc:pe}),ut=!0,(A&&this.po(pe,A)>0||P&&this.po(pe,P)<0)&&(w=!0)):!ue&&pe?(u.track({type:0,doc:pe}),ut=!0):ue&&!pe&&(u.track({type:1,doc:ue}),ut=!0,(A||P)&&(w=!0)),ut&&(pe?(E=E.add(pe),f=Ke?f.add(V):f.delete(V)):(E=E.delete(V),f=f.delete(V)))}),Xd(this.query)||eh(this.query))for(;E.size>this.query.limit;){const V=Xd(this.query)?E.last():E.first();E=E.delete(V.key),f=f.delete(V.key),u.track({type:1,doc:V})}return{Eo:E,Ao:u,Ln:w,mutatedKeys:f}}Ro(r,i){return r.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(r,i,u){const d=this.Eo;this.Eo=r.Eo,this.mutatedKeys=r.mutatedKeys;const f=r.Ao.Yr();f.sort((P,V)=>function(W,ue){const pe=Ue=>{switch(Ue){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return pe(W)-pe(ue)}(P.type,V.type)||this.po(P.doc,V.doc)),this.Po(u);const E=i?this.bo():[],w=0===this.yo.size&&this.current?1:0,A=w!==this.mo;return this.mo=w,0!==f.length||A?{snapshot:new Tc(this.query,r.Eo,d,f,r.mutatedKeys,0===w,A,!1),vo:E}:{vo:E}}eo(r){return this.current&&"Offline"===r?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new J_,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(r){return!this._o.has(r)&&!!this.Eo.has(r)&&!this.Eo.get(r).hasLocalMutations}Po(r){r&&(r.addedDocuments.forEach(i=>this._o=this._o.add(i)),r.modifiedDocuments.forEach(i=>{}),r.removedDocuments.forEach(i=>this._o=this._o.delete(i)),this.current=r.current)}bo(){if(!this.current)return[];const r=this.yo;this.yo=fn(),this.Eo.forEach(u=>{this.Vo(u.key)&&(this.yo=this.yo.add(u.key))});const i=[];return r.forEach(u=>{this.yo.has(u)||i.push(new wm(u))}),this.yo.forEach(u=>{r.has(u)||i.push(new Sc(u))}),i}So(r){this._o=r.Gn,this.yo=fn();const i=this.Io(r.documents);return this.applyChanges(i,!0)}Do(){return Tc.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class ap{constructor(r,i,u){this.query=r,this.targetId=i,this.view=u}}class WD{constructor(r){this.key=r,this.Co=!1}}class GD{constructor(r,i,u,d,f,E){this.localStore=r,this.remoteStore=i,this.eventManager=u,this.sharedClientState=d,this.currentUser=f,this.maxConcurrentLimboResolutions=E,this.No={},this.xo=new Ic(w=>ee(w),L),this.ko=new Map,this.$o=new Set,this.Oo=new Mr(nt.comparator),this.Fo=new Map,this.Mo=new lm,this.Lo={},this.Bo=new Map,this.Uo=el.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function iv(s,r){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,be.Z)(function*(s,r){const i=cv(s);let u,d;const f=i.xo.get(r);if(f)u=f.targetId,i.sharedClientState.addLocalQueryTarget(u),d=f.view.Do();else{const E=yield gh(i.localStore,b(r)),w=i.sharedClientState.addLocalQueryTarget(E.targetId);u=E.targetId,d=yield Ac(i,r,u,"current"===w),i.isPrimaryClient&&Os(i.remoteStore,E)}return d})).apply(this,arguments)}function Ac(s,r,i,u){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,be.Z)(function*(s,r,i,u){s.Ko=(V,W,ue)=>{return(pe=(0,be.Z)(function*(Ue,Ke,ut,on){let Sn=Ke.view.Io(ut);Sn.Ln&&(Sn=yield om(Ue.localStore,Ke.query,!1).then(({documents:ds})=>Ke.view.Io(ds,Sn)));const $t=on&&on.targetChanges.get(Ke.targetId),kn=Ke.view.applyChanges(Sn,Ue.isPrimaryClient,$t);return hp(Ue,Ke.targetId,kn.vo),kn.snapshot}),function(Ue,Ke,ut,on){return pe.apply(this,arguments)})(s,V,W,ue);var pe};const d=yield om(s.localStore,r,!0),f=new os(r,d.Gn),E=f.Io(d.documents),w=Bf.createSynthesizedTargetChangeForCurrentChange(i,u&&"Offline"!==s.onlineState),A=f.applyChanges(E,s.isPrimaryClient,w);hp(s,i,A.vo);const P=new ap(r,i,f);return s.xo.set(r,P),s.ko.has(i)?s.ko.get(i).push(r):s.ko.set(i,[r]),A.snapshot})).apply(this,arguments)}function Nc(s,r){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,be.Z)(function*(s,r){const i=Ge(s),u=i.xo.get(r),d=i.ko.get(u.targetId);if(d.length>1)return i.ko.set(u.targetId,d.filter(f=>!L(f,r))),void i.xo.delete(r);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(u.targetId),i.sharedClientState.isActiveQueryTarget(u.targetId)||(yield Ja(i.localStore,u.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(u.targetId),bc(i.remoteStore,u.targetId),dl(i,u.targetId)}).catch(nl))):(dl(i,u.targetId),yield Ja(i.localStore,u.targetId,!0))})).apply(this,arguments)}function up(){return(up=(0,be.Z)(function*(s,r,i){const u=dv(s);try{const d=yield function(f,E){const w=Ge(f),A=ar.now(),P=E.reduce((W,ue)=>W.add(ue.key),fn());let V;return w.persistence.runTransaction("Locally write mutations","readwrite",W=>w.Qn.bn(W,P).next(ue=>{V=ue;const pe=[];for(const Ue of E){const Ke=hD(Ue,V.get(Ue.key));null!=Ke&&pe.push(new aa(Ue.key,Ke,ac(Ke.value.mapValue),vr.exists(!0)))}return w.In.addMutationBatch(W,A,pe,E)})).then(W=>(W.applyToLocalDocumentSet(V),{batchId:W.batchId,changes:V}))}(u.localStore,r);u.sharedClientState.addPendingMutation(d.batchId),function(f,E,w){let A=f.Lo[f.currentUser.toKey()];A||(A=new Mr(yt)),A=A.insert(E,w),f.Lo[f.currentUser.toKey()]=A}(u,d.batchId,i),yield nu(u,d.changes),yield Dc(u.remoteStore)}catch(d){const f=ip(d,"Failed to persist write");i.reject(f)}})).apply(this,arguments)}function Rc(s,r){return al.apply(this,arguments)}function al(){return(al=(0,be.Z)(function*(s,r){const i=Ge(s);try{const u=yield xD(i.localStore,r);r.targetChanges.forEach((d,f)=>{const E=i.Fo.get(f);E&&(dt(d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size<=1),d.addedDocuments.size>0?E.Co=!0:d.modifiedDocuments.size>0?dt(E.Co):d.removedDocuments.size>0&&(dt(E.Co),E.Co=!1))}),yield nu(i,u,r)}catch(u){yield nl(u)}})).apply(this,arguments)}function xc(s,r,i){const u=Ge(s);if(u.isPrimaryClient&&0===i||!u.isPrimaryClient&&1===i){const d=[];u.xo.forEach((f,E)=>{const w=E.view.eo(r);w.snapshot&&d.push(w.snapshot)}),function(f,E){const w=Ge(f);w.onlineState=E;let A=!1;w.queries.forEach((P,V)=>{for(const W of V.listeners)W.eo(E)&&(A=!0)}),A&&nv(w)}(u.eventManager,r),d.length&&u.No.Tr(d),u.onlineState=r,u.isPrimaryClient&&u.sharedClientState.setOnlineState(r)}}function Ih(s,r,i){return ul.apply(this,arguments)}function ul(){return(ul=(0,be.Z)(function*(s,r,i){const u=Ge(s);u.sharedClientState.updateQueryState(r,"rejected",i);const d=u.Fo.get(r),f=d&&d.key;if(f){let E=new Mr(nt.comparator);E=E.insert(f,Ft.newNoDocument(f,At.min()));const w=fn().add(f),A=new sh(At.min(),new Map,new lr(yt),E,w);yield Rc(u,A),u.Oo=u.Oo.remove(f),u.Fo.delete(r),fp(u)}else yield Ja(u.localStore,r,!1).then(()=>dl(u,r,i)).catch(nl)})).apply(this,arguments)}function wh(s,r){return ll.apply(this,arguments)}function ll(){return(ll=(0,be.Z)(function*(s,r){const i=Ge(s),u=r.batch.batchId;try{const d=yield RD(i.localStore,r);dp(i,u,null),cp(i,u),i.sharedClientState.updateMutationState(u,"acknowledged"),yield nu(i,d)}catch(d){yield nl(d)}})).apply(this,arguments)}function bh(s,r,i){return cl.apply(this,arguments)}function cl(){return(cl=(0,be.Z)(function*(s,r,i){const u=Ge(s);try{const d=yield function(f,E){const w=Ge(f);return w.persistence.runTransaction("Reject batch","readwrite-primary",A=>{let P;return w.In.lookupMutationBatch(A,E).next(V=>(dt(null!==V),P=V.keys(),w.In.removeMutationBatch(A,V))).next(()=>w.In.performConsistencyCheck(A)).next(()=>w.Qn.bn(A,P))})}(u.localStore,r);dp(u,r,i),cp(u,r),u.sharedClientState.updateMutationState(r,"rejected",i),yield nu(u,d)}catch(d){yield nl(d)}})).apply(this,arguments)}function lp(){return(lp=(0,be.Z)(function*(s,r){const i=Ge(s);tu(i.remoteStore)||We("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const u=yield function(f){const E=Ge(f);return E.persistence.runTransaction("Get highest unacknowledged batch id","readonly",w=>E.In.getHighestUnacknowledgedBatchId(w))}(i.localStore);if(-1===u)return void r.resolve();const d=i.Bo.get(u)||[];d.push(r),i.Bo.set(u,d)}catch(u){const d=ip(u,"Initialization of waitForPendingWrites() operation failed");r.reject(d)}})).apply(this,arguments)}function cp(s,r){(s.Bo.get(r)||[]).forEach(i=>{i.resolve()}),s.Bo.delete(r)}function dp(s,r,i){const u=Ge(s);let d=u.Lo[u.currentUser.toKey()];if(d){const f=d.get(r);f&&(i?f.reject(i):f.resolve(),d=d.remove(r)),u.Lo[u.currentUser.toKey()]=d}}function dl(s,r,i=null){s.sharedClientState.removeLocalQueryTarget(r);for(const u of s.ko.get(r))s.xo.delete(u),i&&s.No.jo(u,i);s.ko.delete(r),s.isPrimaryClient&&s.Mo.cs(r).forEach(u=>{s.Mo.containsKey(u)||bm(s,u)})}function bm(s,r){s.$o.delete(r.path.canonicalString());const i=s.Oo.get(r);null!==i&&(bc(s.remoteStore,i),s.Oo=s.Oo.remove(r),s.Fo.delete(i),fp(s))}function hp(s,r,i){for(const u of i)u instanceof Sc?(s.Mo.addReference(u.key,r),ov(s,u)):u instanceof wm?(We("SyncEngine","Document no longer in limbo: "+u.key),s.Mo.removeReference(u.key,r),s.Mo.containsKey(u.key)||bm(s,u.key)):st()}function ov(s,r){const i=r.key,u=i.path.canonicalString();s.Oo.get(i)||s.$o.has(u)||(We("SyncEngine","New document in limbo: "+i),s.$o.add(u),fp(s))}function fp(s){for(;s.$o.size>0&&s.Oo.size<s.maxConcurrentLimboResolutions;){const r=s.$o.values().next().value;s.$o.delete(r);const i=new nt(Zt.fromString(r)),u=s.Uo.next();s.Fo.set(u,new WD(i)),s.Oo=s.Oo.insert(i,u),Os(s.remoteStore,new Ka(b(Ju(i.path)),u,2,_i.T))}}function nu(s,r,i){return Dm.apply(this,arguments)}function Dm(){return(Dm=(0,be.Z)(function*(s,r,i){const u=Ge(s),d=[],f=[],E=[];var w;u.xo.isEmpty()||(u.xo.forEach((w,A)=>{E.push(u.Ko(A,r,i).then(P=>{if(P){u.isPrimaryClient&&u.sharedClientState.updateQueryState(A.targetId,P.fromCache?"not-current":"current"),d.push(P);const V=Ms.kn(A.targetId,P);f.push(V)}}))}),yield Promise.all(E),u.No.Tr(d),yield(w=(0,be.Z)(function*(A,P){const V=Ge(A);try{yield V.persistence.runTransaction("notifyLocalViewChanges","readwrite",W=>Ve.forEach(P,ue=>Ve.forEach(ue.Nn,pe=>V.persistence.referenceDelegate.addReference(W,ue.targetId,pe)).next(()=>Ve.forEach(ue.xn,pe=>V.persistence.referenceDelegate.removeReference(W,ue.targetId,pe)))))}catch(W){if(!uh(W))throw W;We("LocalStore","Failed to update sequence numbers: "+W)}for(const W of P){const ue=W.targetId;if(!W.fromCache){const pe=V.Un.get(ue),Ke=pe.withLastLimboFreeSnapshotVersion(pe.snapshotVersion);V.Un=V.Un.insert(ue,Ke)}}}),function(A,P){return w.apply(this,arguments)})(u.localStore,f))})).apply(this,arguments)}function zI(s,r){return Tm.apply(this,arguments)}function Tm(){return(Tm=(0,be.Z)(function*(s,r){const i=Ge(s);if(!i.currentUser.isEqual(r)){We("SyncEngine","User change. New user:",r.toKey());const u=yield ND(i.localStore,r);i.currentUser=r,(d=i).Bo.forEach(E=>{E.forEach(w=>{w.reject(new Fe(Ie.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.Bo.clear(),i.sharedClientState.handleUserChange(r,u.removedBatchIds,u.addedBatchIds),yield nu(i,u.Wn)}var d})).apply(this,arguments)}function KI(s,r){const i=Ge(s),u=i.Fo.get(r);if(u&&u.Co)return fn().add(u.key);{let d=fn();const f=i.ko.get(r);if(!f)return d;for(const E of f){const w=i.xo.get(E);d=d.unionWith(w.view.To)}return d}}function qD(s,r){return ZI.apply(this,arguments)}function ZI(){return(ZI=(0,be.Z)(function*(s,r){const i=Ge(s),u=yield om(i.localStore,r.query,!0),d=r.view.So(u);return i.isPrimaryClient&&hp(i,r.targetId,d.vo),d})).apply(this,arguments)}function zD(s){return Sm.apply(this,arguments)}function Sm(){return(Sm=(0,be.Z)(function*(s){const r=Ge(s);return um(r.localStore).then(i=>nu(r,i))})).apply(this,arguments)}function KD(s,r,i,u){return Am.apply(this,arguments)}function Am(){return(Am=(0,be.Z)(function*(s,r,i,u){const d=Ge(s),f=yield function(E,w){const A=Ge(E),P=Ge(A.In);return A.persistence.runTransaction("Lookup mutation documents","readonly",V=>P.Xt(V,w).next(W=>W?A.Qn.bn(V,W):Ve.resolve(null)))}(d.localStore,r);var w;null!==f?("pending"===i?yield Dc(d.remoteStore):"acknowledged"===i||"rejected"===i?(dp(d,r,u||null),cp(d,r),w=r,Ge(Ge(d.localStore).In).te(w)):st(),yield nu(d,f)):We("SyncEngine","Cannot apply mutation batch with id: "+r)})).apply(this,arguments)}function av(){return(av=(0,be.Z)(function*(s,r){const i=Ge(s);if(cv(i),dv(i),!0===r&&!0!==i.qo){const u=i.sharedClientState.getAllActiveQueryTargets(),d=yield QD(i,u.toArray());i.qo=!0,yield Em(i.remoteStore,!0);for(const f of d)Os(i.remoteStore,f)}else if(!1===r&&!1!==i.qo){const u=[];let d=Promise.resolve();i.ko.forEach((f,E)=>{i.sharedClientState.isLocalQueryTarget(E)?u.push(E):d=d.then(()=>(dl(i,E),Ja(i.localStore,E,!0))),bc(i.remoteStore,E)}),yield d,yield QD(i,u),function(f){const E=Ge(f);E.Fo.forEach((w,A)=>{bc(E.remoteStore,A)}),E.Mo.us(),E.Fo=new Map,E.Oo=new Mr(nt.comparator)}(i),i.qo=!1,yield Em(i.remoteStore,!1)}})).apply(this,arguments)}function QD(s,r,i){return uv.apply(this,arguments)}function uv(){return(uv=(0,be.Z)(function*(s,r,i){const u=Ge(s),d=[],f=[];for(const E of r){let w;const A=u.ko.get(E);if(A&&0!==A.length){w=yield gh(u.localStore,b(A[0]));for(const P of A){const V=u.xo.get(P),W=yield qD(u,V);W.snapshot&&f.push(W.snapshot)}}else{const P=yield am(u.localStore,E);w=yield gh(u.localStore,P),yield Ac(u,lv(P),E,!1)}d.push(w)}return u.No.Tr(f),d})).apply(this,arguments)}function lv(s){return cc(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function PA(s){const r=Ge(s);return Ge(Ge(r.localStore).persistence).pn()}function YD(s,r,i,u){return QI.apply(this,arguments)}function QI(){return(QI=(0,be.Z)(function*(s,r,i,u){const d=Ge(s);if(d.qo)We("SyncEngine","Ignoring unexpected query state notification.");else if(d.ko.has(r))switch(i){case"current":case"not-current":{const f=yield um(d.localStore),E=sh.createSynthesizedRemoteEventForCurrentChange(r,"current"===i);yield nu(d,f,E);break}case"rejected":yield Ja(d.localStore,r,!0),dl(d,r,u);break;default:st()}})).apply(this,arguments)}function YI(s,r,i){return JI.apply(this,arguments)}function JI(){return(JI=(0,be.Z)(function*(s,r,i){const u=cv(s);if(u.qo){for(const d of r){if(u.ko.has(d)){We("SyncEngine","Adding an already active target "+d);continue}const f=yield am(u.localStore,d),E=yield gh(u.localStore,f);yield Ac(u,lv(f),E.targetId,!1),Os(u.remoteStore,E)}for(const d of i)u.ko.has(d)&&(yield Ja(u.localStore,d,!1).then(()=>{bc(u.remoteStore,d),dl(u,d)}).catch(nl))}})).apply(this,arguments)}function cv(s){const r=Ge(s);return r.remoteStore.remoteSyncer.applyRemoteEvent=Rc.bind(null,r),r.remoteStore.remoteSyncer.getRemoteKeysForTarget=KI.bind(null,r),r.remoteStore.remoteSyncer.rejectListen=Ih.bind(null,r),r.No.Tr=tv.bind(null,r.eventManager),r.No.jo=HD.bind(null,r.eventManager),r}function dv(s){const r=Ge(s);return r.remoteStore.remoteSyncer.applySuccessfulWrite=wh.bind(null,r),r.remoteStore.remoteSyncer.rejectFailedWrite=bh.bind(null,r),r}class Nm{constructor(){this.synchronizeTabs=!1}initialize(r){var i=this;return(0,be.Z)(function*(){i.N=Xf(r.databaseInfo.databaseId),i.sharedClientState=i.Wo(r),i.persistence=i.Go(r),yield i.persistence.start(),i.gcScheduler=i.zo(r),i.localStore=i.Ho(r)})()}zo(r){return null}Ho(r){return wI(this.persistence,new rm,r.initialUser,this.N)}Go(r){return new NI(xI.Ns,this.N)}Wo(r){return new MI}terminate(){var r=this;return(0,be.Z)(function*(){r.gcScheduler&&r.gcScheduler.stop(),yield r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}class XI extends Nm{constructor(r,i,u){super(),this.Jo=r,this.cacheSizeBytes=i,this.forceOwnership=u,this.synchronizeTabs=!1}initialize(r){var i=()=>super.initialize,u=this;return(0,be.Z)(function*(){yield i().call(u,r),yield function(s){return U_.apply(this,arguments)}(u.localStore),yield u.Jo.initialize(u,r),yield dv(u.Jo.syncEngine),yield Dc(u.Jo.remoteStore),yield u.persistence.nn(()=>(u.gcScheduler&&!u.gcScheduler.started&&u.gcScheduler.start(u.localStore),Promise.resolve()))})()}Ho(r){return wI(this.persistence,new rm,r.initialUser,this.N)}zo(r){return new wD(this.persistence.referenceDelegate.garbageCollector,r.asyncQueue)}Go(r){const i=nm(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey),u=void 0!==this.cacheSizeBytes?Bi.withCacheSize(this.cacheSizeBytes):Bi.DEFAULT;return new em(this.synchronizeTabs,i,r.clientId,u,r.asyncQueue,H_(),gm(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(r){return new MI}}class JD extends XI{constructor(r,i){super(r,i,!1),this.Jo=r,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(r){var i=()=>super.initialize,u=this;return(0,be.Z)(function*(){yield i().call(u,r);const d=u.Jo.syncEngine;u.sharedClientState instanceof pm&&(u.sharedClientState.syncEngine={_i:KD.bind(null,d),mi:YD.bind(null,d),gi:YI.bind(null,d),pn:PA.bind(null,d),wi:zD.bind(null,d)},yield u.sharedClientState.start()),yield u.persistence.nn(function(){var f=(0,be.Z)(function*(E){yield function(s,r){return av.apply(this,arguments)}(u.Jo.syncEngine,E),u.gcScheduler&&(E&&!u.gcScheduler.started?u.gcScheduler.start(u.localStore):E||u.gcScheduler.stop())});return function(E){return f.apply(this,arguments)}}())})()}Wo(r){const i=H_();if(!pm.Pt(i))throw new Fe(Ie.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const u=nm(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey);return new pm(i,r.asyncQueue,u,r.clientId,r.initialUser)}}class fv{initialize(r,i){var u=this;return(0,be.Z)(function*(){u.localStore||(u.localStore=r.localStore,u.sharedClientState=r.sharedClientState,u.datastore=u.createDatastore(i),u.remoteStore=u.createRemoteStore(i),u.eventManager=u.createEventManager(i),u.syncEngine=u.createSyncEngine(i,!r.synchronizeTabs),u.sharedClientState.onlineStateHandler=d=>xc(u.syncEngine,d,1),u.remoteStore.remoteSyncer.handleCredentialChange=zI.bind(null,u.syncEngine),yield Em(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(r){return new WI}createDatastore(r){const i=Xf(r.databaseInfo.databaseId),u=new yh(r.databaseInfo);return new LD(r.credentials,u,i)}createRemoteStore(r){return i=this.localStore,u=this.datastore,d=r.asyncQueue,f=w=>xc(this.syncEngine,w,0),E=OI.Pt()?new OI:new B_,new FI(i,u,d,f,E);var i,u,d,f,E}createSyncEngine(r,i){return function(u,d,f,E,w,A,P){const V=new GD(u,d,f,E,w,A);return P&&(V.qo=!0),V}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,i)}terminate(){return(r=(0,be.Z)(function*(i){const u=Ge(i);We("RemoteStore","RemoteStore shutting down."),u.Kr.add(5),yield ol(u),u.Qr.shutdown(),u.Wr.set("Unknown")}),function(i){return r.apply(this,arguments)})(this.remoteStore);var r}}function e0(s,r=10240){let i=0;return{read:()=>(0,be.Z)(function*(){if(i<s.byteLength){const u={value:s.slice(i,i+r),done:!1};return i+=r,u}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Rm{constructor(r){this.observer=r,this.muted=!1}next(r){this.observer.next&&this.Yo(this.observer.next,r)}error(r){this.observer.error?this.Yo(this.observer.error,r):console.error("Uncaught Error in snapshot listener:",r)}Xo(){this.muted=!0}Yo(r,i){this.muted||setTimeout(()=>{this.muted||r(i)},0)}}class t0{constructor(r,i){this.Zo=r,this.N=i,this.metadata=new or,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(u=>{u&&u.ho()?this.metadata.resolve(u.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==u?void 0:u.payload)}`))},u=>this.metadata.reject(u))}close(){return this.Zo.cancel()}getMetadata(){var r=this;return(0,be.Z)(function*(){return r.metadata.promise})()}Qo(){var r=this;return(0,be.Z)(function*(){return yield r.getMetadata(),r.ea()})()}ea(){var r=this;return(0,be.Z)(function*(){const i=yield r.na();if(null===i)return null;const u=r.ta.decode(i),d=Number(u);isNaN(d)&&r.sa(`length string (${u}) is not valid number`);const f=yield r.ia(d);return new $D(JSON.parse(f),i.length+d)})()}ra(){return this.buffer.findIndex(r=>r==="{".charCodeAt(0))}na(){var r=this;return(0,be.Z)(function*(){for(;r.ra()<0&&!(yield r.oa()););if(0===r.buffer.length)return null;const i=r.ra();i<0&&r.sa("Reached the end of bundle when a length string is expected.");const u=r.buffer.slice(0,i);return r.buffer=r.buffer.slice(i),u})()}ia(r){var i=this;return(0,be.Z)(function*(){for(;i.buffer.length<r;)(yield i.oa())&&i.sa("Reached the end of bundle when more is expected.");const u=i.ta.decode(i.buffer.slice(0,r));return i.buffer=i.buffer.slice(r),u})()}sa(r){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${r}`)}oa(){var r=this;return(0,be.Z)(function*(){const i=yield r.Zo.read();if(!i.done){const u=new Uint8Array(r.buffer.length+i.value.length);u.set(r.buffer),u.set(i.value,r.buffer.length),r.buffer=u}return i.done})()}}class XD{constructor(r){this.datastore=r,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(r){var i=this;return(0,be.Z)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw new Fe(Ie.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const u=yield(d=(0,be.Z)(function*(f,E){const w=Ge(f),A=oh(w.N)+"/documents",P={documents:E.map(pe=>Hf(w.N,pe))},V=yield w.Ki("BatchGetDocuments",A,P),W=new Map;V.forEach(pe=>{const Ue=function(s,r){return"found"in r?function(i,u){dt(!!u.found);const d=ua(i,u.found.name),f=cr(u.found.updateTime),E=new kt({mapValue:{fields:u.found.fields}});return Ft.newFoundDocument(d,f,E)}(s,r):"missing"in r?function(i,u){dt(!!u.missing),dt(!!u.readTime);const d=ua(i,u.missing),f=cr(u.readTime);return Ft.newNoDocument(d,f)}(s,r):st()}(w.N,pe);W.set(Ue.key.toString(),Ue)});const ue=[];return E.forEach(pe=>{const Ue=W.get(pe.toString());dt(!!Ue),ue.push(Ue)}),ue}),function(f,E){return d.apply(this,arguments)})(i.datastore,r);var d;return u.forEach(d=>i.recordVersion(d)),u})()}set(r,i){this.write(i.toMutation(r,this.precondition(r))),this.writtenDocs.add(r.toString())}update(r,i){try{this.write(i.toMutation(r,this.preconditionForUpdate(r)))}catch(u){this.lastWriteError=u}this.writtenDocs.add(r.toString())}delete(r){this.write(new kg(r,this.precondition(r))),this.writtenDocs.add(r.toString())}commit(){var r=this;return(0,be.Z)(function*(){if(r.ensureCommitNotCalled(),r.lastWriteError)throw r.lastWriteError;const i=r.readVersions;var u;r.mutations.forEach(u=>{i.delete(u.key.toString())}),i.forEach((u,d)=>{const f=nt.fromPath(d);r.mutations.push(new Xu(f,r.precondition(f)))}),yield(u=(0,be.Z)(function*(d,f){const E=Ge(d),w=oh(E.N)+"/documents",A={writes:f.map(P=>$g(E.N,P))};yield E.Li("Commit",w,A)}),function(d,f){return u.apply(this,arguments)})(r.datastore,r.mutations),r.committed=!0})()}recordVersion(r){let i;if(r.isFoundDocument())i=r.version;else{if(!r.isNoDocument())throw st();i=At.min()}const u=this.readVersions.get(r.key.toString());if(u){if(!i.isEqual(u))throw new Fe(Ie.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(r.key.toString(),i)}precondition(r){const i=this.readVersions.get(r.toString());return!this.writtenDocs.has(r.toString())&&i?vr.updateTime(i):vr.none()}preconditionForUpdate(r){const i=this.readVersions.get(r.toString());if(!this.writtenDocs.has(r.toString())&&i){if(i.isEqual(At.min()))throw new Fe(Ie.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vr.updateTime(i)}return vr.exists(!0)}write(r){this.ensureCommitNotCalled(),this.mutations.push(r)}ensureCommitNotCalled(){}}class eT{constructor(r,i,u,d){this.asyncQueue=r,this.datastore=i,this.updateFunction=u,this.deferred=d,this.aa=5,this.rr=new sl(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var r=this;this.rr.Xi((0,be.Z)(function*(){const i=new XD(r.datastore),u=r.ua(i);u&&u.then(d=>{r.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{r.deferred.resolve(d)}).catch(f=>{r.ha(f)}))}).catch(d=>{r.ha(d)})}))}ua(r){try{const i=this.updateFunction(r);return!Wu(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}ha(r){this.aa>0&&this.la(r)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(r)}la(r){if("FirebaseError"===r.name){const i=r.code;return"aborted"===i||"failed-precondition"===i||!Fg(i)}return!1}}class ru{constructor(r,i,u){var d=this;this.credentials=r,this.asyncQueue=i,this.databaseInfo=u,this.user=Nr.UNAUTHENTICATED,this.clientId=Tg.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(i,function(){var f=(0,be.Z)(function*(E){We("FirestoreClient","Received user=",E.uid),yield d.credentialListener(E),d.user=E});return function(E){return f.apply(this,arguments)}}())}getConfiguration(){var r=this;return(0,be.Z)(function*(){return{asyncQueue:r.asyncQueue,databaseInfo:r.databaseInfo,clientId:r.clientId,credentials:r.credentials,initialUser:r.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(r){this.credentialListener=r}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(Ie.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var r=this;this.asyncQueue.enterRestrictedMode();const i=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{r.onlineComponents&&(yield r.onlineComponents.terminate()),r.offlineComponents&&(yield r.offlineComponents.terminate()),r.credentials.shutdown(),i.resolve()}catch(u){const d=ip(u,"Failed to shutdown persistence");i.reject(d)}})),i.promise}}function n0(s,r){return xm.apply(this,arguments)}function xm(){return(xm=(0,be.Z)(function*(s,r){s.asyncQueue.verifyOperationInProgress(),We("FirestoreClient","Initializing OfflineComponentProvider");const i=yield s.getConfiguration();yield r.initialize(i);let u=i.initialUser;s.setCredentialChangeListener(function(){var d=(0,be.Z)(function*(f){u.isEqual(f)||(yield ND(r.localStore,f),u=f)});return function(f){return d.apply(this,arguments)}}()),r.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=r})).apply(this,arguments)}function r0(s,r){return Mm.apply(this,arguments)}function Mm(){return(Mm=(0,be.Z)(function*(s,r){s.asyncQueue.verifyOperationInProgress();const i=yield Mc(s);We("FirestoreClient","Initializing OnlineComponentProvider");const u=yield s.getConfiguration();yield r.initialize(i,u),s.setCredentialChangeListener(d=>{return(f=(0,be.Z)(function*(E,w){const A=Ge(E);A.asyncQueue.verifyOperationInProgress(),We("RemoteStore","RemoteStore received new credentials");const P=tu(A);A.Kr.add(3),yield ol(A),P&&A.Wr.set("Unknown"),yield A.remoteSyncer.handleCredentialChange(w),A.Kr.delete(3),yield _h(A)}),function(E,w){return f.apply(this,arguments)})(r.remoteStore,d);var f}),s.onlineComponents=r})).apply(this,arguments)}function Mc(s){return pv.apply(this,arguments)}function pv(){return(pv=(0,be.Z)(function*(s){return s.offlineComponents||(We("FirestoreClient","Using default OfflineComponentProvider"),yield n0(s,new Nm)),s.offlineComponents})).apply(this,arguments)}function pp(s){return Om.apply(this,arguments)}function Om(){return(Om=(0,be.Z)(function*(s){return s.onlineComponents||(We("FirestoreClient","Using default OnlineComponentProvider"),yield r0(s,new fv)),s.onlineComponents})).apply(this,arguments)}function i0(s){return Mc(s).then(r=>r.persistence)}function gv(s){return Mc(s).then(r=>r.localStore)}function mv(s){return pp(s).then(r=>r.remoteStore)}function yv(s){return pp(s).then(r=>r.syncEngine)}function Oc(s){return _v.apply(this,arguments)}function _v(){return(_v=(0,be.Z)(function*(s){const r=yield pp(s),i=r.eventManager;return i.onListen=iv.bind(null,r.syncEngine),i.onUnlisten=Nc.bind(null,r.syncEngine),i})).apply(this,arguments)}function Dh(s,r,i={}){const u=new or;return s.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(d,f,E,w,A){const P=new Rm({next:W=>{f.enqueueAndForget(()=>sp(d,V));const ue=W.docs.has(E);!ue&&W.fromCache?A.reject(new Fe(Ie.UNAVAILABLE,"Failed to get document because the client is offline.")):ue&&W.fromCache&&w&&"server"===w.source?A.reject(new Fe(Ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):A.resolve(W)},error:W=>A.reject(W)}),V=new rv(Ju(E.path),P,{includeMetadataChanges:!0,uo:!0});return X_(d,V)}(yield Oc(s),s.asyncQueue,r,i,u)})),u.promise}function Ev(s,r,i={}){const u=new or;return s.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(d,f,E,w,A){const P=new Rm({next:W=>{f.enqueueAndForget(()=>sp(d,V)),W.fromCache&&"server"===w.source?A.reject(new Fe(Ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):A.resolve(W)},error:W=>A.reject(W)}),V=new rv(E,P,{includeMetadataChanges:!0,uo:!0});return X_(d,V)}(yield Oc(s),s.asyncQueue,r,i,u)})),u.promise}class Iv{constructor(r,i,u,d,f,E,w,A){this.databaseId=r,this.appId=i,this.persistenceKey=u,this.host=d,this.ssl=f,this.forceLongPolling=E,this.autoDetectLongPolling=w,this.useFetchStreams=A}}class Sh{constructor(r,i){this.projectId=r,this.database=i||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(r){return r instanceof Sh&&r.projectId===this.projectId&&r.database===this.database}}const Pm=new Map;function mp(s,r,i){if(!i)throw new Fe(Ie.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${r}.`)}function wv(s,r,i,u){if(!0===r&&!0===u)throw new Fe(Ie.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function nT(s){if(!nt.isDocumentKey(s))throw new Fe(Ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function u0(s){if(nt.isDocumentKey(s))throw new Fe(Ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Ah(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const r=function(i){if(i.constructor){const u=/function\s+([^\s(]+)\s*\(/.exec(i.constructor.toString());if(u&&u.length>1)return u[1]}return null}(s);return r?`a custom ${r} object`:"an object"}}return"function"==typeof s?"a function":st()}function qt(s,r){if("_delegate"in s&&(s=s._delegate),!(s instanceof r)){if(r.name===s.constructor.name)throw new Fe(Ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ah(s);throw new Fe(Ie.INVALID_ARGUMENT,`Expected type '${r.name}', but it was: ${i}`)}}return s}function bv(s,r){if(r<=0)throw new Fe(Ie.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${r}.`)}class Dv{constructor(r){var i;if(void 0===r.host){if(void 0!==r.ssl)throw new Fe(Ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=r.host,this.ssl=null===(i=r.ssl)||void 0===i||i;if(this.credentials=r.credentials,this.ignoreUndefinedProperties=!!r.ignoreUndefinedProperties,void 0===r.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==r.cacheSizeBytes&&r.cacheSizeBytes<1048576)throw new Fe(Ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=r.cacheSizeBytes}this.experimentalForceLongPolling=!!r.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!r.experimentalAutoDetectLongPolling,this.useFetchStreams=!!r.useFetchStreams,wv("experimentalForceLongPolling",r.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",r.experimentalAutoDetectLongPolling)}isEqual(r){return this.host===r.host&&this.ssl===r.ssl&&this.credentials===r.credentials&&this.cacheSizeBytes===r.cacheSizeBytes&&this.experimentalForceLongPolling===r.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===r.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===r.ignoreUndefinedProperties&&this.useFetchStreams===r.useFetchStreams}}class Pc{constructor(r,i){this._credentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dv({}),this._settingsFrozen=!1,r instanceof Sh?this._databaseId=r:(this._app=r,this._databaseId=function(u){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Fe(Ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sh(u.options.projectId)}(r))}get app(){if(!this._app)throw new Fe(Ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(r){if(this._settingsFrozen)throw new Fe(Ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dv(r),void 0!==r.credentials&&(this._credentials=function(i){if(!i)return new bg;switch(i.type){case"gapi":const u=i.client;return dt(!("object"!=typeof u||null===u||!u.auth||!u.auth.getAuthHeaderValueForFirstParty)),new l_(u,i.sessionIndex||"0",i.iamToken||null);case"provider":return i.client;default:throw new Fe(Ie.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(r.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const i=Pm.get(r);i&&(We("ComponentProvider","Removing Datastore"),Pm.delete(r),i.terminate())}(this),Promise.resolve()}}class wn{constructor(r,i,u){this.converter=i,this._key=u,this.type="document",this.firestore=r}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(r){return new wn(this.firestore,r,this._key)}}class $r{constructor(r,i,u){this.converter=i,this._query=u,this.type="query",this.firestore=r}withConverter(r){return new $r(this.firestore,r,this._query)}}class Fs extends $r{constructor(r,i,u){super(r,i,Ju(u)),this._path=u,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const r=this._path.popLast();return r.isEmpty()?null:new wn(this.firestore,null,new nt(r))}withConverter(r){return new Fs(this.firestore,r,this._path)}}function c0(s,r,...i){if(s=(0,Wt.m9)(s),mp("collection","path",r),s instanceof Pc){const u=Zt.fromString(r,...i);return u0(u),new Fs(s,null,u)}{if(!(s instanceof wn||s instanceof Fs))throw new Fe(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const u=Zt.fromString(s.path,...i).child(Zt.fromString(r));return u0(u),new Fs(s.firestore,null,u)}}function yp(s,r,...i){if(s=(0,Wt.m9)(s),1===arguments.length&&(r=Tg.I()),mp("doc","path",r),s instanceof Pc){const u=Zt.fromString(r,...i);return nT(u),new wn(s,null,new nt(u))}{if(!(s instanceof wn||s instanceof Fs))throw new Fe(Ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const u=s._path.child(Zt.fromString(r,...i));return nT(u),new wn(s.firestore,s instanceof Fs?s.converter:null,new nt(u))}}function km(s,r){return s=(0,Wt.m9)(s),r=(0,Wt.m9)(r),(s instanceof wn||s instanceof Fs)&&(r instanceof wn||r instanceof Fs)&&s.firestore===r.firestore&&s.path===r.path&&s.converter===r.converter}function Tv(s,r){return s=(0,Wt.m9)(s),r=(0,Wt.m9)(r),s instanceof $r&&r instanceof $r&&s.firestore===r.firestore&&L(s._query,r._query)&&s.converter===r.converter}class rT{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new sl(this,"async_queue_retry"),this.Ea=()=>{const i=gm();i&&We("AsyncQueue","Visibility state changed to "+i.visibilityState),this.rr.tr()};const r=gm();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(r){this.enqueue(r)}enqueueAndForgetEvenWhileRestricted(r){this.Ta(),this.Ia(r)}enterRestrictedMode(r){if(!this.wa){this.wa=!0,this.ya=r||!1;const i=gm();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Ea)}}enqueue(r){if(this.Ta(),this.wa)return new Promise(()=>{});const i=new or;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(r().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(r){this.enqueueAndForget(()=>(this.da.push(r),this.Aa()))}Aa(){var r=this;return(0,be.Z)(function*(){if(0!==r.da.length){try{yield r.da[0](),r.da.shift(),r.rr.reset()}catch(i){if(!uh(i))throw i;We("AsyncQueue","Operation failed with retryable error: "+i)}r.da.length>0&&r.rr.Xi(()=>r.Aa())}})()}Ia(r){const i=this.fa.then(()=>(this.ga=!0,r().catch(u=>{throw this.ma=u,this.ga=!1,$n("INTERNAL UNHANDLED ERROR: ",function(d){let f=d.message||"";return d.stack&&(f=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),f}(u)),u}).then(u=>(this.ga=!1,u))));return this.fa=i,i}enqueueAfterDelay(r,i,u){this.Ta(),this.pa.indexOf(r)>-1&&(i=0);const d=HI.createAndSchedule(this,r,i,u,f=>this.Ra(f));return this._a.push(d),d}Ta(){this.ma&&st()}verifyOperationInProgress(){}Pa(){var r=this;return(0,be.Z)(function*(){let i;do{i=r.fa,yield i}while(i!==r.fa)})()}ba(r){for(const i of this._a)if(i.timerId===r)return!0;return!1}va(r){return this.Pa().then(()=>{this._a.sort((i,u)=>i.targetTimeMs-u.targetTimeMs);for(const i of this._a)if(i.skipDelay(),"all"!==r&&i.timerId===r)break;return this.Pa()})}Va(r){this.pa.push(r)}Ra(r){const i=this._a.indexOf(r);this._a.splice(i,1)}}function Fm(s){return function(r,i){if("object"!=typeof r||null===r)return!1;const u=r;for(const d of["next","error","complete"])if(d in u&&"function"==typeof u[d])return!0;return!1}(s)}class h0{constructor(){this._progressObserver={},this._taskCompletionResolver=new or,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(r,i,u){this._progressObserver={next:r,error:i,complete:u}}catch(r){return this._taskCompletionResolver.promise.catch(r)}then(r,i){return this._taskCompletionResolver.promise.then(r,i)}_completeWith(r){this._updateProgress(r),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(r)}_failWith(r){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(r),this._taskCompletionResolver.reject(r)}_updateProgress(r){this._lastProgress=r,this._progressObserver.next&&this._progressObserver.next(r)}}class Pn extends Pc{constructor(r,i){super(r,i),this.type="firestore",this._queue=new rT,this._persistenceKey="name"in r?r.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Lm(this),this._firestoreClient.terminate()}}function Ir(s){return s._firestoreClient||Lm(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function Lm(s){var r;const i=s._freezeSettings(),u=(f=(null===(r=s._app)||void 0===r?void 0:r.options.appId)||"",new Iv(s._databaseId,f,s._persistenceKey,(w=i).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,w.useFetchStreams));var f,w;s._firestoreClient=new ru(s._credentials,s._queue,u)}function Vm(s,r,i){const u=new or;return s.asyncQueue.enqueue((0,be.Z)(function*(){try{yield n0(s,i),yield r0(s,r),u.resolve()}catch(d){if(!("FirebaseError"===(f=d).name?f.code===Ie.FAILED_PRECONDITION||f.code===Ie.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&f instanceof DOMException)||22===f.code||20===f.code||11===f.code))throw d;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+d),u.reject(d)}var f})).then(()=>u.promise)}function xv(s){if(s._initialized||s._terminated)throw new Fe(Ie.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class iu{constructor(...r){for(let i=0;i<r.length;++i)if(0===r[i].length)throw new Fe(Ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rr(r)}isEqual(r){return this._internalPath.isEqual(r._internalPath)}}class mo{constructor(r){this._byteString=r}static fromBase64String(r){try{return new mo(Tr.fromBase64String(r))}catch(i){throw new Fe(Ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(r){return new mo(Tr.fromUint8Array(r))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(r){return this._byteString.isEqual(r._byteString)}}class kc{constructor(r){this._methodName=r}}class _p{constructor(r,i){if(!isFinite(r)||r<-90||r>90)throw new Fe(Ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+r);if(!isFinite(i)||i<-180||i>180)throw new Fe(Ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=r,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(r){return this._lat===r._lat&&this._long===r._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(r){return yt(this._lat,r._lat)||yt(this._long,r._long)}}const g0=/^__.*__$/;class Nh{constructor(r,i,u){this.data=r,this.fieldMask=i,this.fieldTransforms=u}toMutation(r,i){return null!==this.fieldMask?new aa(r,this.data,this.fieldMask,i,this.fieldTransforms):new ih(r,this.data,i,this.fieldTransforms)}}class m0{constructor(r,i,u){this.data=r,this.fieldMask=i,this.fieldTransforms=u}toMutation(r,i){return new aa(r,this.data,this.fieldMask,i,this.fieldTransforms)}}function y0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class vp{constructor(r,i,u,d,f,E){this.settings=r,this.databaseId=i,this.N=u,this.ignoreUndefinedProperties=d,void 0===f&&this.Sa(),this.fieldTransforms=f||[],this.fieldMask=E||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(r){return new vp(Object.assign(Object.assign({},this.settings),r),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(r){var i;const u=null===(i=this.path)||void 0===i?void 0:i.child(r),d=this.Ca({path:u,xa:!1});return d.ka(r),d}$a(r){var i;const u=null===(i=this.path)||void 0===i?void 0:i.child(r),d=this.Ca({path:u,xa:!1});return d.Sa(),d}Oa(r){return this.Ca({path:void 0,xa:!0})}Fa(r){return jm(r,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(r){return void 0!==this.fieldMask.find(i=>r.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>r.isPrefixOf(i.field))}Sa(){if(this.path)for(let r=0;r<this.path.length;r++)this.ka(this.path.get(r))}ka(r){if(0===r.length)throw this.Fa("Document fields must not be empty");if(y0(this.Da)&&g0.test(r))throw this.Fa('Document fields cannot begin and end with "__"')}}class uT{constructor(r,i,u){this.databaseId=r,this.ignoreUndefinedProperties=i,this.N=u||Xf(r)}Ba(r,i,u,d=!1){return new vp({Da:r,methodName:i,La:u,path:Rr.emptyPath(),xa:!1,Ma:d},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function hl(s){const r=s._freezeSettings(),i=Xf(s._databaseId);return new uT(s._databaseId,!!r.ignoreUndefinedProperties,i)}function Mv(s,r,i,u,d,f={}){const E=s.Ba(f.merge||f.mergeFields?2:0,r,i,d);Pv("Data must be an object, but it was:",E,u);const w=v0(u,E);let A,P;if(f.merge)A=new ja(E.fieldMask),P=E.fieldTransforms;else if(f.mergeFields){const V=[];for(const W of f.mergeFields){const ue=kv(r,W,i);if(!E.contains(ue))throw new Fe(Ie.INVALID_ARGUMENT,`Field '${ue}' is specified in your field mask but missing from your input data.`);Lv(V,ue)||V.push(ue)}A=new ja(V),P=E.fieldTransforms.filter(W=>A.covers(W.field))}else A=null,P=E.fieldTransforms;return new Nh(new kt(w),A,P)}class Fc extends kc{_toFieldTransform(r){if(2!==r.Da)throw r.Fa(1===r.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return r.fieldMask.push(r.path),null}isEqual(r){return r instanceof Fc}}function Um(s,r,i){return new vp({Da:3,La:r.settings.La,methodName:s._methodName,xa:i},r.databaseId,r.N,r.ignoreUndefinedProperties)}class as extends kc{_toFieldTransform(r){return new ui(r.path,new Ga)}isEqual(r){return r instanceof as}}class lT extends kc{constructor(r,i){super(r),this.Ua=i}_toFieldTransform(r){const i=Um(this,r,!0),u=this.Ua.map(f=>fl(f,i)),d=new Ns(u);return new ui(r.path,d)}isEqual(r){return this===r}}class _0 extends kc{constructor(r,i){super(r),this.Ua=i}_toFieldTransform(r){const i=Um(this,r,!0),u=this.Ua.map(f=>fl(f,i)),d=new co(u);return new ui(r.path,d)}isEqual(r){return this===r}}class da extends kc{constructor(r,i){super(r),this.qa=i}_toFieldTransform(r){const i=new oa(r.N,Vi(r.N,this.qa));return new ui(r.path,i)}isEqual(r){return this===r}}function us(s,r,i,u){const d=s.Ba(1,r,i);Pv("Data must be an object, but it was:",d,u);const f=[],E=kt.empty();ao(u,(A,P)=>{const V=Lc(r,A,i);P=(0,Wt.m9)(P);const W=d.$a(V);if(P instanceof Fc)f.push(V);else{const ue=fl(P,W);null!=ue&&(f.push(V),E.set(V,ue))}});const w=new ja(f);return new m0(E,w,d.fieldTransforms)}function ls(s,r,i,u,d,f){const E=s.Ba(1,r,i),w=[kv(r,u,i)],A=[d];if(f.length%2!=0)throw new Fe(Ie.INVALID_ARGUMENT,`Function ${r}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ue=0;ue<f.length;ue+=2)w.push(kv(r,f[ue])),A.push(f[ue+1]);const P=[],V=kt.empty();for(let ue=w.length-1;ue>=0;--ue)if(!Lv(P,w[ue])){const pe=w[ue];let Ue=A[ue];Ue=(0,Wt.m9)(Ue);const Ke=E.$a(pe);if(Ue instanceof Fc)P.push(pe);else{const ut=fl(Ue,Ke);null!=ut&&(P.push(pe),V.set(pe,ut))}}const W=new ja(P);return new m0(V,W,E.fieldTransforms)}function Ov(s,r,i,u=!1){return fl(i,s.Ba(u?4:3,r))}function fl(s,r){if(E0(s=(0,Wt.m9)(s)))return Pv("Unsupported field value:",r,s),v0(s,r);if(s instanceof kc)return function(i,u){if(!y0(u.Da))throw u.Fa(`${i._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Fa(`${i._methodName}() is not currently supported inside arrays`);const d=i._toFieldTransform(u);d&&u.fieldTransforms.push(d)}(s,r),null;if(void 0===s&&r.ignoreUndefinedProperties)return null;if(r.path&&r.fieldMask.push(r.path),s instanceof Array){if(r.settings.xa&&4!==r.Da)throw r.Fa("Nested arrays are not supported");return function(i,u){const d=[];let f=0;for(const E of i){let w=fl(E,u.Oa(f));null==w&&(w={nullValue:"NULL_VALUE"}),d.push(w),f++}return{arrayValue:{values:d}}}(s,r)}return function(i,u){if(null===(i=(0,Wt.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return Vi(u.N,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const d=ar.fromDate(i);return{timestampValue:pc(u.N,d)}}if(i instanceof ar){const d=new ar(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:pc(u.N,d)}}if(i instanceof _p)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof mo)return{bytesValue:v_(u.N,i._byteString)};if(i instanceof wn){const d=u.databaseId,f=i.firestore._databaseId;if(!f.isEqual(d))throw u.Fa(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:C_(i.firestore._databaseId||u.databaseId,i._key.path)}}throw u.Fa(`Unsupported field value: ${Ah(i)}`)}(s,r)}function v0(s,r){const i={};return Ag(s)?r.path&&r.path.length>0&&r.fieldMask.push(r.path):ao(s,(u,d)=>{const f=fl(d,r.Na(u));null!=f&&(i[u]=f)}),{mapValue:{fields:i}}}function E0(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof ar||s instanceof _p||s instanceof mo||s instanceof wn||s instanceof kc)}function Pv(s,r,i){if(!E0(i)||"object"!=typeof(u=i)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const u=Ah(i);throw r.Fa("an object"===u?s+" a custom object":s+" "+u)}var u}function kv(s,r,i){if((r=(0,Wt.m9)(r))instanceof iu)return r._internalPath;if("string"==typeof r)return Lc(s,r);throw jm("Field path arguments must be of type string or FieldPath.",s,!1,void 0,i)}const Fv=new RegExp("[~\\*/\\[\\]]");function Lc(s,r,i){if(r.search(Fv)>=0)throw jm(`Invalid field path (${r}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new iu(...r.split("."))._internalPath}catch(u){throw jm(`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function jm(s,r,i,u,d){const f=u&&!u.isEmpty(),E=void 0!==d;let w=`Function ${r}() called with invalid data`;i&&(w+=" (via `toFirestore()`)"),w+=". ";let A="";return(f||E)&&(A+=" (found",f&&(A+=` in field ${u}`),E&&(A+=` in document ${d}`),A+=")"),new Fe(Ie.INVALID_ARGUMENT,w+s+A)}function Lv(s,r){return s.some(i=>i.isEqual(r))}class Ep{constructor(r,i,u,d,f){this._firestore=r,this._userDataWriter=i,this._key=u,this._document=d,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const r=new C0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(r)}return this._userDataWriter.convertValue(this._document.data.value)}}get(r){if(this._document){const i=this._document.data.field(Cp("DocumentSnapshot.get",r));if(null!==i)return this._userDataWriter.convertValue(i)}}}class C0 extends Ep{data(){return super.data()}}function Cp(s,r){return"string"==typeof r?Lc(s,r):r instanceof iu?r._internalPath:r._delegate._internalPath}class ha{constructor(r,i){this.hasPendingWrites=r,this.fromCache=i}isEqual(r){return this.hasPendingWrites===r.hasPendingWrites&&this.fromCache===r.fromCache}}class su extends Ep{constructor(r,i,u,d,f,E){super(r,i,u,d,E),this._firestore=r,this._firestoreImpl=r,this.metadata=f}exists(){return super.exists()}data(r={}){if(this._document){if(this._converter){const i=new Rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,r)}return this._userDataWriter.convertValue(this._document.data.value,r.serverTimestamps)}}get(r,i={}){if(this._document){const u=this._document.data.field(Cp("DocumentSnapshot.get",r));if(null!==u)return this._userDataWriter.convertValue(u,i.serverTimestamps)}}}class Rh extends su{data(r={}){return super.data(r)}}class ou{constructor(r,i,u,d){this._firestore=r,this._userDataWriter=i,this._snapshot=d,this.metadata=new ha(d.hasPendingWrites,d.fromCache),this.query=u}get docs(){const r=[];return this.forEach(i=>r.push(i)),r}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(r,i){this._snapshot.docs.forEach(u=>{r.call(i,new Rh(this._firestore,this._userDataWriter,u.key,u,new ha(this._snapshot.mutatedKeys.has(u.key),this._snapshot.fromCache),this.query.converter))})}docChanges(r={}){const i=!!r.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Fe(Ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,d){if(u._snapshot.oldDocs.isEmpty()){let f=0;return u._snapshot.docChanges.map(E=>({type:"added",doc:new Rh(u._firestore,u._userDataWriter,E.doc.key,E.doc,new ha(u._snapshot.mutatedKeys.has(E.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:f++}))}{let f=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(E=>d||3!==E.type).map(E=>{const w=new Rh(u._firestore,u._userDataWriter,E.doc.key,E.doc,new ha(u._snapshot.mutatedKeys.has(E.doc.key),u._snapshot.fromCache),u.query.converter);let A=-1,P=-1;return 0!==E.type&&(A=f.indexOf(E.doc.key),f=f.delete(E.doc.key)),1!==E.type&&(f=f.add(E.doc),P=f.indexOf(E.doc.key)),{type:Vv(E.type),doc:w,oldIndex:A,newIndex:P}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Vv(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function Ip(s,r){return s instanceof su&&r instanceof su?s._firestore===r._firestore&&s._key.isEqual(r._key)&&(null===s._document?null===r._document:s._document.isEqual(r._document))&&s._converter===r._converter:s instanceof ou&&r instanceof ou&&s._firestore===r._firestore&&Tv(s.query,r.query)&&s.metadata.isEqual(r.metadata)&&s._snapshot.isEqual(r._snapshot)}function Bm(s){if(eh(s)&&0===s.explicitOrderBy.length)throw new Fe(Ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vc{}function fa(s,...r){for(const i of r)s=i._apply(s);return s}class Uv extends Vc{constructor(r,i,u){super(),this.Ka=r,this.ja=i,this.Qa=u,this.type="where"}_apply(r){const i=hl(r.firestore),u=function(d,f,E,w,A,P,V){let W;if(A.isKeyField()){if("array-contains"===P||"array-contains-any"===P)throw new Fe(Ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${P}' queries on FieldPath.documentId().`);if("in"===P||"not-in"===P){zv(V,P);const pe=[];for(const Ue of V)pe.push(qv(w,d,Ue));W={arrayValue:{values:pe}}}else W=qv(w,d,V)}else"in"!==P&&"not-in"!==P&&"array-contains-any"!==P||zv(V,P),W=Ov(E,"where",V,"in"===P||"not-in"===P);const ue=xr.create(A,P,W);return function(pe,Ue){if(Ue.v()){const ut=I(pe);if(null!==ut&&!ut.isEqual(Ue.field))throw new Fe(Ie.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ut.toString()}' and '${Ue.field.toString()}'`);const on=th(pe);null!==on&&Kv(0,Ue.field,on)}const Ke=function(ut,on){for(const Sn of ut.filters)if(on.indexOf(Sn.op)>=0)return Sn.op;return null}(pe,function(ut){switch(ut){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Ue.op));if(null!==Ke)throw new Fe(Ie.INVALID_ARGUMENT,Ke===Ue.op?`Invalid query. You cannot use more than one '${Ue.op.toString()}' filter.`:`Invalid query. You cannot use '${Ue.op.toString()}' filters with '${Ke.toString()}' filters.`)}(d,ue),ue}(r._query,0,i,r.firestore._databaseId,this.Ka,this.ja,this.Qa);return new $r(r.firestore,r.converter,function(d,f){const E=d.filters.concat([f]);return new Ss(d.path,d.collectionGroup,d.explicitOrderBy.slice(),E,d.limit,d.limitType,d.startAt,d.endAt)}(r._query,u))}}class Bv extends Vc{constructor(r,i){super(),this.Ka=r,this.Wa=i,this.type="orderBy"}_apply(r){const i=function(u,d,f){if(null!==u.startAt)throw new Fe(Ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new Fe(Ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const E=new Qu(d,f);return function(w,A){if(null===th(w)){const P=I(w);null!==P&&Kv(0,P,A.field)}}(u,E),E}(r._query,this.Ka,this.Wa);return new $r(r.firestore,r.converter,function(u,d){const f=u.explicitOrderBy.concat([d]);return new Ss(u.path,u.collectionGroup,f,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(r._query,i))}}class Hm extends Vc{constructor(r,i,u){super(),this.type=r,this.Ga=i,this.za=u}_apply(r){return new $r(r.firestore,r.converter,M(r._query,this.Ga,this.za))}}class $v extends Vc{constructor(r,i,u){super(),this.type=r,this.Ha=i,this.Ja=u}_apply(r){const i=Gv(r,this.type,this.Ha,this.Ja);return new $r(r.firestore,r.converter,(d=i,new Ss((u=r._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,d,u.endAt)));var u,d}}class Wv extends Vc{constructor(r,i,u){super(),this.type=r,this.Ha=i,this.Ja=u}_apply(r){const i=Gv(r,this.type,this.Ha,this.Ja);return new $r(r.firestore,r.converter,(d=i,new Ss((u=r._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,d)));var u,d}}function Gv(s,r,i,u){if(i[0]=(0,Wt.m9)(i[0]),i[0]instanceof Ep)return function(d,f,E,w,A){if(!w)throw new Fe(Ie.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${E}().`);const P=[];for(const V of _(d))if(V.field.isKeyField())P.push(Kd(f,w.key));else{const W=w.data.field(V.field);if(Gd(W))throw new Fe(Ie.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+V.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===W){const ue=V.field.canonicalString();throw new Fe(Ie.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ue}' (used as the orderBy) does not exist.`)}P.push(W)}return new lo(P,A)}(s._query,s.firestore._databaseId,r,i[0]._document,u);{const d=hl(s.firestore);return function(f,E,w,A,P,V){const W=f.explicitOrderBy;if(P.length>W.length)throw new Fe(Ie.INVALID_ARGUMENT,`Too many arguments provided to ${A}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ue=[];for(let pe=0;pe<P.length;pe++){const Ue=P[pe];if(W[pe].field.isKeyField()){if("string"!=typeof Ue)throw new Fe(Ie.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${A}(), but got a ${typeof Ue}`);if(!m(f)&&-1!==Ue.indexOf("/"))throw new Fe(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${A}() must be a plain document ID, but '${Ue}' contains a slash.`);const Ke=f.path.child(Zt.fromString(Ue));if(!nt.isDocumentKey(Ke))throw new Fe(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${A}() must result in a valid document path, but '${Ke}' is not because it contains an odd number of segments.`);const ut=new nt(Ke);ue.push(Kd(E,ut))}else{const Ke=Ov(w,A,Ue);ue.push(Ke)}}return new lo(ue,V)}(s._query,s.firestore._databaseId,d,r,i,u)}}function qv(s,r,i){if("string"==typeof(i=(0,Wt.m9)(i))){if(""===i)throw new Fe(Ie.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!m(r)&&-1!==i.indexOf("/"))throw new Fe(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const u=r.path.child(Zt.fromString(i));if(!nt.isDocumentKey(u))throw new Fe(Ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${u}' is not because it has an odd number of segments (${u.length}).`);return Kd(s,new nt(u))}if(i instanceof wn)return Kd(s,i._key);throw new Fe(Ie.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ah(i)}.`)}function zv(s,r){if(!Array.isArray(s)||0===s.length)throw new Fe(Ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${r.toString()}' filters.`);if(s.length>10)throw new Fe(Ie.INVALID_ARGUMENT,`Invalid Query. '${r.toString()}' filters support a maximum of 10 elements in the value array.`)}function Kv(s,r,i){if(!i.isEqual(r))throw new Fe(Ie.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${r.toString()}' and so you must also use '${r.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}class $m{convertValue(r,i="none"){switch(uo(r)){case 0:return null;case 1:return r.booleanValue;case 2:return tn(r.integerValue||r.doubleValue);case 3:return this.convertTimestamp(r.timestampValue);case 4:return this.convertServerTimestamp(r,i);case 5:return r.stringValue;case 6:return this.convertBytes(Ds(r.bytesValue));case 7:return this.convertReference(r.referenceValue);case 8:return this.convertGeoPoint(r.geoPointValue);case 9:return this.convertArray(r.arrayValue,i);case 10:return this.convertObject(r.mapValue,i);default:throw st()}}convertObject(r,i){const u={};return ao(r.fields,(d,f)=>{u[d]=this.convertValue(f,i)}),u}convertGeoPoint(r){return new _p(tn(r.latitude),tn(r.longitude))}convertArray(r,i){return(r.values||[]).map(u=>this.convertValue(u,i))}convertServerTimestamp(r,i){switch(i){case"previous":const u=Hu(r);return null==u?null:this.convertValue(u,i);case"estimate":return this.convertTimestamp($u(r));default:return null}}convertTimestamp(r){const i=ns(r);return new ar(i.seconds,i.nanos)}convertDocumentKey(r,i){const u=Zt.fromString(r);dt(T_(u));const d=new Sh(u.get(1),u.get(3)),f=new nt(u.popFirst(5));return d.isEqual(i)||$n(`Document ${f} contains a document reference within a different database (${d.projectId}/${d.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}function wp(s,r,i){let u;return u=s?i&&(i.merge||i.mergeFields)?s.toFirestore(r,i):s.toFirestore(r):r,u}class A0 extends $m{constructor(r){super(),this.firestore=r}convertBytes(r){return new mo(r)}convertReference(r){const i=this.convertDocumentKey(r,this.firestore._databaseId);return new wn(this.firestore,null,i)}}class Zv{constructor(r,i){this._firestore=r,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=hl(r)}set(r,i,u){this._verifyNotCommitted();const d=au(r,this._firestore),f=wp(d.converter,i,u),E=Mv(this._dataReader,"WriteBatch.set",d._key,f,null!==d.converter,u);return this._mutations.push(E.toMutation(d._key,vr.none())),this}update(r,i,u,...d){this._verifyNotCommitted();const f=au(r,this._firestore);let E;return E="string"==typeof(i=(0,Wt.m9)(i))||i instanceof iu?ls(this._dataReader,"WriteBatch.update",f._key,i,u,d):us(this._dataReader,"WriteBatch.update",f._key,i),this._mutations.push(E.toMutation(f._key,vr.exists(!0))),this}delete(r){this._verifyNotCommitted();const i=au(r,this._firestore);return this._mutations=this._mutations.concat(new kg(i._key,vr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(Ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function au(s,r){if((s=(0,Wt.m9)(s)).firestore!==r)throw new Fe(Ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class uu extends $m{constructor(r){super(),this.firestore=r}convertBytes(r){return new mo(r)}convertReference(r){const i=this.convertDocumentKey(r,this.firestore._databaseId);return new wn(this.firestore,null,i)}}function Wm(s,r,i){s=qt(s,wn);const u=qt(s.firestore,Pn),d=wp(s.converter,r,i);return xh(u,[Mv(hl(u),"setDoc",s._key,d,null!==s.converter,i).toMutation(s._key,vr.none())])}function Gm(s,r,i,...u){s=qt(s,wn);const d=qt(s.firestore,Pn),f=hl(d);let E;return E="string"==typeof(r=(0,Wt.m9)(r))||r instanceof iu?ls(f,"updateDoc",s._key,r,i,u):us(f,"updateDoc",s._key,r),xh(d,[E.toMutation(s._key,vr.exists(!0))])}function qm(s,...r){var i,u,d;s=(0,Wt.m9)(s);let f={includeMetadataChanges:!1},E=0;"object"!=typeof r[E]||Fm(r[E])||(f=r[E],E++);const w={includeMetadataChanges:f.includeMetadataChanges};if(Fm(r[E])){const W=r[E];r[E]=null===(i=W.next)||void 0===i?void 0:i.bind(W),r[E+1]=null===(u=W.error)||void 0===u?void 0:u.bind(W),r[E+2]=null===(d=W.complete)||void 0===d?void 0:d.bind(W)}let A,P,V;if(s instanceof wn)P=qt(s.firestore,Pn),V=Ju(s._key.path),A={next:W=>{r[E]&&r[E](rE(P,s,W))},error:r[E+1],complete:r[E+2]};else{const W=qt(s,$r);P=qt(W.firestore,Pn),V=W._query;const ue=new uu(P);A={next:pe=>{r[E]&&r[E](new ou(P,ue,W,pe))},error:r[E+1],complete:r[E+2]},Bm(s._query)}return function(W,ue,pe,Ue){const Ke=new Rm(Ue),ut=new rv(ue,Ke,pe);return W.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return X_(yield Oc(W),ut)})),()=>{Ke.Xo(),W.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return sp(yield Oc(W),ut)}))}}(Ir(P),V,w,A)}function xh(s,r){return function(i,u){const d=new or;return i.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(s,r,i){return up.apply(this,arguments)}(yield yv(i),u,d)})),d.promise}(Ir(s),r)}function rE(s,r,i){const u=i.docs.get(r._key),d=new uu(s);return new su(s,d,r._key,u,new ha(i.hasPendingWrites,i.fromCache),r.converter)}class Mh extends class{constructor(r,i){this._firestore=r,this._transaction=i,this._dataReader=hl(r)}get(r){const i=au(r,this._firestore),u=new A0(this._firestore);return this._transaction.lookup([i._key]).then(d=>{if(!d||1!==d.length)return st();const f=d[0];if(f.isFoundDocument())return new Ep(this._firestore,u,f.key,f,i.converter);if(f.isNoDocument())return new Ep(this._firestore,u,i._key,null,i.converter);throw st()})}set(r,i,u){const d=au(r,this._firestore),f=wp(d.converter,i,u),E=Mv(this._dataReader,"Transaction.set",d._key,f,null!==d.converter,u);return this._transaction.set(d._key,E),this}update(r,i,u,...d){const f=au(r,this._firestore);let E;return E="string"==typeof(i=(0,Wt.m9)(i))||i instanceof iu?ls(this._dataReader,"Transaction.update",f._key,i,u,d):us(this._dataReader,"Transaction.update",f._key,i),this._transaction.update(f._key,E),this}delete(r){const i=au(r,this._firestore);return this._transaction.delete(i._key),this}}{constructor(r,i){super(r,i),this._firestore=r}get(r){const i=au(r,this._firestore),u=new uu(this._firestore);return super.get(r).then(d=>new su(this._firestore,u,i._key,d._document,new ha(!1,!1),i.converter))}}function jc(s,r){if(void 0===r)return{merge:!1};if(void 0!==r.mergeFields&&void 0!==r.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return r}function sE(){if("undefined"==typeof Uint8Array)throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function bp(){if("undefined"==typeof atob)throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(s){Uu=s})(ko.SDK_VERSION),(0,ko._registerComponent)(new cd.wA("firestore",(s,{options:r})=>{const i=s.getProvider("app").getImmediate(),u=new Pn(i,new ju(s.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:!0},r),u._setSettings(r),u},"PUBLIC")),(0,ko.registerVersion)("@firebase/firestore","3.0.1",void 0);class pl{constructor(r){this._delegate=r}static fromBase64String(r){return bp(),new pl(mo.fromBase64String(r))}static fromUint8Array(r){return sE(),new pl(mo.fromUint8Array(r))}toBase64(){return bp(),this._delegate.toBase64()}toUint8Array(){return sE(),this._delegate.toUint8Array()}isEqual(r){return this._delegate.isEqual(r._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Wn(s){return function(s,r){if("object"!=typeof s||null===s)return!1;const i=s;for(const u of["next","error","complete"])if(u in i&&"function"==typeof i[u])return!0;return!1}(s)}class M0{enableIndexedDbPersistence(r,i){return function(s,r){xv(s=qt(s,Pn));const i=Ir(s),u=s._freezeSettings(),d=new fv;return Vm(i,d,new XI(d,u.cacheSizeBytes,null==r?void 0:r.forceOwnership))}(r._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(r){return function(s){xv(s=qt(s,Pn));const r=Ir(s),i=s._freezeSettings(),u=new fv;return Vm(r,u,new JD(u,i.cacheSizeBytes))}(r._delegate)}clearIndexedDbPersistence(r){return function(s){if(s._initialized&&!s._terminated)throw new Fe(Ie.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const r=new or;return s._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(i=(0,be.Z)(function*(u){if(!ca.Pt())return Promise.resolve();const d=u+"main";yield ca.delete(d)}),function(u){return i.apply(this,arguments)})(nm(s._databaseId,s._persistenceKey)),r.resolve()}catch(i){r.reject(i)}var i})),r.promise}(r._delegate)}}class Dp{constructor(r,i,u){this._delegate=i,this._persistenceProvider=u,this.INTERNAL={delete:()=>this.terminate()},r instanceof Sh||(this._appCompat=r)}get _databaseId(){return this._delegate._databaseId}settings(r){const i=this._delegate._getSettings();!r.merge&&i.host!==r.host&&ic("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),r.merge&&delete(r=Object.assign(Object.assign({},i),r)).merge,this._delegate._setSettings(r)}useEmulator(r,i,u={}){!function(s,r,i,u={}){var d;const f=(s=qt(s,Pc))._getSettings();if("firestore.googleapis.com"!==f.host&&f.host!==r&&ic("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},f),{host:`${r}:${i}`,ssl:!1})),u.mockUserToken){let E,w;if("string"==typeof u.mockUserToken)E=u.mockUserToken,w=Nr.MOCK_USER;else{E=(0,Wt.Sg)(u.mockUserToken,null===(d=s._app)||void 0===d?void 0:d.options.projectId);const A=u.mockUserToken.sub||u.mockUserToken.user_id;if(!A)throw new Fe(Ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Nr(A)}s._credentials=new Dg(new Af(E,w))}}(this._delegate,r,i,u)}enableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,be.Z)(function*(){const r=yield i0(s),i=yield mv(s);return r.setNetworkEnabled(!0),function(u){const d=Ge(u);return d.Kr.delete(0),_h(d)}(i)}))}(Ir(s=qt(s,Pn)))}(this._delegate)}disableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,be.Z)(function*(){const r=yield i0(s),i=yield mv(s);return r.setNetworkEnabled(!1),(u=(0,be.Z)(function*(d){const f=Ge(d);f.Kr.add(0),yield ol(f),f.Wr.set("Offline")}),function(d){return u.apply(this,arguments)})(i);var u}))}(Ir(s=qt(s,Pn)))}(this._delegate)}enablePersistence(r){let i=!1,u=!1;return r&&(i=!!r.synchronizeTabs,u=!!r.experimentalForceOwningTab,wv("synchronizeTabs",i,"experimentalForceOwningTab",u)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,u)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(s){return function(r){const i=new or;return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(s,r){return lp.apply(this,arguments)}(yield yv(r),i)})),i.promise}(Ir(s=qt(s,Pn)))}(this._delegate)}onSnapshotsInSync(r){return function(s,r){return function(s,r){const i=new Rm(r);return s.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return u=yield Oc(s),d=i,Ge(u).Zr.add(d),void d.next();var u,d})),()=>{i.Xo(),s.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return u=yield Oc(s),d=i,void Ge(u).Zr.delete(d);var u,d}))}}(Ir(s=qt(s,Pn)),Fm(r)?r:{next:r})}(this._delegate,r)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(r){try{return new Bc(this,c0(this._delegate,r))}catch(i){throw Ii(i,"collection()","Firestore.collection()")}}doc(r){try{return new Ls(this,yp(this._delegate,r))}catch(i){throw Ii(i,"doc()","Firestore.doc()")}}collectionGroup(r){try{return new wi(this,function(s,r){if(s=qt(s,Pc),mp("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new Fe(Ie.INVALID_ARGUMENT,`Invalid collection ID '${r}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new $r(s,null,(i=r,new Ss(Zt.emptyPath(),i)));var i}(this._delegate,r))}catch(i){throw Ii(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(r){return function(s,r){return function(s,r){const i=new or;return s.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const u=yield(d=s,pp(d).then(f=>f.datastore));var d;new eT(s.asyncQueue,u,r,i).run()})),i.promise}(Ir(s),i=>r(new Mh(s,i)))}(this._delegate,i=>r(new oE(this,i)))}batch(){return Ir(this._delegate),new aE(new Zv(this._delegate,r=>xh(this._delegate,r)))}loadBundle(r){return function(s,r){const i=Ir(s=qt(s,Pn)),u=new h0;return function(s,r,i,u){const d=function(f,E){let w;return w="string"==typeof f?(new TextEncoder).encode(f):f,A=function(A,P){if(A instanceof Uint8Array)return e0(A,P);if(A instanceof ArrayBuffer)return e0(new Uint8Array(A),P);if(A instanceof ReadableStream)return A.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(w),new t0(A,E);var A}(i,Xf(r));s.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function(s,r,i){const u=Ge(s);var d;(d=(0,be.Z)(function*(f,E,w){try{const A=yield E.getMetadata();if(yield function(ue,pe){const Ue=Ge(ue),Ke=cr(pe.createTime);return Ue.persistence.runTransaction("hasNewerBundle","readonly",ut=>Ue.Je.getBundleMetadata(ut,pe.id)).then(ut=>!!ut&&ut.createTime.compareTo(Ke)>=0)}(f.localStore,A))return yield E.close(),void w._completeWith((ue=A,{taskState:"Success",documentsLoaded:ue.totalDocuments,bytesLoaded:ue.totalBytes,totalDocuments:ue.totalDocuments,totalBytes:ue.totalBytes}));w._updateProgress(op(A));const P=new qI(A,f.localStore,E.N);let V=yield E.Qo();for(;V;){const ue=yield P.fo(V);ue&&w._updateProgress(ue),V=yield E.Qo()}const W=yield P.complete();yield nu(f,W.Tn,void 0),yield function(ue,pe){const Ue=Ge(ue);return Ue.persistence.runTransaction("Save bundle","readwrite",Ke=>Ue.Je.saveBundleMetadata(Ke,pe))}(f.localStore,A),w._completeWith(W.progress)}catch(A){ic("SyncEngine",`Loading bundle failed with ${A}`),w._failWith(A)}var ue}),function(f,E,w){return d.apply(this,arguments)})(u,r,i).then(()=>{u.sharedClientState.notifyBundleLoaded()})}(yield yv(s),d,u)}))}(i,s._databaseId,r,u),u}(this._delegate,r)}namedQuery(r){return function(s,r){return function(s,r){return s.asyncQueue.enqueue((0,be.Z)(function*(){return function(i,u){const d=Ge(i);return d.persistence.runTransaction("Get named query","readonly",f=>d.Je.getNamedQuery(f,u))}(yield gv(s),r)}))}(Ir(s=qt(s,Pn)),r).then(i=>i?new $r(s,null,i.query):null)}(this._delegate,r).then(i=>i?new wi(this,i):null)}}class zm extends $m{constructor(r){super(),this.firestore=r}convertBytes(r){return new pl(new mo(r))}convertReference(r){const i=this.convertDocumentKey(r,this.firestore._databaseId);return Ls.forKey(i,this.firestore,null)}}class oE{constructor(r,i){this._firestore=r,this._delegate=i,this._userDataWriter=new zm(r)}get(r){const i=ml(r);return this._delegate.get(i).then(u=>new Tp(this._firestore,new su(this._firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,i.converter)))}set(r,i,u){const d=ml(r);return u?(jc("Transaction.set",u),this._delegate.set(d,i,u)):this._delegate.set(d,i),this}update(r,i,u,...d){const f=ml(r);return 2===arguments.length?this._delegate.update(f,i):this._delegate.update(f,i,u,...d),this}delete(r){const i=ml(r);return this._delegate.delete(i),this}}class aE{constructor(r){this._delegate=r}set(r,i,u){const d=ml(r);return u?(jc("WriteBatch.set",u),this._delegate.set(d,i,u)):this._delegate.set(d,i),this}update(r,i,u,...d){const f=ml(r);return 2===arguments.length?this._delegate.update(f,i):this._delegate.update(f,i,u,...d),this}delete(r){const i=ml(r);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class gl{constructor(r,i,u){this._firestore=r,this._userDataWriter=i,this._delegate=u}fromFirestore(r,i){const u=new Rh(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,null);return this._delegate.fromFirestore(new Sp(this._firestore,u),null!=i?i:{})}toFirestore(r,i){return i?this._delegate.toFirestore(r,i):this._delegate.toFirestore(r)}static getInstance(r,i){const u=gl.INSTANCES;let d=u.get(r);d||(d=new WeakMap,u.set(r,d));let f=d.get(i);return f||(f=new gl(r,new zm(r),i),d.set(i,f)),f}}gl.INSTANCES=new WeakMap;class Ls{constructor(r,i){this.firestore=r,this._delegate=i,this._userDataWriter=new zm(r)}static forPath(r,i,u){if(r.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${r.canonicalString()} has ${r.length}`);return new Ls(i,new wn(i._delegate,u,new nt(r)))}static forKey(r,i,u){return new Ls(i,new wn(i._delegate,u,r))}get id(){return this._delegate.id}get parent(){return new Bc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(r){try{return new Bc(this.firestore,c0(this._delegate,r))}catch(i){throw Ii(i,"collection()","DocumentReference.collection()")}}isEqual(r){return(r=(0,Wt.m9)(r))instanceof wn&&km(this._delegate,r)}set(r,i){i=jc("DocumentReference.set",i);try{return i?Wm(this._delegate,r,i):Wm(this._delegate,r)}catch(u){throw Ii(u,"setDoc()","DocumentReference.set()")}}update(r,i,...u){try{return 1===arguments.length?Gm(this._delegate,r):Gm(this._delegate,r,i,...u)}catch(d){throw Ii(d,"updateDoc()","DocumentReference.update()")}}delete(){return function(s){return xh(qt(s.firestore,Pn),[new kg(s._key,vr.none())])}(this._delegate)}onSnapshot(...r){const i=P0(r),u=Oh(r,d=>new Tp(this.firestore,new su(this.firestore._delegate,this._userDataWriter,d._key,d._document,d.metadata,this._delegate.converter)));return qm(this._delegate,i,u)}get(r){let i;return i="cache"===(null==r?void 0:r.source)?function(s){s=qt(s,wn);const r=qt(s.firestore,Pn),i=Ir(r),u=new uu(r);return function(s,r){const i=new or;return s.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(u=(0,be.Z)(function*(d,f,E){try{const w=yield function(A,P){const V=Ge(A);return V.persistence.runTransaction("read document","readonly",W=>V.Qn.An(W,P))}(d,f);w.isFoundDocument()?E.resolve(w):w.isNoDocument()?E.resolve(null):E.reject(new Fe(Ie.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(w){const A=ip(w,`Failed to get document '${f} from cache`);E.reject(A)}}),function(d,f,E){return u.apply(this,arguments)})(yield gv(s),r,i);var u})),i.promise}(i,s._key).then(d=>new su(r,u,s._key,d,new ha(null!==d&&d.hasLocalMutations,!0),s.converter))}(this._delegate):"server"===(null==r?void 0:r.source)?function(s){s=qt(s,wn);const r=qt(s.firestore,Pn);return Dh(Ir(r),s._key,{source:"server"}).then(i=>rE(r,s,i))}(this._delegate):function(s){s=qt(s,wn);const r=qt(s.firestore,Pn);return Dh(Ir(r),s._key).then(i=>rE(r,s,i))}(this._delegate),i.then(u=>new Tp(this.firestore,new su(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)))}withConverter(r){return new Ls(this.firestore,this._delegate.withConverter(r?gl.getInstance(this.firestore,r):null))}}function Ii(s,r,i){return s.message=s.message.replace(r,i),s}function P0(s){for(const r of s)if("object"==typeof r&&!Wn(r))return r;return{}}function Oh(s,r){var i,u;let d;return d=Wn(s[0])?s[0]:Wn(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]},{next:f=>{d.next&&d.next(r(f))},error:null===(i=d.error)||void 0===i?void 0:i.bind(d),complete:null===(u=d.complete)||void 0===u?void 0:u.bind(d)}}class Tp{constructor(r,i){this._firestore=r,this._delegate=i}get ref(){return new Ls(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(r){return this._delegate.data(r)}get(r,i){return this._delegate.get(r,i)}isEqual(r){return Ip(this._delegate,r._delegate)}}class Sp extends Tp{data(r){const i=this._delegate.data(r);return function(s,r){s||st()}(void 0!==i),i}}class wi{constructor(r,i){this.firestore=r,this._delegate=i,this._userDataWriter=new zm(r)}where(r,i,u){try{return new wi(this.firestore,fa(this._delegate,function(s,r,i){const u=r,d=Cp("where",s);return new Uv(d,u,i)}(r,i,u)))}catch(d){throw Ii(d,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(r,i){try{return new wi(this.firestore,fa(this._delegate,function(s,r="asc"){const i=r,u=Cp("orderBy",s);return new Bv(u,i)}(r,i)))}catch(u){throw Ii(u,/(orderBy|where)\(\)/,"Query.$1()")}}limit(r){try{return new wi(this.firestore,fa(this._delegate,function(s){return bv("limit",s),new Hm("limit",s,"F")}(r)))}catch(i){throw Ii(i,"limit()","Query.limit()")}}limitToLast(r){try{return new wi(this.firestore,fa(this._delegate,function(s){return bv("limitToLast",s),new Hm("limitToLast",s,"L")}(r)))}catch(i){throw Ii(i,"limitToLast()","Query.limitToLast()")}}startAt(...r){try{return new wi(this.firestore,fa(this._delegate,function(...s){return new $v("startAt",s,!0)}(...r)))}catch(i){throw Ii(i,"startAt()","Query.startAt()")}}startAfter(...r){try{return new wi(this.firestore,fa(this._delegate,function(...s){return new $v("startAfter",s,!1)}(...r)))}catch(i){throw Ii(i,"startAfter()","Query.startAfter()")}}endBefore(...r){try{return new wi(this.firestore,fa(this._delegate,function(...s){return new Wv("endBefore",s,!0)}(...r)))}catch(i){throw Ii(i,"endBefore()","Query.endBefore()")}}endAt(...r){try{return new wi(this.firestore,fa(this._delegate,function(...s){return new Wv("endAt",s,!1)}(...r)))}catch(i){throw Ii(i,"endAt()","Query.endAt()")}}isEqual(r){return Tv(this._delegate,r._delegate)}get(r){let i;return i="cache"===(null==r?void 0:r.source)?function(s){s=qt(s,$r);const r=qt(s.firestore,Pn),i=Ir(r),u=new uu(r);return function(s,r){const i=new or;return s.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(u=(0,be.Z)(function*(d,f,E){try{const w=yield om(d,f,!0),A=new os(f,w.Gn),P=A.Io(w.documents),V=A.applyChanges(P,!1);E.resolve(V.snapshot)}catch(w){const A=ip(w,`Failed to execute query '${f} against cache`);E.reject(A)}}),function(d,f,E){return u.apply(this,arguments)})(yield gv(s),r,i);var u})),i.promise}(i,s._query).then(d=>new ou(r,u,s,d))}(this._delegate):"server"===(null==r?void 0:r.source)?function(s){s=qt(s,$r);const r=qt(s.firestore,Pn),i=Ir(r),u=new uu(r);return Ev(i,s._query,{source:"server"}).then(d=>new ou(r,u,s,d))}(this._delegate):function(s){s=qt(s,$r);const r=qt(s.firestore,Pn),i=Ir(r),u=new uu(r);return Bm(s._query),Ev(i,s._query).then(d=>new ou(r,u,s,d))}(this._delegate),i.then(u=>new Zm(this.firestore,new ou(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)))}onSnapshot(...r){const i=P0(r),u=Oh(r,d=>new Zm(this.firestore,new ou(this.firestore._delegate,this._userDataWriter,this._delegate,d._snapshot)));return qm(this._delegate,i,u)}withConverter(r){return new wi(this.firestore,this._delegate.withConverter(r?gl.getInstance(this.firestore,r):null))}}class Km{constructor(r,i){this._firestore=r,this._delegate=i}get type(){return this._delegate.type}get doc(){return new Sp(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Zm{constructor(r,i){this._firestore=r,this._delegate=i}get query(){return new wi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(r=>new Sp(this._firestore,r))}docChanges(r){return this._delegate.docChanges(r).map(i=>new Km(this._firestore,i))}forEach(r,i){this._delegate.forEach(u=>{r.call(i,new Sp(this._firestore,u))})}isEqual(r){return Ip(this._delegate,r._delegate)}}class Bc extends wi{constructor(r,i){super(r,i),this.firestore=r,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const r=this._delegate.parent;return r?new Ls(this.firestore,r):null}doc(r){try{return new Ls(this.firestore,void 0===r?yp(this._delegate):yp(this._delegate,r))}catch(i){throw Ii(i,"doc()","CollectionReference.doc()")}}add(r){return function(s,r){const i=qt(s.firestore,Pn),u=yp(s),d=wp(s.converter,r);return xh(i,[Mv(hl(s.firestore),"addDoc",u._key,d,null!==s.converter,{}).toMutation(u._key,vr.exists(!1))]).then(()=>u)}(this._delegate,r).then(i=>new Ls(this.firestore,i))}isEqual(r){return km(this._delegate,r._delegate)}withConverter(r){return new Bc(this.firestore,this._delegate.withConverter(r?gl.getInstance(this.firestore,r):null))}}function ml(s){return qt(s,wn)}class uE{constructor(...r){this._delegate=new iu(...r)}static documentId(){return new uE(Rr.keyField().canonicalString())}isEqual(r){return(r=(0,Wt.m9)(r))instanceof iu&&this._delegate._internalPath.isEqual(r._internalPath)}}class yo{constructor(r){this._delegate=r}static serverTimestamp(){const r=new as("serverTimestamp");return r._methodName="FieldValue.serverTimestamp",new yo(r)}static delete(){const r=new Fc("deleteField");return r._methodName="FieldValue.delete",new yo(r)}static arrayUnion(...r){const i=function(...s){return new lT("arrayUnion",s)}(...r);return i._methodName="FieldValue.arrayUnion",new yo(i)}static arrayRemove(...r){const i=function(...s){return new _0("arrayRemove",s)}(...r);return i._methodName="FieldValue.arrayRemove",new yo(i)}static increment(r){const i=function(s){return new da("increment",s)}(r);return i._methodName="FieldValue.increment",new yo(i)}isEqual(r){return this._delegate.isEqual(r._delegate)}}const Ap={Firestore:Dp,GeoPoint:_p,Timestamp:ar,Blob:pl,Transaction:oE,WriteBatch:aE,DocumentReference:Ls,DocumentSnapshot:Tp,Query:wi,QueryDocumentSnapshot:Sp,QuerySnapshot:Zm,CollectionReference:Bc,FieldPath:uE,FieldValue:yo,setLogLevel:function(s){!function(s){oo.setLogLevel(s)}(s)},CACHE_SIZE_UNLIMITED:-1};!function(s){(function(s,r){s.INTERNAL.registerComponent(new cd.wA("firestore-compat",i=>((r,i)=>new Dp(r,i,new M0))(i.getProvider("app-compat").getImmediate(),i.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},Ap)))})(s),s.registerVersion("@firebase/firestore-compat","0.1.1")}(Po.Z);var yl=j(9765),k0=j(6682),Ph=j(309),Hc=j(5345);function li(s,r){return"function"==typeof r?i=>i.pipe(li((u,d)=>(0,Ye.D)(s(u,d)).pipe((0,ft.U)((f,E)=>r(u,f,d,E))))):i=>i.lift(new F0(s))}class F0{constructor(r){this.project=r}call(r,i){return i.subscribe(new _T(r,this.project))}}class _T extends Hc.Ds{constructor(r,i){super(r),this.project=i,this.index=0}_next(r){let i;const u=this.index++;try{i=this.project(r,u)}catch(d){return void this.destination.error(d)}this._innerSub(i)}_innerSub(r){const i=this.innerSubscription;i&&i.unsubscribe();const u=new Hc.IY(this),d=this.destination;d.add(u),this.innerSubscription=(0,Hc.ft)(r,u),this.innerSubscription!==u&&d.add(this.innerSubscription)}_complete(){const{innerSubscription:r}=this;(!r||r.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(r){this.destination.next(r)}}var vT=j(7771),ET=j(5319),CT=j(7971),VA=j(8858);class UA extends yl.xQ{constructor(r=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,u){super(),this.scheduler=u,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=r<1?1:r,this._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(r){if(!this.isStopped){const i=this._events;i.push(r),i.length>this._bufferSize&&i.shift()}super.next(r)}nextTimeWindow(r){this.isStopped||(this._events.push(new L0(this._getNow(),r)),this._trimBufferThenGetEvents()),super.next(r)}_subscribe(r){const i=this._infiniteTimeWindow,u=i?this._events:this._trimBufferThenGetEvents(),d=this.scheduler,f=u.length;let E;if(this.closed)throw new CT.N;if(this.isStopped||this.hasError?E=ET.w.EMPTY:(this.observers.push(r),E=new VA.W(this,r)),d&&r.add(r=new Ph.ht(r,d)),i)for(let w=0;w<f&&!r.closed;w++)r.next(u[w]);else for(let w=0;w<f&&!r.closed;w++)r.next(u[w].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),E}_getNow(){return(this.scheduler||vT.c).now()}_trimBufferThenGetEvents(){const r=this._getNow(),i=this._bufferSize,u=this._windowTime,d=this._events,f=d.length;let E=0;for(;E<f&&!(r-d[E].time<u);)E++;return f>i&&(E=Math.max(E,f-i)),E>0&&d.splice(0,E),d}}class L0{constructor(r,i){this.time=r,this.value=i}}function Np(s,r,i){let u;return u=s&&"object"==typeof s?s:{bufferSize:s,windowTime:r,refCount:!1,scheduler:i},d=>d.lift(function({bufferSize:s=Number.POSITIVE_INFINITY,windowTime:r=Number.POSITIVE_INFINITY,refCount:i,scheduler:u}){let d,E,f=0,w=!1,A=!1;return function(V){let W;f++,!d||w?(w=!1,d=new UA(s,r,u),W=d.subscribe(this),E=V.subscribe({next(ue){d.next(ue)},error(ue){w=!0,d.error(ue)},complete(){A=!0,E=void 0,d.complete()}}),A&&(E=void 0)):W=d.subscribe(this),this.add(()=>{f--,W.unsubscribe(),W=void 0,E&&!A&&i&&0===f&&(E.unsubscribe(),E=void 0,d=void 0)})}}(u))}const Rp=(()=>{function s(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return s.prototype=Object.create(Error.prototype),s})(),V0=(()=>{function s(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return s.prototype=Object.create(Error.prototype),s})();var _l=j(9193);function lE(s){return r=>0===s?(0,_l.c)():r.lift(new wT(s))}class wT{constructor(r){if(this.total=r,this.total<0)throw new V0}call(r,i){return i.subscribe(new bT(r,this.total))}}class bT extends yn.L{constructor(r,i){super(r),this.total=i,this.count=0}_next(r){const i=this.total,u=++this.count;u<=i&&(this.destination.next(r),u===i&&(this.destination.complete(),this.unsubscribe()))}}function cE(s=null){return r=>r.lift(new DT(s))}class DT{constructor(r){this.defaultValue=r}call(r,i){return i.subscribe(new TT(r,this.defaultValue))}}class TT extends yn.L{constructor(r,i){super(r),this.defaultValue=i,this.isEmpty=!0}_next(r){this.isEmpty=!1,this.destination.next(r)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function $c(s=AT){return r=>r.lift(new ST(s))}class ST{constructor(r){this.errorFactory=r}call(r,i){return i.subscribe(new U0(r,this.errorFactory))}}class U0 extends yn.L{constructor(r,i){super(r),this.errorFactory=i,this.hasValue=!1}_next(r){this.hasValue=!0,this.destination.next(r)}_complete(){if(this.hasValue)return this.destination.complete();{let r;try{r=this.errorFactory()}catch(i){r=i}this.destination.error(r)}}}function AT(){return new Rp}var dE=j(4487);function Wc(s,r){const i=arguments.length>=2;return u=>u.pipe(s?Un((d,f)=>s(d,f,u)):dE.y,lE(1),i?cE(r):$c(()=>new Rp))}function hE(s,r){return r?li(()=>s,r):li(()=>s)}var fE=j(3101),Ym=j(7841);const pE=new y.InjectionToken("angularfire2.auth.use-emulator"),gE=new y.InjectionToken("angularfire2.auth.settings"),j0=new y.InjectionToken("angularfire2.auth.tenant-id"),B0=new y.InjectionToken("angularfire2.auth.langugage-code"),H0=new y.InjectionToken("angularfire2.auth.use-device-language"),Jm=new y.InjectionToken("angularfire.auth.persistence"),$0=(s,r,i,u,d,f,E,w)=>(0,hn.cc)(`${s.name}.auth`,"AngularFireAuth",s.name,()=>{const A=r.runOutsideAngular(()=>s.auth());if(i&&A.useEmulator(...i),u&&(A.tenantId=u),A.languageCode=d,f&&A.useDeviceLanguage(),E)for(const[P,V]of Object.entries(E))A.settings[P]=V;return w&&A.setPersistence(w),A},[i,u,d,f,E,w]);let kh=(()=>{class s{constructor(i,u,d,f,E,w,A,P,V,W,ue){const pe=new yl.xQ,Ue=(0,ct.of)(void 0).pipe((0,Ph.QV)(E.outsideAngular),li(()=>f.runOutsideAngular(()=>Promise.resolve().then(j.bind(j,9083)))),(0,ft.U)(()=>(0,Gt.on)(i,f,u)),(0,ft.U)(Ke=>$0(Ke,f,w,P,V,W,A,ue)),Np({bufferSize:1,refCount:!1}));if((0,T.isPlatformServer)(d))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ct.of)(null);else{Ue.pipe(Wc()).subscribe();const ut=Ue.pipe(li($t=>$t.getRedirectResult().then(kn=>kn,()=>null)),hn.iC,Np({bufferSize:1,refCount:!1})),on=Ue.pipe(li($t=>new wr.y(kn=>({unsubscribe:f.runOutsideAngular(()=>$t.onAuthStateChanged(ds=>kn.next(ds),ds=>kn.error(ds),()=>kn.complete()))})))),Sn=Ue.pipe(li($t=>new wr.y(kn=>({unsubscribe:f.runOutsideAngular(()=>$t.onIdTokenChanged(ds=>kn.next(ds),ds=>kn.error(ds),()=>kn.complete()))}))));this.authState=ut.pipe(hE(on),(0,fE.R)(E.outsideAngular),(0,Ph.QV)(E.insideAngular)),this.user=ut.pipe(hE(Sn),(0,fE.R)(E.outsideAngular),(0,Ph.QV)(E.insideAngular)),this.idToken=this.user.pipe(li($t=>$t?(0,Ye.D)($t.getIdToken()):(0,ct.of)(null))),this.idTokenResult=this.user.pipe(li($t=>$t?(0,Ye.D)($t.getIdTokenResult()):(0,ct.of)(null))),this.credential=(0,k0.T)(ut,pe,this.authState.pipe(Un($t=>!$t))).pipe((0,ft.U)($t=>(null==$t?void 0:$t.user)?$t:null),(0,fE.R)(E.outsideAngular),(0,Ph.QV)(E.insideAngular))}return(0,Gt.pX)(this,Ue,f,{spy:{apply:(Ke,ut,on)=>{(Ke.startsWith("signIn")||Ke.startsWith("createUser"))&&on.then(Sn=>pe.next(Sn))}}})}}return s.\u0275fac=function(i){return new(i||s)(y.\u0275\u0275inject(Gt.Dh),y.\u0275\u0275inject(Gt.xv,8),y.\u0275\u0275inject(y.PLATFORM_ID),y.\u0275\u0275inject(y.NgZone),y.\u0275\u0275inject(hn.HU),y.\u0275\u0275inject(pE,8),y.\u0275\u0275inject(gE,8),y.\u0275\u0275inject(j0,8),y.\u0275\u0275inject(B0,8),y.\u0275\u0275inject(H0,8),y.\u0275\u0275inject(Jm,8))},s.\u0275prov=y.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),RT=(()=>{class s{constructor(){Ym.Z.registerVersion("angularfire",hn.q4.full,"auth-compat")}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=y.\u0275\u0275defineInjector({providers:[kh]}),s})();function W0(s,r){return function(s,r=gs.z){return new wr.y(i=>{let u;return null!=r?r.schedule(()=>{u=s.onSnapshot({includeMetadataChanges:!0},i)}):u=s.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=u&&u()}})}(s,r)}function mE(s,r){return W0(s,r).pipe((0,ft.U)(i=>({payload:i,type:"query"})))}function Xm(s,r){return mE(s,r).pipe(Si(void 0),en(),(0,ft.U)(([i,u])=>{const d=u.payload.docChanges(),f=d.map(E=>({type:E.type,payload:E}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(u.payload.metadata)&&u.payload.docs.forEach((E,w)=>{const A=d.find(V=>V.doc.ref.isEqual(E.ref)),P=null==i?void 0:i.payload.docs.find(V=>V.ref.isEqual(E.ref));A&&JSON.stringify(A.doc.metadata)===JSON.stringify(E.metadata)||!A&&P&&JSON.stringify(P.metadata)===JSON.stringify(E.metadata)||f.push({type:"modified",payload:{oldIndex:w,newIndex:w,type:"modified",doc:E}})}),f}))}function G0(s,r,i){return Xm(s,i).pipe(ys((u,d)=>function(s,r,i){return r.forEach(u=>{i.indexOf(u.type)>-1&&(s=function(s,r){switch(r.type){case"added":if(!s[r.newIndex]||!s[r.newIndex].doc.ref.isEqual(r.doc.ref))return xp(s,r.newIndex,0,r);break;case"modified":if(null==s[r.oldIndex]||s[r.oldIndex].doc.ref.isEqual(r.doc.ref)){if(r.oldIndex!==r.newIndex){const i=s.slice();return i.splice(r.oldIndex,1),i.splice(r.newIndex,0,r),i}return xp(s,r.newIndex,1,r)}break;case"removed":if(s[r.oldIndex]&&s[r.oldIndex].doc.ref.isEqual(r.doc.ref))return xp(s,r.oldIndex,1)}return s}(s,u))}),s}(u,d.map(f=>f.payload),r),[]),i=>i.lift(new Rn(void 0,void 0)),(0,ft.U)(u=>u.map(d=>({type:d.type,payload:d}))))}function xp(s,r,i,...u){const d=s.slice();return d.splice(r,i,...u),d}function _E(s){return(!s||0===s.length)&&(s=["added","removed","modified"]),s}class vE{constructor(r,i,u){this.ref=r,this.query=i,this.afs=u}stateChanges(r){let i=Xm(this.query,this.afs.schedulers.outsideAngular);return r&&r.length>0&&(i=i.pipe((0,ft.U)(u=>u.filter(d=>r.indexOf(d.type)>-1)))),i.pipe(Si(void 0),en(),Un(([u,d])=>d.length>0||!u),(0,ft.U)(([u,d])=>d),hn.iC)}auditTrail(r){return this.stateChanges(r).pipe(ys((i,u)=>[...i,...u],[]))}snapshotChanges(r){const i=_E(r);return G0(this.query,i,this.afs.schedulers.outsideAngular).pipe(hn.iC)}valueChanges(r={}){return mE(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(i=>i.payload.docs.map(u=>r.idField?Object.assign(Object.assign({},u.data()),{[r.idField]:u.id}):u.data())),hn.iC)}get(r){return(0,Ye.D)(this.query.get(r)).pipe(hn.iC)}add(r){return this.ref.add(r)}doc(r){return new ey(this.ref.doc(r),this.afs)}}class ey{constructor(r,i){this.ref=r,this.afs=i}set(r,i){return this.ref.set(r,i)}update(r){return this.ref.update(r)}delete(){return this.ref.delete()}collection(r,i){const u=this.ref.collection(r),{ref:d,query:f}=wE(u,i);return new vE(d,f,this.afs)}snapshotChanges(){return function(s,r){return W0(s,r).pipe(Si(void 0),en(),(0,ft.U)(([i,u])=>u.exists?(null==i?void 0:i.exists)?{payload:u,type:"modified"}:{payload:u,type:"added"}:{payload:u,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(hn.iC)}valueChanges(r={}){return this.snapshotChanges().pipe((0,ft.U)(({payload:i})=>r.idField?Object.assign(Object.assign({},i.data()),{[r.idField]:i.id}):i.data()))}get(r){return(0,Ye.D)(this.ref.get(r)).pipe(hn.iC)}}class z0{constructor(r,i){this.query=r,this.afs=i}stateChanges(r){return r&&0!==r.length?Xm(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(i=>i.filter(u=>r.indexOf(u.type)>-1)),Un(i=>i.length>0),hn.iC):Xm(this.query,this.afs.schedulers.outsideAngular).pipe(hn.iC)}auditTrail(r){return this.stateChanges(r).pipe(ys((i,u)=>[...i,...u],[]))}snapshotChanges(r){const i=_E(r);return G0(this.query,i,this.afs.schedulers.outsideAngular).pipe(hn.iC)}valueChanges(r={}){return mE(this.query,this.afs.schedulers.outsideAngular).pipe((0,ft.U)(u=>u.payload.docs.map(d=>r.idField?Object.assign({[r.idField]:d.id},d.data()):d.data())),hn.iC)}get(r){return(0,Ye.D)(this.query.get(r)).pipe(hn.iC)}}const EE=new y.InjectionToken("angularfire2.enableFirestorePersistence"),K0=new y.InjectionToken("angularfire2.firestore.persistenceSettings"),CE=new y.InjectionToken("angularfire2.firestore.settings"),IE=new y.InjectionToken("angularfire2.firestore.use-emulator");function wE(s,r=(i=>i)){return{query:r(s),ref:s}}let ty=(()=>{class s{constructor(i,u,d,f,E,w,A,P,V,W,ue,pe,Ue,Ke,ut,on){this.schedulers=A;const Sn=(0,Gt.on)(i,w,u),$t=V;W&&$0(Sn,w,ue,Ue,Ke,ut,pe,on),[this.firestore,this.persistenceEnabled$]=(0,hn.cc)(`${Sn.name}.firestore`,"AngularFirestore",Sn.name,()=>{const kn=w.runOutsideAngular(()=>Sn.firestore());if(f&&kn.settings(f),$t&&kn.useEmulator(...$t),d&&!(0,T.isPlatformServer)(E)){const ds=()=>{try{return(0,Ye.D)(kn.enablePersistence(P||void 0).then(()=>!0,()=>!1))}catch(zy){return"undefined"!=typeof console&&console.warn(zy),(0,ct.of)(!1)}};return[kn,w.runOutsideAngular(ds)]}return[kn,(0,ct.of)(!1)]},[f,$t,d])}collection(i,u){let d;d="string"==typeof i?this.firestore.collection(i):i;const{ref:f,query:E}=wE(d,u),w=this.schedulers.ngZone.run(()=>f);return new vE(w,E,this)}collectionGroup(i,u){const d=u||(E=>E),f=this.firestore.collectionGroup(i);return new z0(d(f),this)}doc(i){let u;u="string"==typeof i?this.firestore.doc(i):i;const d=this.schedulers.ngZone.run(()=>u);return new ey(d,this)}createId(){return this.firestore.collection("_").doc().id}}return s.\u0275fac=function(i){return new(i||s)(y.\u0275\u0275inject(Gt.Dh),y.\u0275\u0275inject(Gt.xv,8),y.\u0275\u0275inject(EE,8),y.\u0275\u0275inject(CE,8),y.\u0275\u0275inject(y.PLATFORM_ID),y.\u0275\u0275inject(y.NgZone),y.\u0275\u0275inject(hn.HU),y.\u0275\u0275inject(K0,8),y.\u0275\u0275inject(IE,8),y.\u0275\u0275inject(kh,8),y.\u0275\u0275inject(pE,8),y.\u0275\u0275inject(gE,8),y.\u0275\u0275inject(j0,8),y.\u0275\u0275inject(B0,8),y.\u0275\u0275inject(H0,8),y.\u0275\u0275inject(Jm,8))},s.\u0275prov=y.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),OT=(()=>{class s{constructor(){Ym.Z.registerVersion("angularfire",hn.q4.full,"fst-compat")}static enablePersistence(i){return{ngModule:s,providers:[{provide:EE,useValue:!0},{provide:K0,useValue:i}]}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=y.\u0275\u0275defineInjector({providers:[ty]}),s})();var bE=j(9796),DE=j(1555);function Mp(s,r){return new wr.y(i=>{const u=s.length;if(0===u)return void i.complete();const d=new Array(u);let f=0,E=0;for(let w=0;w<u;w++){const A=(0,Ye.D)(s[w]);let P=!1;i.add(A.subscribe({next:V=>{P||(P=!0,E++),d[w]=V},error:V=>i.error(V),complete:()=>{f++,(f===u||!P)&&(E===u&&i.next(r?r.reduce((V,W,ue)=>(V[W]=d[ue],V),{}):d),i.complete())}}))}})}let ny=(()=>{class s{constructor(i,u){this._renderer=i,this._elementRef=u,this.onChange=d=>{},this.onTouched=()=>{}}setProperty(i,u){this._renderer.setProperty(this._elementRef.nativeElement,i,u)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}}return s.\u0275fac=function(i){return new(i||s)(y.\u0275\u0275directiveInject(y.Renderer2),y.\u0275\u0275directiveInject(y.ElementRef))},s.\u0275dir=y.\u0275\u0275defineDirective({type:s}),s})(),Vs=(()=>{class s extends ny{}return s.\u0275fac=function(){let r;return function(u){return(r||(r=y.\u0275\u0275getInheritedFactory(s)))(u||s)}}(),s.\u0275dir=y.\u0275\u0275defineDirective({type:s,features:[y.\u0275\u0275InheritDefinitionFeature]}),s})();const _o=new y.InjectionToken("NgValueAccessor"),FT={provide:_o,useExisting:(0,y.forwardRef)(()=>pa),multi:!0},LT=new y.InjectionToken("CompositionEventMode");let pa=(()=>{class s extends ny{constructor(i,u,d){super(i,u),this._compositionMode=d,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const s=(0,T.\u0275getDOM)()?(0,T.\u0275getDOM)().getUserAgent():"";return/android (\d+)/.test(s.toLowerCase())}())}writeValue(i){this.setProperty("value",null==i?"":i)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}}return s.\u0275fac=function(i){return new(i||s)(y.\u0275\u0275directiveInject(y.Renderer2),y.\u0275\u0275directiveInject(y.ElementRef),y.\u0275\u0275directiveInject(LT,8))},s.\u0275dir=y.\u0275\u0275defineDirective({type:s,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,u){1&i&&y.\u0275\u0275listener("input",function(f){return u._handleInput(f.target.value)})("blur",function(){return u.onTouched()})("compositionstart",function(){return u._compositionStart()})("compositionend",function(f){return u._compositionEnd(f.target.value)})},features:[y.\u0275\u0275ProvidersFeature([FT]),y.\u0275\u0275InheritDefinitionFeature]}),s})();function vo(s){return null==s||0===s.length}const dr=new y.InjectionToken("NgValidators"),lu=new y.InjectionToken("NgAsyncValidators");function vl(s){return null}function RE(s){return null!=s}function ry(s){const r=(0,y.\u0275isPromise)(s)?(0,Ye.D)(s):s;return(0,y.\u0275isObservable)(r),r}function xE(s){let r={};return s.forEach(i=>{r=null!=i?Object.assign(Object.assign({},r),i):r}),0===Object.keys(r).length?null:r}function iy(s,r){return r.map(i=>i(s))}function Y0(s){return s.map(r=>function(s){return!s.validate}(r)?r:i=>r.validate(i))}function sy(s){return null!=s?function(s){if(!s)return null;const r=s.filter(RE);return 0==r.length?null:function(i){return xE(iy(i,r))}}(Y0(s)):null}function OE(s){return null!=s?function(s){if(!s)return null;const r=s.filter(RE);return 0==r.length?null:function(i){return function(...s){if(1===s.length){const r=s[0];if((0,bE.k)(r))return Mp(r,null);if((0,DE.K)(r)&&Object.getPrototypeOf(r)===Object.prototype){const i=Object.keys(r);return Mp(i.map(u=>r[u]),i)}}if("function"==typeof s[s.length-1]){const r=s.pop();return Mp(s=1===s.length&&(0,bE.k)(s[0])?s[0]:s,null).pipe((0,ft.U)(i=>r(...i)))}return Mp(s,null)}(iy(i,r).map(ry)).pipe((0,ft.U)(xE))}}(Y0(s)):null}function PE(s,r){return null===s?[r]:Array.isArray(s)?[...s,r]:[s,r]}function FE(s){return s?Array.isArray(s)?s:[s]:[]}function ay(s,r){return Array.isArray(s)?s.includes(r):s===r}function uy(s,r){const i=FE(r);return FE(s).forEach(d=>{ay(i,d)||i.push(d)}),i}function Pp(s,r){return FE(r).filter(i=>!ay(s,i))}let X0=(()=>{class s{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=sy(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=OE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i){this.control&&this.control.reset(i)}hasError(i,u){return!!this.control&&this.control.hasError(i,u)}getError(i,u){return this.control?this.control.getError(i,u):null}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=y.\u0275\u0275defineDirective({type:s}),s})(),Qr=(()=>{class s extends X0{get formDirective(){return null}get path(){return null}}return s.\u0275fac=function(){let r;return function(u){return(r||(r=y.\u0275\u0275getInheritedFactory(s)))(u||s)}}(),s.\u0275dir=y.\u0275\u0275defineDirective({type:s,features:[y.\u0275\u0275InheritDefinitionFeature]}),s})();class Eo extends X0{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class kp{constructor(r){this._cd=r}is(r){var i,u,d;return"submitted"===r?!!(null===(i=this._cd)||void 0===i?void 0:i.submitted):!!(null===(d=null===(u=this._cd)||void 0===u?void 0:u.control)||void 0===d?void 0:d[r])}}let qc=(()=>{class s extends kp{constructor(i){super(i)}}return s.\u0275fac=function(i){return new(i||s)(y.\u0275\u0275directiveInject(Eo,2))},s.\u0275dir=y.\u0275\u0275defineDirective({type:s,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,u){2&i&&y.\u0275\u0275classProp("ng-untouched",u.is("untouched"))("ng-touched",u.is("touched"))("ng-pristine",u.is("pristine"))("ng-dirty",u.is("dirty"))("ng-valid",u.is("valid"))("ng-invalid",u.is("invalid"))("ng-pending",u.is("pending"))},features:[y.\u0275\u0275InheritDefinitionFeature]}),s})(),Fh=(()=>{class s extends kp{constructor(i){super(i)}}return s.\u0275fac=function(i){return new(i||s)(y.\u0275\u0275directiveInject(Qr,10))},s.\u0275dir=y.\u0275\u0275defineDirective({type:s,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,u){2&i&&y.\u0275\u0275classProp("ng-untouched",u.is("untouched"))("ng-touched",u.is("touched"))("ng-pristine",u.is("pristine"))("ng-dirty",u.is("dirty"))("ng-valid",u.is("valid"))("ng-invalid",u.is("invalid"))("ng-pending",u.is("pending"))("ng-submitted",u.is("submitted"))},features:[y.\u0275\u0275InheritDefinitionFeature]}),s})();function Fp(s,r){Vp(s,r),r.valueAccessor.writeValue(s.value),function(s,r){r.valueAccessor.registerOnChange(i=>{s._pendingValue=i,s._pendingChange=!0,s._pendingDirty=!0,"change"===s.updateOn&&Vh(s,r)})}(s,r),function(s,r){const i=(u,d)=>{r.valueAccessor.writeValue(u),d&&r.viewToModelUpdate(u)};s.registerOnChange(i),r._registerOnDestroy(()=>{s._unregisterOnChange(i)})}(s,r),function(s,r){r.valueAccessor.registerOnTouched(()=>{s._pendingTouched=!0,"blur"===s.updateOn&&s._pendingChange&&Vh(s,r),"submit"!==s.updateOn&&s.markAsTouched()})}(s,r),function(s,r){if(r.valueAccessor.setDisabledState){const i=u=>{r.valueAccessor.setDisabledState(u)};s.registerOnDisabledChange(i),r._registerOnDestroy(()=>{s._unregisterOnDisabledChange(i)})}}(s,r)}function El(s,r){s.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(r)})}function Vp(s,r){const i=function(s){return s._rawValidators}(s);null!==r.validator?s.setValidators(PE(i,r.validator)):"function"==typeof i&&s.setValidators([i]);const u=function(s){return s._rawAsyncValidators}(s);null!==r.asyncValidator?s.setAsyncValidators(PE(u,r.asyncValidator)):"function"==typeof u&&s.setAsyncValidators([u]);const d=()=>s.updateValueAndValidity();El(r._rawValidators,d),El(r._rawAsyncValidators,d)}function Vh(s,r){s._pendingDirty&&s.markAsDirty(),s.setValue(s._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(s._pendingValue),s._pendingChange=!1}function jp(s,r){const i=s.indexOf(r);i>-1&&s.splice(i,1)}const Uh="VALID",Kc="INVALID",cu="PENDING",hy="DISABLED";function sn(s){return(BE(s)?s.validators:s)||null}function du(s){return Array.isArray(s)?sy(s):s||null}function Il(s,r){return(BE(r)?r.asyncValidators:s)||null}function jh(s){return Array.isArray(s)?OE(s):s||null}function BE(s){return null!=s&&!Array.isArray(s)&&"object"==typeof s}class Ct{constructor(r,i){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=r,this._rawAsyncValidators=i,this._composedValidatorFn=du(this._rawValidators),this._composedAsyncValidatorFn=jh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===Uh}get invalid(){return this.status===Kc}get pending(){return this.status==cu}get disabled(){return this.status===hy}get enabled(){return this.status!==hy}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._rawValidators=r,this._composedValidatorFn=du(r)}setAsyncValidators(r){this._rawAsyncValidators=r,this._composedAsyncValidatorFn=jh(r)}addValidators(r){this.setValidators(uy(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(uy(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(Pp(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(Pp(r,this._rawAsyncValidators))}hasValidator(r){return ay(this._rawValidators,r)}hasAsyncValidator(r){return ay(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=cu,!1!==r.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){const i=this._parentMarkedDirty(r.onlySelf);this.status=hy,this.errors=null,this._forEachChild(u=>{u.disable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this._updateValue(),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:i})),this._onDisabledChange.forEach(u=>u(!0))}enable(r={}){const i=this._parentMarkedDirty(r.onlySelf);this.status=Uh,this._forEachChild(u=>{u.enable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:i})),this._onDisabledChange.forEach(u=>u(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Uh||this.status===cu)&&this._runAsyncValidator(r.emitEvent)),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hy:Uh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=cu,this._hasOwnPendingAsyncValidator=!0;const i=ry(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(u=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(u,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,i={}){this.errors=r,this._updateControlsErrors(!1!==i.emitEvent)}get(r){return function(s,r,i){if(null==r||(Array.isArray(r)||(r=r.split(".")),Array.isArray(r)&&0===r.length))return null;let u=s;return r.forEach(d=>{u=u instanceof Hp?u.controls.hasOwnProperty(d)?u.controls[d]:null:u instanceof Yr&&u.at(d)||null}),u}(this,r)}getError(r,i){const u=i?this.get(i):this;return u&&u.errors?u.errors[r]:null}hasError(r,i){return!!this.getError(r,i)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new y.EventEmitter,this.statusChanges=new y.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?hy:this.errors?Kc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(cu)?cu:this._anyControlsHaveStatus(Kc)?Kc:Uh}_anyControlsHaveStatus(r){return this._anyControls(i=>i.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_isBoxedValue(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){BE(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class bi extends Ct{constructor(r=null,i,u){super(sn(i),Il(u,i)),this._onChange=[],this._applyFormState(r),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(r,i={}){this.value=this._pendingValue=r,this._onChange.length&&!1!==i.emitModelToViewChange&&this._onChange.forEach(u=>u(this.value,!1!==i.emitViewToModelChange)),this.updateValueAndValidity(i)}patchValue(r,i={}){this.setValue(r,i)}reset(r=null,i={}){this._applyFormState(r),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){jp(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){jp(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(r){this._isBoxedValue(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}}class Hp extends Ct{constructor(r,i,u){super(sn(i),Il(u,i)),this.controls=r,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(r,i){return this.controls[r]?this.controls[r]:(this.controls[r]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(r,i,u={}){this.registerControl(r,i),this.updateValueAndValidity({emitEvent:u.emitEvent}),this._onCollectionChange()}removeControl(r,i={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(r,i,u={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],i&&this.registerControl(r,i),this.updateValueAndValidity({emitEvent:u.emitEvent}),this._onCollectionChange()}contains(r){return this.controls.hasOwnProperty(r)&&this.controls[r].enabled}setValue(r,i={}){this._checkAllValuesPresent(r),Object.keys(r).forEach(u=>{this._throwIfControlMissing(u),this.controls[u].setValue(r[u],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(r,i={}){null!=r&&(Object.keys(r).forEach(u=>{this.controls[u]&&this.controls[u].patchValue(r[u],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(r={},i={}){this._forEachChild((u,d)=>{u.reset(r[d],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(r,i,u)=>(r[u]=i instanceof bi?i.value:i.getRawValue(),r))}_syncPendingControls(){let r=this._reduceChildren(!1,(i,u)=>!!u._syncPendingControls()||i);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[r])throw new Error(`Cannot find form control with name: ${r}.`)}_forEachChild(r){Object.keys(this.controls).forEach(i=>{const u=this.controls[i];u&&r(u,i)})}_setUpControls(){this._forEachChild(r=>{r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(r){for(const i of Object.keys(this.controls)){const u=this.controls[i];if(this.contains(i)&&r(u))return!0}return!1}_reduceValue(){return this._reduceChildren({},(r,i,u)=>((i.enabled||this.disabled)&&(r[u]=i.value),r))}_reduceChildren(r,i){let u=r;return this._forEachChild((d,f)=>{u=i(u,d,f)}),u}_allControlsDisabled(){for(const r of Object.keys(this.controls))if(this.controls[r].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(r){this._forEachChild((i,u)=>{if(void 0===r[u])throw new Error(`Must supply a value for form control with name: '${u}'.`)})}}class Yr extends Ct{constructor(r,i,u){super(sn(i),Il(u,i)),this.controls=r,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(r){return this.controls[r]}push(r,i={}){this.controls.push(r),this._registerControl(r),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(r,i,u={}){this.controls.splice(r,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:u.emitEvent})}removeAt(r,i={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(r,i,u={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),i&&(this.controls.splice(r,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:u.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(r,i={}){this._checkAllValuesPresent(r),r.forEach((u,d)=>{this._throwIfControlMissing(d),this.at(d).setValue(u,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(r,i={}){null!=r&&(r.forEach((u,d)=>{this.at(d)&&this.at(d).patchValue(u,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(r=[],i={}){this._forEachChild((u,d)=>{u.reset(r[d],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(r=>r instanceof bi?r.value:r.getRawValue())}clear(r={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:r.emitEvent}))}_syncPendingControls(){let r=this.controls.reduce((i,u)=>!!u._syncPendingControls()||i,!1);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(r))throw new Error(`Cannot find form control at index ${r}`)}_forEachChild(r){this.controls.forEach((i,u)=>{r(i,u)})}_updateValue(){this.value=this.controls.filter(r=>r.enabled||this.disabled).map(r=>r.value)}_anyControls(r){return this.controls.some(i=>i.enabled&&r(i))}_setUpControls(){this._forEachChild(r=>this._registerControl(r))}_checkAllValuesPresent(r){this._forEachChild((i,u)=>{if(void 0===r[u])throw new Error(`Must supply a value for form control at index: ${u}.`)})}_allControlsDisabled(){for(const r of this.controls)if(r.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(r){r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)}}const zT={provide:Qr,useExisting:(0,y.forwardRef)(()=>hu)},Bh=(()=>Promise.resolve(null))();let hu=(()=>{class s extends Qr{constructor(i,u){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new y.EventEmitter,this.form=new Hp({},sy(i),OE(u))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){Bh.then(()=>{const u=this._findContainer(i.path);i.control=u.registerControl(i.name,i.control),Fp(i.control,i),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){Bh.then(()=>{const u=this._findContainer(i.path);u&&u.removeControl(i.name),jp(this._directives,i)})}addFormGroup(i){Bh.then(()=>{const u=this._findContainer(i.path),d=new Hp({});(function(s,r){Vp(s,r)})(d,i),u.registerControl(i.name,d),d.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){Bh.then(()=>{const u=this._findContainer(i.path);u&&u.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,u){Bh.then(()=>{this.form.get(i.path).setValue(u)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,function(s,r){s._syncPendingControls(),r.forEach(i=>{const u=i.control;"submit"===u.updateOn&&u._pendingChange&&(i.viewToModelUpdate(u._pendingValue),u._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(i),!1}onReset(){this.resetForm()}resetForm(i){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}}return s.\u0275fac=function(i){return new(i||s)(y.\u0275\u0275directiveInject(dr,10),y.\u0275\u0275directiveInject(lu,10))},s.\u0275dir=y.\u0275\u0275defineDirective({type:s,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,u){1&i&&y.\u0275\u0275listener("submit",function(f){return u.onSubmit(f)})("reset",function(){return u.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y.\u0275\u0275ProvidersFeature([zT]),y.\u0275\u0275InheritDefinitionFeature]}),s})();const lw={provide:Eo,useExisting:(0,y.forwardRef)(()=>Io)},Zc=(()=>Promise.resolve(null))();let Io=(()=>{class s extends Eo{constructor(i,u,d,f){super(),this.control=new bi,this._registered=!1,this.update=new y.EventEmitter,this._parent=i,this._setValidators(u),this._setAsyncValidators(d),this.valueAccessor=function(s,r){if(!r)return null;let i,u,d;return Array.isArray(r),r.forEach(f=>{f.constructor===pa?i=f:function(s){return Object.getPrototypeOf(s.constructor)===Vs}(f)?u=f:d=f}),d||u||i||null}(0,f)}ngOnChanges(i){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in i&&this._updateDisabled(i),function(s,r){if(!s.hasOwnProperty("model"))return!1;const i=s.model;return!!i.isFirstChange()||!Object.is(r,i.currentValue)}(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(s,r){return[...r.path,s]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Fp(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(i){Zc.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1})})}_updateDisabled(i){const u=i.isDisabled.currentValue,d=""===u||u&&"false"!==u;Zc.then(()=>{d&&!this.control.disabled?this.control.disable():!d&&this.control.disabled&&this.control.enable()})}}return s.\u0275fac=function(i){return new(i||s)(y.\u0275\u0275directiveInject(Qr,9),y.\u0275\u0275directiveInject(dr,10),y.\u0275\u0275directiveInject(lu,10),y.\u0275\u0275directiveInject(_o,10))},s.\u0275dir=y.\u0275\u0275defineDirective({type:s,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[y.\u0275\u0275ProvidersFeature([lw]),y.\u0275\u0275InheritDefinitionFeature,y.\u0275\u0275NgOnChangesFeature]}),s})(),Qc=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=y.\u0275\u0275defineDirective({type:s,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),s})();const Yc={provide:_o,useExisting:(0,y.forwardRef)(()=>fy),multi:!0};let fy=(()=>{class s extends Vs{writeValue(i){this.setProperty("value",null==i?"":i)}registerOnChange(i){this.onChange=u=>{i(""==u?null:parseFloat(u))}}}return s.\u0275fac=function(){let r;return function(u){return(r||(r=y.\u0275\u0275getInheritedFactory(s)))(u||s)}}(),s.\u0275dir=y.\u0275\u0275defineDirective({type:s,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,u){1&i&&y.\u0275\u0275listener("input",function(f){return u.onChange(f.target.value)})("blur",function(){return u.onTouched()})},features:[y.\u0275\u0275ProvidersFeature([Yc]),y.\u0275\u0275InheritDefinitionFeature]}),s})(),Hh=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=y.\u0275\u0275defineInjector({}),s})();const QE={provide:dr,useExisting:(0,y.forwardRef)(()=>Jc),multi:!0};let Jc=(()=>{class s{constructor(){this._required=!1}get required(){return this._required}set required(i){this._required=null!=i&&!1!==i&&"false"!=`${i}`,this._onChange&&this._onChange()}validate(i){return this.required?function(s){return vo(s.value)?{required:!0}:null}(i):null}registerOnValidatorChange(i){this._onChange=i}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=y.\u0275\u0275defineDirective({type:s,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,u){2&i&&y.\u0275\u0275attribute("required",u.required?"":null)},inputs:{required:"required"},features:[y.\u0275\u0275ProvidersFeature([QE])]}),s})();const nS={provide:dr,useExisting:(0,y.forwardRef)(()=>Gp),multi:!0};let Gp=(()=>{class s{constructor(){this._validator=vl}ngOnChanges(i){"minlength"in i&&(this._createValidator(),this._onChange&&this._onChange())}validate(i){return this.enabled()?this._validator(i):null}registerOnValidatorChange(i){this._onChange=i}_createValidator(){this._validator=this.enabled()?function(s){return r=>vo(r.value)||!function(s){return null!=s&&"number"==typeof s.length}(r.value)?null:r.value.length<s?{minlength:{requiredLength:s,actualLength:r.value.length}}:null}(function(s){return"number"==typeof s?s:parseInt(s,10)}(this.minlength)):vl}enabled(){return null!=this.minlength}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=y.\u0275\u0275defineDirective({type:s,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(i,u){2&i&&y.\u0275\u0275attribute("minlength",u.enabled()?u.minlength:null)},inputs:{minlength:"minlength"},features:[y.\u0275\u0275ProvidersFeature([nS]),y.\u0275\u0275NgOnChangesFeature]}),s})();const iS={provide:dr,useExisting:(0,y.forwardRef)(()=>py),multi:!0};let py=(()=>{class s{constructor(){this._validator=vl}ngOnChanges(i){"pattern"in i&&(this._createValidator(),this._onChange&&this._onChange())}validate(i){return this._validator(i)}registerOnValidatorChange(i){this._onChange=i}_createValidator(){this._validator=function(s){if(!s)return vl;let r,i;return"string"==typeof s?(i="","^"!==s.charAt(0)&&(i+="^"),i+=s,"$"!==s.charAt(s.length-1)&&(i+="$"),r=new RegExp(i)):(i=s.toString(),r=s),u=>{if(vo(u.value))return null;const d=u.value;return r.test(d)?null:{pattern:{requiredPattern:i,actualValue:d}}}}(this.pattern)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=y.\u0275\u0275defineDirective({type:s,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(i,u){2&i&&y.\u0275\u0275attribute("pattern",u.pattern?u.pattern:null)},inputs:{pattern:"pattern"},features:[y.\u0275\u0275ProvidersFeature([iS]),y.\u0275\u0275NgOnChangesFeature]}),s})(),Tw=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=y.\u0275\u0275defineInjector({imports:[[Hh]]}),s})(),Sw=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=y.\u0275\u0275defineInjector({imports:[Tw]}),s})();var fu=j(4334);let yy=(()=>{class s{constructor(i){this.afAuth=i}login(i,u){return new Promise((d,f)=>{this.afAuth.signInWithEmailAndPassword(i,u).then(E=>d(E),E=>f(E))})}register(i,u){return new Promise((d,f)=>{this.afAuth.createUserWithEmailAndPassword(i,u).then(E=>d(E),E=>f(E))})}getAuth(){return this.afAuth.authState.pipe((0,ft.U)(i=>i))}logOut(){this.afAuth.signOut()}}return s.\u0275fac=function(i){return new(i||s)(y.\u0275\u0275inject(kh))},s.\u0275prov=y.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();class wo extends yl.xQ{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){const i=super._subscribe(r);return i&&!i.closed&&r.next(this._value),i}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new CT.N;return this._value}next(r){super.next(this._value=r)}}class oS extends yn.L{notifyNext(r,i,u,d,f){this.destination.next(i)}notifyError(r,i){this.destination.error(r)}notifyComplete(r){this.destination.complete()}}class Aw extends yn.L{constructor(r,i,u){super(),this.parent=r,this.outerValue=i,this.outerIndex=u,this.index=0}_next(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)}_error(r){this.parent.notifyError(r,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var aS=j(7444);function uS(s,r,i,u,d=new Aw(s,i,u)){if(!d.closed)return r instanceof wr.y?r.subscribe(d):(0,aS.s)(r)(d)}var lS=j(6693);const Nw={};class _y{constructor(r){this.resultSelector=r}call(r,i){return i.subscribe(new dS(r,this.resultSelector))}}class dS extends oS{constructor(r,i){super(r),this.resultSelector=i,this.active=0,this.values=[],this.observables=[]}_next(r){this.values.push(Nw),this.observables.push(r)}_complete(){const r=this.observables,i=r.length;if(0===i)this.destination.complete();else{this.active=i,this.toRespond=i;for(let u=0;u<i;u++)this.add(uS(this,r[u],void 0,u))}}notifyComplete(r){0==(this.active-=1)&&this.destination.complete()}notifyNext(r,i,u){const d=this.values,E=this.toRespond?d[u]===Nw?--this.toRespond:this.toRespond:0;d[u]=i,0===E&&(this.resultSelector?this._tryResultSelector(d):this.destination.next(d.slice()))}_tryResultSelector(r){let i;try{i=this.resultSelector.apply(this,r)}catch(u){return void this.destination.error(u)}this.destination.next(i)}}function Rw(s){return new wr.y(r=>{let i;try{i=s()}catch(d){return void r.error(d)}return(i?(0,Ye.D)(i):(0,_l.c)()).subscribe(r)})}var hS=j(2441);function Xc(s){return function(i){const u=new fS(s),d=i.lift(u);return u.caught=d}}class fS{constructor(r){this.selector=r}call(r,i){return i.subscribe(new pS(r,this.selector,this.caught))}}class pS extends Hc.Ds{constructor(r,i,u){super(r),this.selector=i,this.caught=u}error(r){if(!this.isStopped){let i;try{i=this.selector(r,this.caught)}catch(f){return void super.error(f)}this._unsubscribeAndRecycle();const u=new Hc.IY(this);this.add(u);const d=(0,Hc.ft)(i,u);d!==u&&this.add(d)}}}var di=j(9773);function ed(s,r){return(0,di.zg)(s,r,1)}function XE(s){return function(i){return 0===s?(0,_l.c)():i.lift(new td(s))}}class td{constructor(r){if(this.total=r,this.total<0)throw new V0}call(r,i){return i.subscribe(new hi(r,this.total))}}class hi extends yn.L{constructor(r,i){super(r),this.total=i,this.ring=new Array,this.count=0}_next(r){const i=this.ring,u=this.total,d=this.count++;i.length<u?i.push(r):i[d%u]=r}_complete(){const r=this.destination;let i=this.count;if(i>0){const u=this.count>=this.total?this.total:this.count,d=this.ring;for(let f=0;f<u;f++){const E=i++%u;r.next(d[E])}}r.complete()}}var er=j(3342),eC=j(1307);class Mw{constructor(r){this.callback=r}call(r,i){return i.subscribe(new Ow(r,this.callback))}}class Ow extends yn.L{constructor(r,i){super(r),this.add(new ET.w(i))}}class ma{constructor(r,i){this.id=r,this.url=i}}class tC extends ma{constructor(r,i,u="imperative",d=null){super(r,i),this.navigationTrigger=u,this.restoredState=d}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qh extends ma{constructor(r,i,u){super(r,i),this.urlAfterRedirects=u}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Pw extends ma{constructor(r,i,u){super(r,i),this.reason=u}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class nC extends ma{constructor(r,i,u){super(r,i),this.error=u}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class mS extends ma{constructor(r,i,u,d){super(r,i),this.urlAfterRedirects=u,this.state=d}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eN extends ma{constructor(r,i,u,d){super(r,i),this.urlAfterRedirects=u,this.state=d}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kw extends ma{constructor(r,i,u,d,f){super(r,i),this.urlAfterRedirects=u,this.state=d,this.shouldActivate=f}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fw extends ma{constructor(r,i,u,d){super(r,i),this.urlAfterRedirects=u,this.state=d}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zh extends ma{constructor(r,i,u,d){super(r,i),this.urlAfterRedirects=u,this.state=d}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lw{constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rC{constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vw{constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tN{constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Uw{constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jw{constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qp{constructor(r,i,u){this.routerEvent=r,this.position=i,this.anchor=u}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Lt="primary";class Bw{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){const i=this.params[r];return Array.isArray(i)?i[0]:i}return null}getAll(r){if(this.has(r)){const i=this.params[r];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function nd(s){return new Bw(s)}const iC="ngNavigationCancelingError";function vy(s){const r=Error("NavigationCancelingError: "+s);return r[iC]=!0,r}function $w(s,r,i){const u=i.path.split("/");if(u.length>s.length||"full"===i.pathMatch&&(r.hasChildren()||u.length<s.length))return null;const d={};for(let f=0;f<u.length;f++){const E=u[f],w=s[f];if(E.startsWith(":"))d[E.substring(1)]=w;else if(E!==w.path)return null}return{consumed:s.slice(0,u.length),posParams:d}}function bo(s,r){const i=s?Object.keys(s):void 0,u=r?Object.keys(r):void 0;if(!i||!u||i.length!=u.length)return!1;let d;for(let f=0;f<i.length;f++)if(d=i[f],!sC(s[d],r[d]))return!1;return!0}function sC(s,r){if(Array.isArray(s)&&Array.isArray(r)){if(s.length!==r.length)return!1;const i=[...s].sort(),u=[...r].sort();return i.every((d,f)=>u[f]===d)}return s===r}function Kh(s){return Array.prototype.concat.apply([],s)}function Ey(s){return s.length>0?s[s.length-1]:null}function Fr(s,r){for(const i in s)s.hasOwnProperty(i)&&r(s[i],i)}function js(s){return(0,y.\u0275isObservable)(s)?s:(0,y.\u0275isPromise)(s)?(0,Ye.D)(Promise.resolve(s)):(0,ct.of)(s)}const qw={exact:function uC(s,r,i){if(!Do(s.segments,r.segments)||!wl(s.segments,r.segments,i)||s.numberOfChildren!==r.numberOfChildren)return!1;for(const u in r.children)if(!s.children[u]||!uC(s.children[u],r.children[u],i))return!1;return!0},subset:lC},zw={exact:function(s,r){return bo(s,r)},subset:function(s,r){return Object.keys(r).length<=Object.keys(s).length&&Object.keys(r).every(i=>sC(s[i],r[i]))},ignored:()=>!0};function aC(s,r,i){return qw[i.paths](s.root,r.root,i.matrixParams)&&zw[i.queryParams](s.queryParams,r.queryParams)&&!("exact"===i.fragment&&s.fragment!==r.fragment)}function lC(s,r,i){return Zh(s,r,r.segments,i)}function Zh(s,r,i,u){if(s.segments.length>i.length){const d=s.segments.slice(0,i.length);return!(!Do(d,i)||r.hasChildren()||!wl(d,i,u))}if(s.segments.length===i.length){if(!Do(s.segments,i)||!wl(s.segments,i,u))return!1;for(const d in r.children)if(!s.children[d]||!lC(s.children[d],r.children[d],u))return!1;return!0}{const d=i.slice(0,s.segments.length),f=i.slice(s.segments.length);return!!(Do(s.segments,d)&&wl(s.segments,d,u)&&s.children[Lt])&&Zh(s.children[Lt],r,f,u)}}function wl(s,r,i){return r.every((u,d)=>zw[i](s[d].parameters,u.parameters))}class rd{constructor(r,i,u){this.root=r,this.queryParams=i,this.fragment=u}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nd(this.queryParams)),this._queryParamMap}toString(){return dC.serialize(this)}}class Bt{constructor(r,i){this.segments=r,this.children=i,this.parent=null,Fr(i,(u,d)=>u.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qh(this)}}class Hi{constructor(r,i){this.path=r,this.parameters=i}get parameterMap(){return this._parameterMap||(this._parameterMap=nd(this.parameters)),this._parameterMap}toString(){return fC(this)}}function Do(s,r){return s.length===r.length&&s.every((i,u)=>i.path===r[u].path)}class cC{}class vS{parse(r){const i=new IS(r);return new rd(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(r){return`${`/${Yh(r.root,!0)}`}${function(s){const r=Object.keys(s).map(i=>{const u=s[i];return Array.isArray(u)?u.map(d=>`${Jh(i)}=${Jh(d)}`).join("&"):`${Jh(i)}=${Jh(u)}`}).filter(i=>!!i);return r.length?`?${r.join("&")}`:""}(r.queryParams)}${"string"==typeof r.fragment?`#${function(s){return encodeURI(s)}(r.fragment)}`:""}`}}const dC=new vS;function Qh(s){return s.segments.map(r=>fC(r)).join("/")}function Yh(s,r){if(!s.hasChildren())return Qh(s);if(r){const i=s.children[Lt]?Yh(s.children[Lt],!1):"",u=[];return Fr(s.children,(d,f)=>{f!==Lt&&u.push(`${f}:${Yh(d,!1)}`)}),u.length>0?`${i}(${u.join("//")})`:i}{const i=function(s,r){let i=[];return Fr(s.children,(u,d)=>{d===Lt&&(i=i.concat(r(u,d)))}),Fr(s.children,(u,d)=>{d!==Lt&&(i=i.concat(r(u,d)))}),i}(s,(u,d)=>d===Lt?[Yh(s.children[Lt],!1)]:[`${d}:${Yh(u,!1)}`]);return 1===Object.keys(s.children).length&&null!=s.children[Lt]?`${Qh(s)}/${i[0]}`:`${Qh(s)}/(${i.join("//")})`}}function Cy(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jh(s){return Cy(s).replace(/%3B/gi,";")}function hC(s){return Cy(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Iy(s){return decodeURIComponent(s)}function Qw(s){return Iy(s.replace(/\+/g,"%20"))}function fC(s){return`${hC(s.path)}${function(s){return Object.keys(s).map(r=>`;${hC(r)}=${hC(s[r])}`).join("")}(s.parameters)}`}const Jw=/^[^\/()?;=#]+/;function zp(s){const r=s.match(Jw);return r?r[0]:""}const Xw=/^[^=?&#]+/,eb=/^[^?&#]+/;class IS{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bt([],{}):new Bt([],this.parseChildren())}parseQueryParams(){const r={};if(this.consumeOptional("?"))do{this.parseQueryParam(r)}while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let u={};return this.peekStartsWith("(")&&(u=this.parseParens(!1)),(r.length>0||Object.keys(i).length>0)&&(u[Lt]=new Bt(r,i)),u}parseSegment(){const r=zp(this.remaining);if(""===r&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(r),new Hi(Iy(r),this.parseMatrixParams())}parseMatrixParams(){const r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){const i=zp(this.remaining);if(!i)return;this.capture(i);let u="";if(this.consumeOptional("=")){const d=zp(this.remaining);d&&(u=d,this.capture(u))}r[Iy(i)]=Iy(u)}parseQueryParam(r){const i=function(s){const r=s.match(Xw);return r?r[0]:""}(this.remaining);if(!i)return;this.capture(i);let u="";if(this.consumeOptional("=")){const E=function(s){const r=s.match(eb);return r?r[0]:""}(this.remaining);E&&(u=E,this.capture(u))}const d=Qw(i),f=Qw(u);if(r.hasOwnProperty(d)){let E=r[d];Array.isArray(E)||(E=[E],r[d]=E),E.push(f)}else r[d]=f}parseParens(r){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const u=zp(this.remaining),d=this.remaining[u.length];if("/"!==d&&")"!==d&&";"!==d)throw new Error(`Cannot parse url '${this.url}'`);let f;u.indexOf(":")>-1?(f=u.substr(0,u.indexOf(":")),this.capture(f),this.capture(":")):r&&(f=Lt);const E=this.parseChildren();i[f]=1===Object.keys(E).length?E[Lt]:new Bt([],E),this.consumeOptional("//")}return i}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return!!this.peekStartsWith(r)&&(this.remaining=this.remaining.substring(r.length),!0)}capture(r){if(!this.consumeOptional(r))throw new Error(`Expected "${r}".`)}}class gC{constructor(r){this._root=r}get root(){return this._root.value}parent(r){const i=this.pathFromRoot(r);return i.length>1?i[i.length-2]:null}children(r){const i=wy(r,this._root);return i?i.children.map(u=>u.value):[]}firstChild(r){const i=wy(r,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(r){const i=nb(r,this._root);return i.length<2?[]:i[i.length-2].children.map(d=>d.value).filter(d=>d!==r)}pathFromRoot(r){return nb(r,this._root).map(i=>i.value)}}function wy(s,r){if(s===r.value)return r;for(const i of r.children){const u=wy(s,i);if(u)return u}return null}function nb(s,r){if(s===r.value)return[r];for(const i of r.children){const u=nb(s,i);if(u.length)return u.unshift(r),u}return[]}class tr{constructor(r,i){this.value=r,this.children=i}toString(){return`TreeNode(${this.value})`}}function ya(s){const r={};return s&&s.children.forEach(i=>r[i.value.outlet]=i),r}class rb extends gC{constructor(r,i){super(r),this.snapshot=i,by(this,r)}toString(){return this.snapshot.toString()}}function ib(s,r){const i=function(s,r){const E=new Kp([],{},{},"",{},Lt,r,null,s.root,-1,{});return new yC("",new tr(E,[]))}(s,r),u=new wo([new Hi("",{})]),d=new wo({}),f=new wo({}),E=new wo({}),w=new wo(""),A=new Bs(u,d,E,w,f,Lt,r,i.root);return A.snapshot=i.root,new rb(new tr(A,[]),i)}class Bs{constructor(r,i,u,d,f,E,w,A){this.url=r,this.params=i,this.queryParams=u,this.fragment=d,this.data=f,this.outlet=E,this.component=w,this._futureSnapshot=A}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ft.U)(r=>nd(r)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ft.U)(r=>nd(r)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function sb(s,r="emptyOnly"){const i=s.pathFromRoot;let u=0;if("always"!==r)for(u=i.length-1;u>=1;){const d=i[u],f=i[u-1];if(d.routeConfig&&""===d.routeConfig.path)u--;else{if(f.component)break;u--}}return function(s){return s.reduce((r,i)=>({params:Object.assign(Object.assign({},r.params),i.params),data:Object.assign(Object.assign({},r.data),i.data),resolve:Object.assign(Object.assign({},r.resolve),i._resolvedData)}),{params:{},data:{},resolve:{}})}(i.slice(u))}class Kp{constructor(r,i,u,d,f,E,w,A,P,V,W){this.url=r,this.params=i,this.queryParams=u,this.fragment=d,this.data=f,this.outlet=E,this.component=w,this.routeConfig=A,this._urlSegment=P,this._lastPathIndex=V,this._resolve=W}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=nd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=nd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(u=>u.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class yC extends gC{constructor(r,i){super(i),this.url=r,by(this,i)}toString(){return _C(this._root)}}function by(s,r){r.value._routerState=s,r.children.forEach(i=>by(s,i))}function _C(s){const r=s.children.length>0?` { ${s.children.map(_C).join(", ")} } `:"";return`${s.value}${r}`}function Zp(s){if(s.snapshot){const r=s.snapshot,i=s._futureSnapshot;s.snapshot=i,bo(r.queryParams,i.queryParams)||s.queryParams.next(i.queryParams),r.fragment!==i.fragment&&s.fragment.next(i.fragment),bo(r.params,i.params)||s.params.next(i.params),function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(!bo(s[i],r[i]))return!1;return!0}(r.url,i.url)||s.url.next(i.url),bo(r.data,i.data)||s.data.next(i.data)}else s.snapshot=s._futureSnapshot,s.data.next(s._futureSnapshot.data)}function Dy(s,r){return bo(s.params,r.params)&&function(s,r){return Do(s,r)&&s.every((i,u)=>bo(i.parameters,r[u].parameters))}(s.url,r.url)&&!(!s.parent!=!r.parent)&&(!s.parent||Dy(s.parent,r.parent))}function id(s,r,i){if(i&&s.shouldReuseRoute(r.value,i.value.snapshot)){const u=i.value;u._futureSnapshot=r.value;const d=function(s,r,i){return r.children.map(u=>{for(const d of i.children)if(s.shouldReuseRoute(u.value,d.value.snapshot))return id(s,u,d);return id(s,u)})}(s,r,i);return new tr(u,d)}{if(s.shouldAttach(r.value)){const f=s.retrieve(r.value);if(null!==f){const E=f.route;return Ty(r,E),E}}const u=function(s){return new Bs(new wo(s.url),new wo(s.params),new wo(s.queryParams),new wo(s.fragment),new wo(s.data),s.outlet,s.component,s)}(r.value),d=r.children.map(f=>id(s,f));return new tr(u,d)}}function Ty(s,r){if(s.value.routeConfig!==r.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(s.children.length!==r.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");r.value._futureSnapshot=s.value;for(let i=0;i<s.children.length;++i)Ty(s.children[i],r.children[i])}function Xh(s){return"object"==typeof s&&null!=s&&!s.outlets&&!s.segmentPath}function pu(s){return"object"==typeof s&&null!=s&&s.outlets}function Sy(s,r,i,u,d){let f={};return u&&Fr(u,(E,w)=>{f[w]=Array.isArray(E)?E.map(A=>`${A}`):`${E}`}),new rd(i.root===s?r:ub(i.root,s,r),f,d)}function ub(s,r,i){const u={};return Fr(s.children,(d,f)=>{u[f]=d===r?i:ub(d,r,i)}),new Bt(s.segments,u)}class Ay{constructor(r,i,u){if(this.isAbsolute=r,this.numberOfDoubleDots=i,this.commands=u,r&&u.length>0&&Xh(u[0]))throw new Error("Root segment cannot have matrix parameters");const d=u.find(pu);if(d&&d!==Ey(u))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ny{constructor(r,i,u){this.segmentGroup=r,this.processChildren=i,this.index=u}}function CC(s,r,i){if(s||(s=new Bt([],{})),0===s.segments.length&&s.hasChildren())return Ry(s,r,i);const u=function(s,r,i){let u=0,d=r;const f={match:!1,pathIndex:0,commandIndex:0};for(;d<s.segments.length;){if(u>=i.length)return f;const E=s.segments[d],w=i[u];if(pu(w))break;const A=`${w}`,P=u<i.length-1?i[u+1]:null;if(d>0&&void 0===A)break;if(A&&P&&"object"==typeof P&&void 0===P.outlets){if(!IC(A,P,E))return f;u+=2}else{if(!IC(A,{},E))return f;u++}d++}return{match:!0,pathIndex:d,commandIndex:u}}(s,r,i),d=i.slice(u.commandIndex);if(u.match&&u.pathIndex<s.segments.length){const f=new Bt(s.segments.slice(0,u.pathIndex),{});return f.children[Lt]=new Bt(s.segments.slice(u.pathIndex),s.children),Ry(f,0,d)}return u.match&&0===d.length?new Bt(s.segments,{}):u.match&&!s.hasChildren()?xy(s,r,i):u.match?Ry(s,0,d):xy(s,r,i)}function Ry(s,r,i){if(0===i.length)return new Bt(s.segments,{});{const u=function(s){return pu(s[0])?s[0].outlets:{[Lt]:s}}(i),d={};return Fr(u,(f,E)=>{"string"==typeof f&&(f=[f]),null!==f&&(d[E]=CC(s.children[E],r,f))}),Fr(s.children,(f,E)=>{void 0===u[E]&&(d[E]=f)}),new Bt(s.segments,d)}}function xy(s,r,i){const u=s.segments.slice(0,r);let d=0;for(;d<i.length;){const f=i[d];if(pu(f)){const A=SS(f.outlets);return new Bt(u,A)}if(0===d&&Xh(i[0])){u.push(new Hi(s.segments[r].path,db(i[0]))),d++;continue}const E=pu(f)?f.outlets[Lt]:`${f}`,w=d<i.length-1?i[d+1]:null;E&&w&&Xh(w)?(u.push(new Hi(E,db(w))),d+=2):(u.push(new Hi(E,{})),d++)}return new Bt(u,{})}function SS(s){const r={};return Fr(s,(i,u)=>{"string"==typeof i&&(i=[i]),null!==i&&(r[u]=xy(new Bt([],{}),0,i))}),r}function db(s){const r={};return Fr(s,(i,u)=>r[u]=`${i}`),r}function IC(s,r,i){return s==i.path&&bo(r,i.parameters)}class hb{constructor(r,i,u,d){this.routeReuseStrategy=r,this.futureState=i,this.currState=u,this.forwardEvent=d}activate(r){const i=this.futureState._root,u=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,u,r),Zp(this.futureState.root),this.activateChildRoutes(i,u,r)}deactivateChildRoutes(r,i,u){const d=ya(i);r.children.forEach(f=>{const E=f.value.outlet;this.deactivateRoutes(f,d[E],u),delete d[E]}),Fr(d,(f,E)=>{this.deactivateRouteAndItsChildren(f,u)})}deactivateRoutes(r,i,u){const d=r.value,f=i?i.value:null;if(d===f)if(d.component){const E=u.getContext(d.outlet);E&&this.deactivateChildRoutes(r,i,E.children)}else this.deactivateChildRoutes(r,i,u);else f&&this.deactivateRouteAndItsChildren(i,u)}deactivateRouteAndItsChildren(r,i){this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,i):this.deactivateRouteAndOutlet(r,i)}detachAndStoreRouteSubtree(r,i){const u=i.getContext(r.value.outlet);if(u&&u.outlet){const d=u.outlet.detach(),f=u.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:d,route:r,contexts:f})}}deactivateRouteAndOutlet(r,i){const u=i.getContext(r.value.outlet),d=u&&r.value.component?u.children:i,f=ya(r);for(const E of Object.keys(f))this.deactivateRouteAndItsChildren(f[E],d);u&&u.outlet&&(u.outlet.deactivate(),u.children.onOutletDeactivated(),u.attachRef=null,u.resolver=null,u.route=null)}activateChildRoutes(r,i,u){const d=ya(i);r.children.forEach(f=>{this.activateRoutes(f,d[f.value.outlet],u),this.forwardEvent(new jw(f.value.snapshot))}),r.children.length&&this.forwardEvent(new tN(r.value.snapshot))}activateRoutes(r,i,u){const d=r.value,f=i?i.value:null;if(Zp(d),d===f)if(d.component){const E=u.getOrCreateContext(d.outlet);this.activateChildRoutes(r,i,E.children)}else this.activateChildRoutes(r,i,u);else if(d.component){const E=u.getOrCreateContext(d.outlet);if(this.routeReuseStrategy.shouldAttach(d.snapshot)){const w=this.routeReuseStrategy.retrieve(d.snapshot);this.routeReuseStrategy.store(d.snapshot,null),E.children.onOutletReAttached(w.contexts),E.attachRef=w.componentRef,E.route=w.route.value,E.outlet&&E.outlet.attach(w.componentRef,w.route.value),wC(w.route)}else{const w=function(s){for(let r=s.parent;r;r=r.parent){const i=r.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig;if(i&&i.component)return null}return null}(d.snapshot),A=w?w.module.componentFactoryResolver:null;E.attachRef=null,E.route=d,E.resolver=A,E.outlet&&E.outlet.activateWith(d,A),this.activateChildRoutes(r,null,E.children)}}else this.activateChildRoutes(r,null,u)}}function wC(s){Zp(s.value),s.children.forEach(wC)}class My{constructor(r,i){this.routes=r,this.module=i}}function bl(s){return"function"==typeof s}function Dl(s){return s instanceof rd}const Oy=Symbol("INITIAL_VALUE");function Py(){return li(s=>function(...s){let r,i;return(0,ms.K)(s[s.length-1])&&(i=s.pop()),"function"==typeof s[s.length-1]&&(r=s.pop()),1===s.length&&(0,bE.k)(s[0])&&(s=s[0]),(0,lS.n)(s,i).lift(new _y(r))}(s.map(r=>r.pipe(lE(1),Si(Oy)))).pipe(ys((r,i)=>{let u=!1;return i.reduce((d,f,E)=>d!==Oy?d:(f===Oy&&(u=!0),u||!1!==f&&E!==i.length-1&&!Dl(f)?d:f),r)},Oy),Un(r=>r!==Oy),(0,ft.U)(r=>Dl(r)?r:!0===r),lE(1)))}let mb=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=y.\u0275\u0275defineComponent({type:s,selectors:[["ng-component"]],decls:1,vars:0,template:function(i,u){1&i&&y.\u0275\u0275element(0,"router-outlet")},directives:function(){return[Ub]},encapsulation:2}),s})();function RS(s,r=""){for(let i=0;i<s.length;i++){const u=s[i];iN(u,xS(r,u))}}function iN(s,r){s.children&&RS(s.children,r)}function xS(s,r){return r?s||r.path?s&&!r.path?`${s}/`:!s&&r.path?r.path:`${s}/${r.path}`:"":s}function yb(s){const r=s.children&&s.children.map(yb),i=r?Object.assign(Object.assign({},s),{children:r}):Object.assign({},s);return!i.component&&(r||i.loadChildren)&&i.outlet&&i.outlet!==Lt&&(i.component=mb),i}function Hs(s){return s.outlet||Lt}function MS(s,r){const i=s.filter(u=>Hs(u)===r);return i.push(...s.filter(u=>Hs(u)!==r)),i}const _b={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function bC(s,r,i){var u;if(""===r.path)return"full"===r.pathMatch&&(s.hasChildren()||i.length>0)?Object.assign({},_b):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const f=(r.matcher||$w)(i,s,r);if(!f)return Object.assign({},_b);const E={};Fr(f.posParams,(A,P)=>{E[P]=A.path});const w=f.consumed.length>0?Object.assign(Object.assign({},E),f.consumed[f.consumed.length-1].parameters):E;return{matched:!0,consumedSegments:f.consumed,lastChild:f.consumed.length,parameters:w,positionalParamSegments:null!==(u=f.posParams)&&void 0!==u?u:{}}}function ky(s,r,i,u,d="corrected"){if(i.length>0&&function(s,r,i){return i.some(u=>Qp(s,r,u)&&Hs(u)!==Lt)}(s,i,u)){const E=new Bt(r,function(s,r,i,u){const d={};d[Lt]=u,u._sourceSegment=s,u._segmentIndexShift=r.length;for(const f of i)if(""===f.path&&Hs(f)!==Lt){const E=new Bt([],{});E._sourceSegment=s,E._segmentIndexShift=r.length,d[Hs(f)]=E}return d}(s,r,u,new Bt(i,s.children)));return E._sourceSegment=s,E._segmentIndexShift=r.length,{segmentGroup:E,slicedSegments:[]}}if(0===i.length&&function(s,r,i){return i.some(u=>Qp(s,r,u))}(s,i,u)){const E=new Bt(s.segments,function(s,r,i,u,d,f){const E={};for(const w of u)if(Qp(s,i,w)&&!d[Hs(w)]){const A=new Bt([],{});A._sourceSegment=s,A._segmentIndexShift="legacy"===f?s.segments.length:r.length,E[Hs(w)]=A}return Object.assign(Object.assign({},d),E)}(s,r,i,u,s.children,d));return E._sourceSegment=s,E._segmentIndexShift=r.length,{segmentGroup:E,slicedSegments:i}}const f=new Bt(s.segments,s.children);return f._sourceSegment=s,f._segmentIndexShift=r.length,{segmentGroup:f,slicedSegments:i}}function Qp(s,r,i){return(!(s.hasChildren()||r.length>0)||"full"!==i.pathMatch)&&""===i.path}function PS(s,r,i,u){return!!(Hs(s)===u||u!==Lt&&Qp(r,i,s))&&("**"===s.path||bC(r,s,i).matched)}function kS(s,r,i){return 0===r.length&&!s.children[i]}class Fy{constructor(r){this.segmentGroup=r||null}}class Cb{constructor(r){this.urlTree=r}}function Ly(s){return new wr.y(r=>r.error(new Fy(s)))}function Ib(s){return new wr.y(r=>r.error(new Cb(s)))}function oN(s){return new wr.y(r=>r.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${s}'`)))}class uN{constructor(r,i,u,d,f){this.configLoader=i,this.urlSerializer=u,this.urlTree=d,this.config=f,this.allowRedirects=!0,this.ngModule=r.get(y.NgModuleRef)}apply(){const r=ky(this.urlTree.root,[],[],this.config).segmentGroup,i=new Bt(r.segments,r.children);return this.expandSegmentGroup(this.ngModule,this.config,i,Lt).pipe((0,ft.U)(f=>this.createUrlTree(bb(f),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Xc(f=>{if(f instanceof Cb)return this.allowRedirects=!1,this.match(f.urlTree);throw f instanceof Fy?this.noMatchError(f):f}))}match(r){return this.expandSegmentGroup(this.ngModule,this.config,r.root,Lt).pipe((0,ft.U)(d=>this.createUrlTree(bb(d),r.queryParams,r.fragment))).pipe(Xc(d=>{throw d instanceof Fy?this.noMatchError(d):d}))}noMatchError(r){return new Error(`Cannot match any routes. URL Segment: '${r.segmentGroup}'`)}createUrlTree(r,i,u){const d=r.segments.length>0?new Bt([],{[Lt]:r}):r;return new rd(d,i,u)}expandSegmentGroup(r,i,u,d){return 0===u.segments.length&&u.hasChildren()?this.expandChildren(r,i,u).pipe((0,ft.U)(f=>new Bt([],f))):this.expandSegment(r,u,i,u.segments,d,!0)}expandChildren(r,i,u){const d=[];for(const f of Object.keys(u.children))"primary"===f?d.unshift(f):d.push(f);return(0,Ye.D)(d).pipe(ed(f=>{const E=u.children[f],w=MS(i,f);return this.expandSegmentGroup(r,w,E,f).pipe((0,ft.U)(A=>({segment:A,outlet:f})))}),ys((f,E)=>(f[E.outlet]=E.segment,f),{}),function(s,r){const i=arguments.length>=2;return u=>u.pipe(s?Un((d,f)=>s(d,f,u)):dE.y,XE(1),i?cE(r):$c(()=>new Rp))}())}expandSegment(r,i,u,d,f,E){return(0,Ye.D)(u).pipe(ed(w=>this.expandSegmentAgainstRoute(r,i,u,w,d,f,E).pipe(Xc(P=>{if(P instanceof Fy)return(0,ct.of)(null);throw P}))),Wc(w=>!!w),Xc((w,A)=>{if(w instanceof Rp||"EmptyError"===w.name){if(kS(i,d,f))return(0,ct.of)(new Bt([],{}));throw new Fy(i)}throw w}))}expandSegmentAgainstRoute(r,i,u,d,f,E,w){return PS(d,i,f,E)?void 0===d.redirectTo?this.matchSegmentAgainstRoute(r,i,d,f,E):w&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(r,i,u,d,f,E):Ly(i):Ly(i)}expandSegmentAgainstRouteUsingRedirect(r,i,u,d,f,E){return"**"===d.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(r,u,d,E):this.expandRegularSegmentAgainstRouteUsingRedirect(r,i,u,d,f,E)}expandWildCardWithParamsAgainstRouteUsingRedirect(r,i,u,d){const f=this.applyRedirectCommands([],u.redirectTo,{});return u.redirectTo.startsWith("/")?Ib(f):this.lineralizeSegments(u,f).pipe((0,di.zg)(E=>{const w=new Bt(E,{});return this.expandSegment(r,w,i,E,d,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(r,i,u,d,f,E){const{matched:w,consumedSegments:A,lastChild:P,positionalParamSegments:V}=bC(i,d,f);if(!w)return Ly(i);const W=this.applyRedirectCommands(A,d.redirectTo,V);return d.redirectTo.startsWith("/")?Ib(W):this.lineralizeSegments(d,W).pipe((0,di.zg)(ue=>this.expandSegment(r,i,u,ue.concat(f.slice(P)),E,!1)))}matchSegmentAgainstRoute(r,i,u,d,f){if("**"===u.path)return u.loadChildren?(u._loadedConfig?(0,ct.of)(u._loadedConfig):this.configLoader.load(r.injector,u)).pipe((0,ft.U)(ue=>(u._loadedConfig=ue,new Bt(d,{})))):(0,ct.of)(new Bt(d,{}));const{matched:E,consumedSegments:w,lastChild:A}=bC(i,u,d);if(!E)return Ly(i);const P=d.slice(A);return this.getChildConfig(r,u,d).pipe((0,di.zg)(W=>{const ue=W.module,pe=W.routes,{segmentGroup:Ue,slicedSegments:Ke}=ky(i,w,P,pe),ut=new Bt(Ue.segments,Ue.children);if(0===Ke.length&&ut.hasChildren())return this.expandChildren(ue,pe,ut).pipe((0,ft.U)(kn=>new Bt(w,kn)));if(0===pe.length&&0===Ke.length)return(0,ct.of)(new Bt(w,{}));const on=Hs(u)===f;return this.expandSegment(ue,ut,pe,Ke,on?Lt:f,!0).pipe((0,ft.U)($t=>new Bt(w.concat($t.segments),$t.children)))}))}getChildConfig(r,i,u){return i.children?(0,ct.of)(new My(i.children,r)):i.loadChildren?void 0!==i._loadedConfig?(0,ct.of)(i._loadedConfig):this.runCanLoadGuards(r.injector,i,u).pipe((0,di.zg)(d=>d?this.configLoader.load(r.injector,i).pipe((0,ft.U)(f=>(i._loadedConfig=f,f))):function(s){return new wr.y(r=>r.error(vy(`Cannot load children because the guard of the route "path: '${s.path}'" returned false`)))}(i))):(0,ct.of)(new My([],r))}runCanLoadGuards(r,i,u){const d=i.canLoad;if(!d||0===d.length)return(0,ct.of)(!0);const f=d.map(E=>{const w=r.get(E);let A;if(function(s){return s&&bl(s.canLoad)}(w))A=w.canLoad(i,u);else{if(!bl(w))throw new Error("Invalid CanLoad guard");A=w(i,u)}return js(A)});return(0,ct.of)(f).pipe(Py(),(0,er.b)(E=>{if(!Dl(E))return;const w=vy(`Redirecting to "${this.urlSerializer.serialize(E)}"`);throw w.url=E,w}),(0,ft.U)(E=>!0===E))}lineralizeSegments(r,i){let u=[],d=i.root;for(;;){if(u=u.concat(d.segments),0===d.numberOfChildren)return(0,ct.of)(u);if(d.numberOfChildren>1||!d.children[Lt])return oN(r.redirectTo);d=d.children[Lt]}}applyRedirectCommands(r,i,u){return this.applyRedirectCreatreUrlTree(i,this.urlSerializer.parse(i),r,u)}applyRedirectCreatreUrlTree(r,i,u,d){const f=this.createSegmentGroup(r,i.root,u,d);return new rd(f,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(r,i){const u={};return Fr(r,(d,f)=>{if("string"==typeof d&&d.startsWith(":")){const w=d.substring(1);u[f]=i[w]}else u[f]=d}),u}createSegmentGroup(r,i,u,d){const f=this.createSegments(r,i.segments,u,d);let E={};return Fr(i.children,(w,A)=>{E[A]=this.createSegmentGroup(r,w,u,d)}),new Bt(f,E)}createSegments(r,i,u,d){return i.map(f=>f.path.startsWith(":")?this.findPosParam(r,f,d):this.findOrReturn(f,u))}findPosParam(r,i,u){const d=u[i.path.substring(1)];if(!d)throw new Error(`Cannot redirect to '${r}'. Cannot find '${i.path}'.`);return d}findOrReturn(r,i){let u=0;for(const d of i){if(d.path===r.path)return i.splice(u),d;u++}return r}}function bb(s){const r={};for(const u of Object.keys(s.children)){const f=bb(s.children[u]);(f.segments.length>0||f.hasChildren())&&(r[u]=f)}return function(s){if(1===s.numberOfChildren&&s.children[Lt]){const r=s.children[Lt];return new Bt(s.segments.concat(r.segments),r.children)}return s}(new Bt(s.segments,r))}class Vy{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}}class gu{constructor(r,i){this.component=r,this.route=i}}function Db(s,r,i){const u=s._root;return ef(u,r?r._root:null,i,[u.value])}function Yp(s,r,i){const u=function(s){if(!s)return null;for(let r=s.parent;r;r=r.parent){const i=r.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig}return null}(r);return(u?u.module.injector:i).get(s)}function ef(s,r,i,u,d={canDeactivateChecks:[],canActivateChecks:[]}){const f=ya(r);return s.children.forEach(E=>{(function(s,r,i,u,d={canDeactivateChecks:[],canActivateChecks:[]}){const f=s.value,E=r?r.value:null,w=i?i.getContext(s.value.outlet):null;if(E&&f.routeConfig===E.routeConfig){const A=function(s,r,i){if("function"==typeof i)return i(s,r);switch(i){case"pathParamsChange":return!Do(s.url,r.url);case"pathParamsOrQueryParamsChange":return!Do(s.url,r.url)||!bo(s.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dy(s,r)||!bo(s.queryParams,r.queryParams);case"paramsChange":default:return!Dy(s,r)}}(E,f,f.routeConfig.runGuardsAndResolvers);A?d.canActivateChecks.push(new Vy(u)):(f.data=E.data,f._resolvedData=E._resolvedData),ef(s,r,f.component?w?w.children:null:i,u,d),A&&w&&w.outlet&&w.outlet.isActivated&&d.canDeactivateChecks.push(new gu(w.outlet.component,E))}else E&&Jp(r,w,d),d.canActivateChecks.push(new Vy(u)),ef(s,null,f.component?w?w.children:null:i,u,d)})(E,f[E.value.outlet],i,u.concat([E.value]),d),delete f[E.value.outlet]}),Fr(f,(E,w)=>Jp(E,i.getContext(w),d)),d}function Jp(s,r,i){const u=ya(s),d=s.value;Fr(u,(f,E)=>{Jp(f,d.component?r?r.children.getContext(E):null:r,i)}),i.canDeactivateChecks.push(new gu(d.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,d))}class Xp{}function TC(s){return new wr.y(r=>r.error(s))}class dN{constructor(r,i,u,d,f,E){this.rootComponentType=r,this.config=i,this.urlTree=u,this.url=d,this.paramsInheritanceStrategy=f,this.relativeLinkResolution=E}recognize(){const r=ky(this.urlTree.root,[],[],this.config.filter(E=>void 0===E.redirectTo),this.relativeLinkResolution).segmentGroup,i=this.processSegmentGroup(this.config,r,Lt);if(null===i)return null;const u=new Kp([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Lt,this.rootComponentType,null,this.urlTree.root,-1,{}),d=new tr(u,i),f=new yC(this.url,d);return this.inheritParamsAndData(f._root),f}inheritParamsAndData(r){const i=r.value,u=sb(i,this.paramsInheritanceStrategy);i.params=Object.freeze(u.params),i.data=Object.freeze(u.data),r.children.forEach(d=>this.inheritParamsAndData(d))}processSegmentGroup(r,i,u){return 0===i.segments.length&&i.hasChildren()?this.processChildren(r,i):this.processSegment(r,i,i.segments,u)}processChildren(r,i){const u=[];for(const f of Object.keys(i.children)){const E=i.children[f],w=MS(r,f),A=this.processSegmentGroup(w,E,f);if(null===A)return null;u.push(...A)}const d=SC(u);return function(s){s.sort((r,i)=>r.value.outlet===Lt?-1:i.value.outlet===Lt?1:r.value.outlet.localeCompare(i.value.outlet))}(d),d}processSegment(r,i,u,d){for(const f of r){const E=this.processSegmentAgainstRoute(f,i,u,d);if(null!==E)return E}return kS(i,u,d)?[]:null}processSegmentAgainstRoute(r,i,u,d){if(r.redirectTo||!PS(r,i,u,d))return null;let f,E=[],w=[];if("**"===r.path){const pe=u.length>0?Ey(u).parameters:{};f=new Kp(u,pe,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Mb(r),Hs(r),r.component,r,BS(i),By(i)+u.length,HS(r))}else{const pe=bC(i,r,u);if(!pe.matched)return null;E=pe.consumedSegments,w=u.slice(pe.lastChild),f=new Kp(E,pe.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Mb(r),Hs(r),r.component,r,BS(i),By(i)+E.length,HS(r))}const A=function(s){return s.children?s.children:s.loadChildren?s._loadedConfig.routes:[]}(r),{segmentGroup:P,slicedSegments:V}=ky(i,E,w,A.filter(pe=>void 0===pe.redirectTo),this.relativeLinkResolution);if(0===V.length&&P.hasChildren()){const pe=this.processChildren(A,P);return null===pe?null:[new tr(f,pe)]}if(0===A.length&&0===V.length)return[new tr(f,[])];const W=Hs(r)===d,ue=this.processSegment(A,P,V,W?Lt:d);return null===ue?null:[new tr(f,ue)]}}function hN(s){const r=s.value.routeConfig;return r&&""===r.path&&void 0===r.redirectTo}function SC(s){const r=[],i=new Set;for(const u of s){if(!hN(u)){r.push(u);continue}const d=r.find(f=>u.value.routeConfig===f.value.routeConfig);void 0!==d?(d.children.push(...u.children),i.add(d)):r.push(u)}for(const u of i){const d=SC(u.children);r.push(new tr(u.value,d))}return r.filter(u=>!i.has(u))}function BS(s){let r=s;for(;r._sourceSegment;)r=r._sourceSegment;return r}function By(s){let r=s,i=r._segmentIndexShift?r._segmentIndexShift:0;for(;r._sourceSegment;)r=r._sourceSegment,i+=r._segmentIndexShift?r._segmentIndexShift:0;return i-1}function Mb(s){return s.data||{}}function HS(s){return s.resolve||{}}function AC(s){return li(r=>{const i=s(r);return i?(0,Ye.D)(i).pipe((0,ft.U)(()=>r)):(0,ct.of)(r)})}class cs extends class{shouldDetach(r){return!1}store(r,i){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,i){return r.routeConfig===i.routeConfig}}{}const RC=new y.InjectionToken("ROUTES");class Hy{constructor(r,i,u,d){this.loader=r,this.compiler=i,this.onLoadStartListener=u,this.onLoadEndListener=d}load(r,i){if(i._loader$)return i._loader$;this.onLoadStartListener&&this.onLoadStartListener(i);const d=this.loadModuleFactory(i.loadChildren).pipe((0,ft.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);const E=f.create(r);return new My(Kh(E.injector.get(RC,void 0,y.InjectFlags.Self|y.InjectFlags.Optional)).map(yb),E)}),Xc(f=>{throw i._loader$=void 0,f}));return i._loader$=new hS.c(d,()=>new yl.xQ).pipe((0,eC.x)()),i._loader$}loadModuleFactory(r){return"string"==typeof r?(0,Ye.D)(this.loader.load(r)):js(r()).pipe((0,di.zg)(i=>i instanceof y.NgModuleFactory?(0,ct.of)(i):(0,Ye.D)(this.compiler.compileModuleAsync(i))))}}class GS{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new tf,this.attachRef=null}}class tf{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const u=this.getOrCreateContext(r);u.outlet=i,this.contexts.set(r,u)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new GS,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}class Fb{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}function Lb(s){throw s}function Vb(s,r,i){return r.parse("/")}function MC(s,r){return(0,ct.of)(null)}const OC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let nr=(()=>{class s{constructor(i,u,d,f,E,w,A,P){this.rootComponentType=i,this.urlSerializer=u,this.rootContexts=d,this.location=f,this.config=P,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new yl.xQ,this.errorHandler=Lb,this.malformedUriErrorHandler=Vb,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:MC,afterPreactivation:MC},this.urlHandlingStrategy=new Fb,this.routeReuseStrategy=new cs,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=E.get(y.NgModuleRef),this.console=E.get(y.\u0275Console);const ue=E.get(y.NgZone);this.isNgZoneEnabled=ue instanceof y.NgZone&&y.NgZone.isInAngularZone(),this.resetConfig(P),this.currentUrlTree=new rd(new Bt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Hy(w,A,pe=>this.triggerEvent(new Lw(pe)),pe=>this.triggerEvent(new rC(pe))),this.routerState=ib(this.currentUrlTree,this.rootComponentType),this.transitions=new wo({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var i;return null===(i=this.location.getState())||void 0===i?void 0:i.\u0275routerPageId}setupNavigations(i){const u=this.events;return i.pipe(Un(d=>0!==d.id),(0,ft.U)(d=>Object.assign(Object.assign({},d),{extractedUrl:this.urlHandlingStrategy.extract(d.rawUrl)})),li(d=>{let f=!1,E=!1;return(0,ct.of)(d).pipe((0,er.b)(w=>{this.currentNavigation={id:w.id,initialUrl:w.currentRawUrl,extractedUrl:w.extractedUrl,trigger:w.source,extras:w.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),li(w=>{const A=!this.navigated||w.extractedUrl.toString()!==this.browserUrlTree.toString(),P=("reload"===this.onSameUrlNavigation||A)&&this.urlHandlingStrategy.shouldProcessUrl(w.rawUrl);if(tg(w.source)&&(this.browserUrlTree=w.rawUrl),P)return(0,ct.of)(w).pipe(li(V=>{const W=this.transitions.getValue();return u.next(new tC(V.id,this.serializeUrl(V.extractedUrl),V.source,V.restoredState)),W!==this.transitions.getValue()?_l.E:Promise.resolve(V)}),function(s,r,i,u){return li(d=>function(s,r,i,u,d){return new uN(s,r,i,u,d).apply()}(s,r,i,d.extractedUrl,u).pipe((0,ft.U)(f=>Object.assign(Object.assign({},d),{urlAfterRedirects:f}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,er.b)(V=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:V.urlAfterRedirects})}),function(s,r,i,u,d){return(0,di.zg)(f=>function(s,r,i,u,d="emptyOnly",f="legacy"){try{const E=new dN(s,r,i,u,d,f).recognize();return null===E?TC(new Xp):(0,ct.of)(E)}catch(E){return TC(E)}}(s,r,f.urlAfterRedirects,i(f.urlAfterRedirects),u,d).pipe((0,ft.U)(E=>Object.assign(Object.assign({},f),{targetSnapshot:E}))))}(this.rootComponentType,this.config,V=>this.serializeUrl(V),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,er.b)(V=>{"eager"===this.urlUpdateStrategy&&(V.extras.skipLocationChange||this.setBrowserUrl(V.urlAfterRedirects,V),this.browserUrlTree=V.urlAfterRedirects);const W=new mS(V.id,this.serializeUrl(V.extractedUrl),this.serializeUrl(V.urlAfterRedirects),V.targetSnapshot);u.next(W)}));if(A&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:W,extractedUrl:ue,source:pe,restoredState:Ue,extras:Ke}=w,ut=new tC(W,this.serializeUrl(ue),pe,Ue);u.next(ut);const on=ib(ue,this.rootComponentType).snapshot;return(0,ct.of)(Object.assign(Object.assign({},w),{targetSnapshot:on,urlAfterRedirects:ue,extras:Object.assign(Object.assign({},Ke),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=w.rawUrl,this.browserUrlTree=w.urlAfterRedirects,w.resolve(null),_l.E}),AC(w=>{const{targetSnapshot:A,id:P,extractedUrl:V,rawUrl:W,extras:{skipLocationChange:ue,replaceUrl:pe}}=w;return this.hooks.beforePreactivation(A,{navigationId:P,appliedUrlTree:V,rawUrlTree:W,skipLocationChange:!!ue,replaceUrl:!!pe})}),(0,er.b)(w=>{const A=new eN(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(A)}),(0,ft.U)(w=>Object.assign(Object.assign({},w),{guards:Db(w.targetSnapshot,w.currentSnapshot,this.rootContexts)})),function(s,r){return(0,di.zg)(i=>{const{targetSnapshot:u,currentSnapshot:d,guards:{canActivateChecks:f,canDeactivateChecks:E}}=i;return 0===E.length&&0===f.length?(0,ct.of)(Object.assign(Object.assign({},i),{guardsResult:!0})):function(s,r,i,u){return(0,Ye.D)(s).pipe((0,di.zg)(d=>function(s,r,i,u,d){const f=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!f||0===f.length)return(0,ct.of)(!0);const E=f.map(w=>{const A=Yp(w,r,d);let P;if(function(s){return s&&bl(s.canDeactivate)}(A))P=js(A.canDeactivate(s,r,i,u));else{if(!bl(A))throw new Error("Invalid CanDeactivate guard");P=js(A(s,r,i,u))}return P.pipe(Wc())});return(0,ct.of)(E).pipe(Py())}(d.component,d.route,i,r,u)),Wc(d=>!0!==d,!0))}(E,u,d,s).pipe((0,di.zg)(w=>w&&function(s){return"boolean"==typeof s}(w)?function(s,r,i,u){return(0,Ye.D)(r).pipe(ed(d=>mr(function(s,r){return null!==s&&r&&r(new Vw(s)),(0,ct.of)(!0)}(d.route.parent,u),function(s,r){return null!==s&&r&&r(new Uw(s)),(0,ct.of)(!0)}(d.route,u),function(s,r,i){const u=r[r.length-1],f=r.slice(0,r.length-1).reverse().map(E=>function(s){const r=s.routeConfig?s.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:s,guards:r}:null}(E)).filter(E=>null!==E).map(E=>Rw(()=>{const w=E.guards.map(A=>{const P=Yp(A,E.node,i);let V;if(function(s){return s&&bl(s.canActivateChild)}(P))V=js(P.canActivateChild(u,s));else{if(!bl(P))throw new Error("Invalid CanActivateChild guard");V=js(P(u,s))}return V.pipe(Wc())});return(0,ct.of)(w).pipe(Py())}));return(0,ct.of)(f).pipe(Py())}(s,d.path,i),function(s,r,i){const u=r.routeConfig?r.routeConfig.canActivate:null;if(!u||0===u.length)return(0,ct.of)(!0);const d=u.map(f=>Rw(()=>{const E=Yp(f,r,i);let w;if(function(s){return s&&bl(s.canActivate)}(E))w=js(E.canActivate(r,s));else{if(!bl(E))throw new Error("Invalid CanActivate guard");w=js(E(r,s))}return w.pipe(Wc())}));return(0,ct.of)(d).pipe(Py())}(s,d.route,i))),Wc(d=>!0!==d,!0))}(u,f,s,r):(0,ct.of)(w)),(0,ft.U)(w=>Object.assign(Object.assign({},i),{guardsResult:w})))})}(this.ngModule.injector,w=>this.triggerEvent(w)),(0,er.b)(w=>{if(Dl(w.guardsResult)){const P=vy(`Redirecting to "${this.serializeUrl(w.guardsResult)}"`);throw P.url=w.guardsResult,P}const A=new kw(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot,!!w.guardsResult);this.triggerEvent(A)}),Un(w=>!!w.guardsResult||(this.restoreHistory(w),this.cancelNavigationTransition(w,""),!1)),AC(w=>{if(w.guards.canActivateChecks.length)return(0,ct.of)(w).pipe((0,er.b)(A=>{const P=new Fw(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);this.triggerEvent(P)}),li(A=>{let P=!1;return(0,ct.of)(A).pipe(function(s,r){return(0,di.zg)(i=>{const{targetSnapshot:u,guards:{canActivateChecks:d}}=i;if(!d.length)return(0,ct.of)(i);let f=0;return(0,Ye.D)(d).pipe(ed(E=>function(s,r,i,u){return function(s,r,i,u){const d=Object.keys(s);if(0===d.length)return(0,ct.of)({});const f={};return(0,Ye.D)(d).pipe((0,di.zg)(E=>function(s,r,i,u){const d=Yp(s,r,u);return js(d.resolve?d.resolve(r,i):d(r,i))}(s[E],r,i,u).pipe((0,er.b)(w=>{f[E]=w}))),XE(1),(0,di.zg)(()=>Object.keys(f).length===d.length?(0,ct.of)(f):_l.E))}(s._resolve,s,r,u).pipe((0,ft.U)(f=>(s._resolvedData=f,s.data=Object.assign(Object.assign({},s.data),sb(s,i).resolve),null)))}(E.route,u,s,r)),(0,er.b)(()=>f++),XE(1),(0,di.zg)(E=>f===d.length?(0,ct.of)(i):_l.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,er.b)({next:()=>P=!0,complete:()=>{P||(this.restoreHistory(A),this.cancelNavigationTransition(A,"At least one route resolver didn't emit any value."))}}))}),(0,er.b)(A=>{const P=new zh(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);this.triggerEvent(P)}))}),AC(w=>{const{targetSnapshot:A,id:P,extractedUrl:V,rawUrl:W,extras:{skipLocationChange:ue,replaceUrl:pe}}=w;return this.hooks.afterPreactivation(A,{navigationId:P,appliedUrlTree:V,rawUrlTree:W,skipLocationChange:!!ue,replaceUrl:!!pe})}),(0,ft.U)(w=>{const A=function(s,r,i){const u=id(s,r._root,i?i._root:void 0);return new rb(u,r)}(this.routeReuseStrategy,w.targetSnapshot,w.currentRouterState);return Object.assign(Object.assign({},w),{targetRouterState:A})}),(0,er.b)(w=>{this.currentUrlTree=w.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl),this.routerState=w.targetRouterState,"deferred"===this.urlUpdateStrategy&&(w.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,w),this.browserUrlTree=w.urlAfterRedirects)}),((s,r,i)=>(0,ft.U)(u=>(new hb(r,u.targetRouterState,u.currentRouterState,i).activate(s),u)))(this.rootContexts,this.routeReuseStrategy,w=>this.triggerEvent(w)),(0,er.b)({next(){f=!0},complete(){f=!0}}),function(s){return r=>r.lift(new Mw(s))}(()=>{if(!f&&!E){const w=`Navigation ID ${d.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(d),this.cancelNavigationTransition(d,w)):this.cancelNavigationTransition(d,w)}this.currentNavigation=null}),Xc(w=>{if(E=!0,function(s){return s&&s[iC]}(w)){const A=Dl(w.url);A||(this.navigated=!0,this.restoreHistory(d,!0));const P=new Pw(d.id,this.serializeUrl(d.extractedUrl),w.message);u.next(P),A?setTimeout(()=>{const V=this.urlHandlingStrategy.merge(w.url,this.rawUrlTree),W={skipLocationChange:d.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||tg(d.source)};this.scheduleNavigation(V,"imperative",null,W,{resolve:d.resolve,reject:d.reject,promise:d.promise})},0):d.resolve(!1)}else{this.restoreHistory(d,!0);const A=new nC(d.id,this.serializeUrl(d.extractedUrl),w);u.next(A);try{d.resolve(this.errorHandler(w))}catch(P){d.reject(P)}}return _l.E}))}))}resetRootComponentType(i){this.rootComponentType=i,this.routerState.root.component=this.rootComponentType}getTransition(){const i=this.transitions.value;return i.urlAfterRedirects=this.browserUrlTree,i}setTransition(i){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),i))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const u=this.extractLocationChangeInfoFromEvent(i);this.shouldScheduleNavigation(this.lastLocationChangeInfo,u)&&setTimeout(()=>{const{source:d,state:f,urlTree:E}=u,w={replaceUrl:!0};if(f){const A=Object.assign({},f);delete A.navigationId,delete A.\u0275routerPageId,0!==Object.keys(A).length&&(w.state=A)}this.scheduleNavigation(E,d,f,w)},0),this.lastLocationChangeInfo=u}))}extractLocationChangeInfoFromEvent(i){var u;return{source:"popstate"===i.type?"popstate":"hashchange",urlTree:this.parseUrl(i.url),state:(null===(u=i.state)||void 0===u?void 0:u.navigationId)?i.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(i,u){if(!i)return!0;const d=u.urlTree.toString()===i.urlTree.toString();return u.transitionId!==i.transitionId||!d||!("hashchange"===u.source&&"popstate"===i.source||"popstate"===u.source&&"hashchange"===i.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(i){this.events.next(i)}resetConfig(i){RS(i),this.config=i.map(yb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(i,u={}){const{relativeTo:d,queryParams:f,fragment:E,queryParamsHandling:w,preserveFragment:A}=u,P=d||this.routerState.root,V=A?this.currentUrlTree.fragment:E;let W=null;switch(w){case"merge":W=Object.assign(Object.assign({},this.currentUrlTree.queryParams),f);break;case"preserve":W=this.currentUrlTree.queryParams;break;default:W=f||null}return null!==W&&(W=this.removeEmptyProps(W)),function(s,r,i,u,d){if(0===i.length)return Sy(r.root,r.root,r,u,d);const f=function(s){if("string"==typeof s[0]&&1===s.length&&"/"===s[0])return new Ay(!0,0,s);let r=0,i=!1;const u=s.reduce((d,f,E)=>{if("object"==typeof f&&null!=f){if(f.outlets){const w={};return Fr(f.outlets,(A,P)=>{w[P]="string"==typeof A?A.split("/"):A}),[...d,{outlets:w}]}if(f.segmentPath)return[...d,f.segmentPath]}return"string"!=typeof f?[...d,f]:0===E?(f.split("/").forEach((w,A)=>{0==A&&"."===w||(0==A&&""===w?i=!0:".."===w?r++:""!=w&&d.push(w))}),d):[...d,f]},[]);return new Ay(i,r,u)}(i);if(f.toRoot())return Sy(r.root,new Bt([],{}),r,u,d);const E=function(s,r,i){if(s.isAbsolute)return new Ny(r.root,!0,0);if(-1===i.snapshot._lastPathIndex){const f=i.snapshot._urlSegment;return new Ny(f,f===r.root,0)}const u=Xh(s.commands[0])?0:1;return function(s,r,i){let u=s,d=r,f=i;for(;f>d;){if(f-=d,u=u.parent,!u)throw new Error("Invalid number of '../'");d=u.segments.length}return new Ny(u,!1,d-f)}(i.snapshot._urlSegment,i.snapshot._lastPathIndex+u,s.numberOfDoubleDots)}(f,r,s),w=E.processChildren?Ry(E.segmentGroup,E.index,f.commands):CC(E.segmentGroup,E.index,f.commands);return Sy(E.segmentGroup,w,r,u,d)}(P,this.currentUrlTree,i,W,null!=V?V:null)}navigateByUrl(i,u={skipLocationChange:!1}){const d=Dl(i)?i:this.parseUrl(i),f=this.urlHandlingStrategy.merge(d,this.rawUrlTree);return this.scheduleNavigation(f,"imperative",null,u)}navigate(i,u={skipLocationChange:!1}){return function(s){for(let r=0;r<s.length;r++){const i=s[r];if(null==i)throw new Error(`The requested path contains ${i} segment at index ${r}`)}}(i),this.navigateByUrl(this.createUrlTree(i,u),u)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let u;try{u=this.urlSerializer.parse(i)}catch(d){u=this.malformedUriErrorHandler(d,this.urlSerializer,i)}return u}isActive(i,u){let d;if(d=!0===u?Object.assign({},OC):!1===u?Object.assign({},qS):u,Dl(i))return aC(this.currentUrlTree,i,d);const f=this.parseUrl(i);return aC(this.currentUrlTree,f,d)}removeEmptyProps(i){return Object.keys(i).reduce((u,d)=>{const f=i[d];return null!=f&&(u[d]=f),u},{})}processNavigations(){this.navigations.subscribe(i=>{this.navigated=!0,this.lastSuccessfulId=i.id,this.currentPageId=i.targetPageId,this.events.next(new qh(i.id,this.serializeUrl(i.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,i.resolve(!0)},i=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(i,u,d,f,E){var w,A;if(this.disposed)return Promise.resolve(!1);const P=this.getTransition(),V=tg(u)&&P&&!tg(P.source),pe=(this.lastSuccessfulId===P.id||this.currentNavigation?P.rawUrl:P.urlAfterRedirects).toString()===i.toString();if(V&&pe)return Promise.resolve(!0);let Ue,Ke,ut;E?(Ue=E.resolve,Ke=E.reject,ut=E.promise):ut=new Promise(($t,kn)=>{Ue=$t,Ke=kn});const on=++this.navigationId;let Sn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(d=this.location.getState()),Sn=d&&d.\u0275routerPageId?d.\u0275routerPageId:f.replaceUrl||f.skipLocationChange?null!==(w=this.browserPageId)&&void 0!==w?w:0:(null!==(A=this.browserPageId)&&void 0!==A?A:0)+1):Sn=0,this.setTransition({id:on,targetPageId:Sn,source:u,restoredState:d,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:i,extras:f,resolve:Ue,reject:Ke,promise:ut,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ut.catch($t=>Promise.reject($t))}setBrowserUrl(i,u){const d=this.urlSerializer.serialize(i),f=Object.assign(Object.assign({},u.extras.state),this.generateNgRouterState(u.id,u.targetPageId));this.location.isCurrentPathEqualTo(d)||u.extras.replaceUrl?this.location.replaceState(d,"",f):this.location.go(d,"",f)}restoreHistory(i,u=!1){var d,f;if("computed"===this.canceledNavigationResolution){const E=this.currentPageId-i.targetPageId;"popstate"!==i.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(d=this.currentNavigation)||void 0===d?void 0:d.finalUrl)||0===E?this.currentUrlTree===(null===(f=this.currentNavigation)||void 0===f?void 0:f.finalUrl)&&0===E&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(E)}else"replace"===this.canceledNavigationResolution&&(u&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(i,u){const d=new Pw(i.id,this.serializeUrl(i.extractedUrl),u);this.triggerEvent(d),i.resolve(!1)}generateNgRouterState(i,u){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:u}:{navigationId:i}}}return s.\u0275fac=function(i){return new(i||s)(y.\u0275\u0275inject(y.Type),y.\u0275\u0275inject(cC),y.\u0275\u0275inject(tf),y.\u0275\u0275inject(T.Location),y.\u0275\u0275inject(y.Injector),y.\u0275\u0275inject(y.NgModuleFactoryLoader),y.\u0275\u0275inject(y.Compiler),y.\u0275\u0275inject(void 0))},s.\u0275prov=y.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s})();function tg(s){return"imperative"!==s}let $s=(()=>{class s{constructor(i,u,d){this.router=i,this.route=u,this.locationStrategy=d,this.commands=[],this.onChanges=new yl.xQ,this.subscription=i.events.subscribe(f=>{f instanceof qh&&this.updateTargetUrlAndHref()})}set routerLink(i){this.commands=null!=i?Array.isArray(i)?i:[i]:[]}ngOnChanges(i){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(i,u,d,f,E){if(0!==i||u||d||f||E||"string"==typeof this.target&&"_self"!=this.target)return!0;const w={skipLocationChange:nf(this.skipLocationChange),replaceUrl:nf(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,w),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:nf(this.preserveFragment)})}}return s.\u0275fac=function(i){return new(i||s)(y.\u0275\u0275directiveInject(nr),y.\u0275\u0275directiveInject(Bs),y.\u0275\u0275directiveInject(T.LocationStrategy))},s.\u0275dir=y.\u0275\u0275defineDirective({type:s,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(i,u){1&i&&y.\u0275\u0275listener("click",function(f){return u.onClick(f.button,f.ctrlKey,f.shiftKey,f.altKey,f.metaKey)}),2&i&&(y.\u0275\u0275hostProperty("href",u.href,y.\u0275\u0275sanitizeUrl),y.\u0275\u0275attribute("target",u.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[y.\u0275\u0275NgOnChangesFeature]}),s})();function nf(s){return""===s||!!s}let Ub=(()=>{class s{constructor(i,u,d,f,E){this.parentContexts=i,this.location=u,this.resolver=d,this.changeDetector=E,this.activated=null,this._activatedRoute=null,this.activateEvents=new y.EventEmitter,this.deactivateEvents=new y.EventEmitter,this.name=f||Lt,i.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const i=this.parentContexts.getContext(this.name);i&&i.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,i}attach(i,u){this.activated=i,this._activatedRoute=u,this.location.insert(i.hostView)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,u){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=i;const E=(u=u||this.resolver).resolveComponentFactory(i._futureSnapshot.routeConfig.component),w=this.parentContexts.getOrCreateContext(this.name).children,A=new jb(i,w,this.location.injector);this.activated=this.location.createComponent(E,this.location.length,A),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return s.\u0275fac=function(i){return new(i||s)(y.\u0275\u0275directiveInject(tf),y.\u0275\u0275directiveInject(y.ViewContainerRef),y.\u0275\u0275directiveInject(y.ComponentFactoryResolver),y.\u0275\u0275injectAttribute("name"),y.\u0275\u0275directiveInject(y.ChangeDetectorRef))},s.\u0275dir=y.\u0275\u0275defineDirective({type:s,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),s})();class jb{constructor(r,i,u){this.route=r,this.childContexts=i,this.parent=u}get(r,i){return r===Bs?this.route:r===tf?this.childContexts:this.parent.get(r,i)}}class KS{}class Bb{preload(r,i){return(0,ct.of)(null)}}let Hb=(()=>{class s{constructor(i,u,d,f,E){this.router=i,this.injector=f,this.preloadingStrategy=E,this.loader=new Hy(u,d,P=>i.triggerEvent(new Lw(P)),P=>i.triggerEvent(new rC(P)))}setUpPreloading(){this.subscription=this.router.events.pipe(Un(i=>i instanceof qh),ed(()=>this.preload())).subscribe(()=>{})}preload(){const i=this.injector.get(y.NgModuleRef);return this.processRoutes(i,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,u){const d=[];for(const f of u)if(f.loadChildren&&!f.canLoad&&f._loadedConfig){const E=f._loadedConfig;d.push(this.processRoutes(E.module,E.routes))}else f.loadChildren&&!f.canLoad?d.push(this.preloadConfig(i,f)):f.children&&d.push(this.processRoutes(i,f.children));return(0,Ye.D)(d).pipe((0,Ti.J)(),(0,ft.U)(f=>{}))}preloadConfig(i,u){return this.preloadingStrategy.preload(u,()=>(u._loadedConfig?(0,ct.of)(u._loadedConfig):this.loader.load(i.injector,u)).pipe((0,di.zg)(f=>(u._loadedConfig=f,this.processRoutes(f.module,f.routes)))))}}return s.\u0275fac=function(i){return new(i||s)(y.\u0275\u0275inject(nr),y.\u0275\u0275inject(y.NgModuleFactoryLoader),y.\u0275\u0275inject(y.Compiler),y.\u0275\u0275inject(y.Injector),y.\u0275\u0275inject(KS))},s.\u0275prov=y.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s})(),$b=(()=>{class s{constructor(i,u,d={}){this.router=i,this.viewportScroller=u,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(i=>{i instanceof tC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof qh&&(this.lastId=i.id,this.scheduleScrollEvent(i,this.router.parseUrl(i.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(i=>{i instanceof qp&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,u){this.router.triggerEvent(new qp(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,u))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return s.\u0275fac=function(i){return new(i||s)(y.\u0275\u0275inject(nr),y.\u0275\u0275inject(T.ViewportScroller),y.\u0275\u0275inject(void 0))},s.\u0275prov=y.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s})();const mu=new y.InjectionToken("ROUTER_CONFIGURATION"),Wb=new y.InjectionToken("ROUTER_FORROOT_GUARD"),qb=[T.Location,{provide:cC,useClass:vS},{provide:nr,useFactory:function(s,r,i,u,d,f,E,w={},A,P){const V=new nr(null,s,r,i,u,d,f,Kh(E));return A&&(V.urlHandlingStrategy=A),P&&(V.routeReuseStrategy=P),function(s,r){s.errorHandler&&(r.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(r.malformedUriErrorHandler=s.malformedUriErrorHandler),s.onSameUrlNavigation&&(r.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(r.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.relativeLinkResolution&&(r.relativeLinkResolution=s.relativeLinkResolution),s.urlUpdateStrategy&&(r.urlUpdateStrategy=s.urlUpdateStrategy)}(w,V),w.enableTracing&&V.events.subscribe(W=>{var ue,pe;null===(ue=console.group)||void 0===ue||ue.call(console,`Router Event: ${W.constructor.name}`),console.log(W.toString()),console.log(W),null===(pe=console.groupEnd)||void 0===pe||pe.call(console)}),V},deps:[cC,tf,T.Location,y.Injector,y.NgModuleFactoryLoader,y.Compiler,RC,mu,[class{},new y.Optional],[class{},new y.Optional]]},tf,{provide:Bs,useFactory:function(s){return s.routerState.root},deps:[nr]},{provide:y.NgModuleFactoryLoader,useClass:y.SystemJsNgModuleLoader},Hb,Bb,class{preload(r,i){return i().pipe(Xc(()=>(0,ct.of)(null)))}},{provide:mu,useValue:{enableTracing:!1}}];function zb(){return new y.NgProbeToken("Router",nr)}let Kb=(()=>{class s{constructor(i,u){}static forRoot(i,u){return{ngModule:s,providers:[qb,Zb(i),{provide:Wb,useFactory:YS,deps:[[nr,new y.Optional,new y.SkipSelf]]},{provide:mu,useValue:u||{}},{provide:T.LocationStrategy,useFactory:FC,deps:[T.PlatformLocation,[new y.Inject(T.APP_BASE_HREF),new y.Optional],mu]},{provide:$b,useFactory:kC,deps:[nr,T.ViewportScroller,mu]},{provide:KS,useExisting:u&&u.preloadingStrategy?u.preloadingStrategy:Bb},{provide:y.NgProbeToken,multi:!0,useFactory:zb},[Wy,{provide:y.APP_INITIALIZER,multi:!0,useFactory:JS,deps:[Wy]},{provide:Yb,useFactory:XS,deps:[Wy]},{provide:y.APP_BOOTSTRAP_LISTENER,multi:!0,useExisting:Yb}]]}}static forChild(i){return{ngModule:s,providers:[Zb(i)]}}}return s.\u0275fac=function(i){return new(i||s)(y.\u0275\u0275inject(Wb,8),y.\u0275\u0275inject(nr,8))},s.\u0275mod=y.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=y.\u0275\u0275defineInjector({}),s})();function kC(s,r,i){return i.scrollOffset&&r.setOffset(i.scrollOffset),new $b(s,r,i)}function FC(s,r,i={}){return i.useHash?new T.HashLocationStrategy(s,r):new T.PathLocationStrategy(s,r)}function YS(s){return"guarded"}function Zb(s){return[{provide:y.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:s},{provide:RC,multi:!0,useValue:s}]}let Wy=(()=>{class s{constructor(i){this.injector=i,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new yl.xQ}appInitializer(){return this.injector.get(T.LOCATION_INITIALIZED,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let u=null;const d=new Promise(w=>u=w),f=this.injector.get(nr),E=this.injector.get(mu);return"disabled"===E.initialNavigation?(f.setUpLocationChangeListener(),u(!0)):"enabled"===E.initialNavigation||"enabledBlocking"===E.initialNavigation?(f.hooks.afterPreactivation=()=>this.initNavigation?(0,ct.of)(null):(this.initNavigation=!0,u(!0),this.resultOfPreactivationDone),f.initialNavigation()):u(!0),d})}bootstrapListener(i){const u=this.injector.get(mu),d=this.injector.get(Hb),f=this.injector.get($b),E=this.injector.get(nr),w=this.injector.get(y.ApplicationRef);i===w.components[0]&&(("enabledNonBlocking"===u.initialNavigation||void 0===u.initialNavigation)&&E.initialNavigation(),d.setUpPreloading(),f.init(),E.resetRootComponentType(w.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return s.\u0275fac=function(i){return new(i||s)(y.\u0275\u0275inject(y.Injector))},s.\u0275prov=y.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s})();function JS(s){return s.appInitializer.bind(s)}function XS(s){return s.bootstrapListener.bind(s)}const Yb=new y.InjectionToken("Router Initializer");let sd=(()=>{class s{constructor(){this.settings={allowRegistration:!0,disableBalanceOnAdd:!0,disableBalanceOnEdit:!0},null!=localStorage.getItem("settings")&&(this.settings=JSON.parse(localStorage.getItem("settings")))}getSettings(){return this.settings}changeSettings(i){localStorage.setItem("settings",JSON.stringify(i))}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=y.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Xb(s,r){1&s&&(y.\u0275\u0275elementStart(0,"li",7),y.\u0275\u0275elementStart(1,"a",11),y.\u0275\u0275text(2,"Register"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd())}function eA(s,r){1&s&&(y.\u0275\u0275elementStart(0,"li",7),y.\u0275\u0275elementStart(1,"a",12),y.\u0275\u0275text(2,"Login"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd())}function eD(s,r){if(1&s&&(y.\u0275\u0275elementStart(0,"li",7),y.\u0275\u0275elementStart(1,"a",13),y.\u0275\u0275text(2),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd()),2&s){const i=y.\u0275\u0275nextContext();y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate(i.loggedInUser)}}function tA(s,r){1&s&&(y.\u0275\u0275elementStart(0,"li",7),y.\u0275\u0275elementStart(1,"a",14),y.\u0275\u0275text(2,"Settings"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd())}function nA(s,r){if(1&s){const i=y.\u0275\u0275getCurrentView();y.\u0275\u0275elementStart(0,"li",7),y.\u0275\u0275elementStart(1,"a",15),y.\u0275\u0275listener("click",function(){return y.\u0275\u0275restoreView(i),y.\u0275\u0275nextContext().onLogoutClick()}),y.\u0275\u0275text(2,"Logout"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd()}}let tD=(()=>{class s{constructor(i,u,d,f){this.authService=i,this.flashMessage=u,this.router=d,this.settingsService=f}ngOnInit(){this.authService.getAuth().subscribe(i=>{i?(this.isLoggedIn=!0,this.loggedInUser=i.email):this.isLoggedIn=!1}),this.showRegister=this.settingsService.getSettings().allowRegistration}onLogoutClick(){this.authService.logOut(),this.flashMessage.show("You are logged out",{cssClass:"alert-success",timeout:4e3}),this.router.navigate(["/login"])}}return s.\u0275fac=function(i){return new(i||s)(y.\u0275\u0275directiveInject(yy),y.\u0275\u0275directiveInject(fu.GQ),y.\u0275\u0275directiveInject(nr),y.\u0275\u0275directiveInject(sd))},s.\u0275cmp=y.\u0275\u0275defineComponent({type:s,selectors:[["app-navbar"]],decls:17,vars:5,consts:[[1,"navbar","navbar-expand-md","navbar-dark","bg-primary","mb-4"],[1,"container"],["routerLink","/",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarMain",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarMain",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["routerLink","/",1,"nav-link"],[1,"navbar-nav","ml-auto"],["class","nav-item",4,"ngIf"],["routerLink","/register",1,"nav-link"],["routerLink","/login",1,"nav-link"],["href","#",1,"nav-link"],["routerLink","/settings",1,"nav-link"],["href","#",1,"nav-link",3,"click"]],template:function(i,u){1&i&&(y.\u0275\u0275elementStart(0,"nav",0),y.\u0275\u0275elementStart(1,"div",1),y.\u0275\u0275elementStart(2,"a",2),y.\u0275\u0275text(3,"ClientPanel"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(4,"button",3),y.\u0275\u0275element(5,"span",4),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(6,"div",5),y.\u0275\u0275elementStart(7,"ul",6),y.\u0275\u0275elementStart(8,"li",7),y.\u0275\u0275elementStart(9,"a",8),y.\u0275\u0275text(10,"Dashboard"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(11,"ul",9),y.\u0275\u0275template(12,Xb,3,0,"li",10),y.\u0275\u0275template(13,eA,3,0,"li",10),y.\u0275\u0275template(14,eD,3,1,"li",10),y.\u0275\u0275template(15,tA,3,0,"li",10),y.\u0275\u0275template(16,nA,3,0,"li",10),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd()),2&i&&(y.\u0275\u0275advance(12),y.\u0275\u0275property("ngIf",!u.isLoggedIn&&u.showRegister),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",!u.isLoggedIn&&u.showRegister),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",u.isLoggedIn),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",u.isLoggedIn),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",u.isLoggedIn))},directives:[$s,T.NgIf],styles:[""]}),s})(),nD=(()=>{class s{constructor(){this.title="clientpanel"}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=y.\u0275\u0275defineComponent({type:s,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"container"]],template:function(i,u){1&i&&(y.\u0275\u0275element(0,"app-navbar"),y.\u0275\u0275elementStart(1,"div",0),y.\u0275\u0275element(2,"flash-messages"),y.\u0275\u0275element(3,"router-outlet"),y.\u0275\u0275elementEnd())},directives:[tD,fu.cS,Ub],styles:[""]}),s})(),rg=(()=>{class s{constructor(i){this.afs=i,this.clientsCollection=this.afs.collection("clients",u=>u.orderBy("lastName","asc"))}getClients(){return this.clients=this.clientsCollection.snapshotChanges().pipe((0,ft.U)(i=>i.map(u=>{const d=u.payload.doc.data();return d.id=u.payload.doc.id,d}))),this.clients}newClient(i){this.clientsCollection.add(i)}getClient(i){return this.clientDoc=this.afs.doc(`clients/${i}`),this.client=this.clientDoc.snapshotChanges().pipe((0,ft.U)(u=>{if(!1===u.payload.exists)return null;{const d=u.payload.data();return d.id=u.payload.id,d}})),this.client}updateClient(i){this.clientDoc=this.afs.doc(`clients/${i.id}`),this.clientDoc.update(i)}deleteClient(i){this.clientDoc=this.afs.doc(`clients/${i.id}`),this.clientDoc.delete()}}return s.\u0275fac=function(i){return new(i||s)(y.\u0275\u0275inject(ty))},s.\u0275prov=y.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function rD(s,r){if(1&s&&(y.\u0275\u0275elementStart(0,"tr"),y.\u0275\u0275elementStart(1,"td"),y.\u0275\u0275text(2),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(3,"td"),y.\u0275\u0275text(4),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(5,"td"),y.\u0275\u0275text(6),y.\u0275\u0275pipe(7,"currency"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(8,"td"),y.\u0275\u0275elementStart(9,"a",9),y.\u0275\u0275element(10,"div",10),y.\u0275\u0275text(11,"Details"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd()),2&s){const i=r.$implicit;y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate2("",i.firstName," ",i.lastName,""),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate(i.email),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind3(7,5,i.balance,"USD","symbol")),y.\u0275\u0275advance(3),y.\u0275\u0275propertyInterpolate1("routerLink","client/",i.id,"")}}function ig(s,r){if(1&s&&(y.\u0275\u0275elementStart(0,"table",6),y.\u0275\u0275elementStart(1,"thead",7),y.\u0275\u0275elementStart(2,"tr"),y.\u0275\u0275elementStart(3,"th"),y.\u0275\u0275text(4,"Name"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(5,"th"),y.\u0275\u0275text(6,"Email"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(7,"th"),y.\u0275\u0275text(8,"Balance"),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(9,"th"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(10,"tbody"),y.\u0275\u0275template(11,rD,12,9,"tr",8),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd()),2&s){const i=y.\u0275\u0275nextContext();y.\u0275\u0275advance(11),y.\u0275\u0275property("ngForOf",i.clients)}}function Lr(s,r){1&s&&(y.\u0275\u0275elementStart(0,"h5"),y.\u0275\u0275text(1,"There are no clients in the system"),y.\u0275\u0275elementEnd())}let rA=(()=>{class s{constructor(i){this.clientService=i}ngOnInit(){this.clientService.getClients().subscribe(i=>{this.clients=i,this.getTotalOwed()})}getTotalOwed(){this.totalOwed=this.clients.reduce((i,u)=>i+parseFloat(u.balance.toString()),0)}}return s.\u0275fac=function(i){return new(i||s)(y.\u0275\u0275directiveInject(rg))},s.\u0275cmp=y.\u0275\u0275defineComponent({type:s,selectors:[["app-clients"]],decls:11,vars:7,consts:[[1,"row"],[1,"col-md-6"],[1,"fa","fa-users"],[1,"text-right","text-secondary"],["class","table table-striped",4,"ngIf"],[4,"ngIf"],[1,"table","table-striped"],[1,"thead-inverse"],[4,"ngFor","ngForOf"],[1,"btn","btn-secondary","btn-sm",3,"routerLink"],[1,"i","fa","fa-arrow-circle-o-right"]],template:function(i,u){1&i&&(y.\u0275\u0275elementStart(0,"div",0),y.\u0275\u0275elementStart(1,"div",1),y.\u0275\u0275elementStart(2,"h2"),y.\u0275\u0275element(3,"i",2),y.\u0275\u0275text(4," Clients"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(5,"div",1),y.\u0275\u0275elementStart(6,"h5",3),y.\u0275\u0275text(7),y.\u0275\u0275pipe(8,"currency"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275template(9,ig,12,1,"table",4),y.\u0275\u0275template(10,Lr,2,0,"h5",5)),2&i&&(y.\u0275\u0275advance(7),y.\u0275\u0275textInterpolate1(" Total Owed: ",y.\u0275\u0275pipeBind3(8,3,u.totalOwed,"USD","symbol")," "),y.\u0275\u0275advance(2),y.\u0275\u0275property("ngIf",u.clients.length>0),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",0===u.clients.length))},directives:[T.NgIf,T.NgForOf,$s],pipes:[T.CurrencyPipe],styles:[""]}),s})(),iD=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=y.\u0275\u0275defineComponent({type:s,selectors:[["app-sidebar"]],decls:3,vars:0,consts:[["routerLink","/client/add",1,"btn","btn-success","btn-block"],[1,"fa","fa-plus"]],template:function(i,u){1&i&&(y.\u0275\u0275elementStart(0,"a",0),y.\u0275\u0275element(1,"i",1),y.\u0275\u0275text(2," New\n"),y.\u0275\u0275elementEnd())},directives:[$s],styles:[""]}),s})(),sD=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=y.\u0275\u0275defineComponent({type:s,selectors:[["app-dashboard"]],decls:5,vars:0,consts:[[1,"row"],[1,"col-md-10"],[1,"col-md-2"]],template:function(i,u){1&i&&(y.\u0275\u0275elementStart(0,"div",0),y.\u0275\u0275elementStart(1,"div",1),y.\u0275\u0275element(2,"app-clients"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(3,"div",2),y.\u0275\u0275element(4,"app-sidebar"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd())},directives:[rA,iD],styles:[""]}),s})(),VC=(()=>{class s{constructor(i,u,d){this.authService=i,this.router=u,this.flashMessage=d}ngOnInit(){this.authService.getAuth().subscribe(i=>{i&&this.router.navigate(["/"])})}onSubmit(){this.authService.login(this.email,this.password).then(i=>{this.flashMessage.show("You are now logged in",{cssClass:"alert-success",timeout:4e3}),this.router.navigate(["/"])}).catch(i=>{this.flashMessage.show(i.message,{cssClass:"alert-danger",timeout:4e3})})}}return s.\u0275fac=function(i){return new(i||s)(y.\u0275\u0275directiveInject(yy),y.\u0275\u0275directiveInject(nr),y.\u0275\u0275directiveInject(fu.GQ))},s.\u0275cmp=y.\u0275\u0275defineComponent({type:s,selectors:[["app-login"]],decls:19,vars:2,consts:[[1,"row"],[1,"col-md-6","mx-auto"],[1,"card"],[1,"card-body"],[1,"text-center","pb-4","pt-3"],[1,"text-primary"],[1,"fa","fa-lock"],[3,"submit"],[1,"form-group"],["for","email"],["type","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","value","Login",1,"btn","btn-primary","btn-block"]],template:function(i,u){1&i&&(y.\u0275\u0275elementStart(0,"div",0),y.\u0275\u0275elementStart(1,"div",1),y.\u0275\u0275elementStart(2,"div",2),y.\u0275\u0275elementStart(3,"div",3),y.\u0275\u0275elementStart(4,"h1",4),y.\u0275\u0275elementStart(5,"span",5),y.\u0275\u0275element(6,"i",6),y.\u0275\u0275text(7," Client Panel "),y.\u0275\u0275elementEnd(),y.\u0275\u0275text(8," Login "),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(9,"form",7),y.\u0275\u0275listener("submit",function(){return u.onSubmit()}),y.\u0275\u0275elementStart(10,"div",8),y.\u0275\u0275elementStart(11,"label",9),y.\u0275\u0275text(12,"Email"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(13,"input",10),y.\u0275\u0275listener("ngModelChange",function(f){return u.email=f}),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(14,"div",8),y.\u0275\u0275elementStart(15,"label",11),y.\u0275\u0275text(16,"Password"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(17,"input",12),y.\u0275\u0275listener("ngModelChange",function(f){return u.password=f}),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(18,"input",13),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd()),2&i&&(y.\u0275\u0275advance(13),y.\u0275\u0275property("ngModel",u.email),y.\u0275\u0275advance(4),y.\u0275\u0275property("ngModel",u.password))},directives:[Qc,Fh,hu,pa,Jc,qc,Io],styles:[""]}),s})(),sg=(()=>{class s{constructor(i,u,d){this.authService=i,this.router=u,this.flashMessage=d}ngOnInit(){}onSubmit(){this.authService.register(this.email,this.password).then(i=>{this.flashMessage.show("You are now registered and logged in",{cssClass:"alert-success",timeout:4e3}),this.router.navigate(["/"])}).catch(i=>{this.flashMessage.show(i.message,{cssClass:"alert-danger",timeout:4e3})})}}return s.\u0275fac=function(i){return new(i||s)(y.\u0275\u0275directiveInject(yy),y.\u0275\u0275directiveInject(nr),y.\u0275\u0275directiveInject(fu.GQ))},s.\u0275cmp=y.\u0275\u0275defineComponent({type:s,selectors:[["app-register"]],decls:19,vars:2,consts:[[1,"row"],[1,"col-md-6","mx-auto"],[1,"card"],[1,"card-body"],[1,"text-center","pb-4","pt-3"],[1,"text-primary"],[1,"fa","fa-lock"],[3,"submit"],[1,"form-group"],["for","email"],["type","email","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","value","Register",1,"btn","btn-primary","btn-block"]],template:function(i,u){1&i&&(y.\u0275\u0275elementStart(0,"div",0),y.\u0275\u0275elementStart(1,"div",1),y.\u0275\u0275elementStart(2,"div",2),y.\u0275\u0275elementStart(3,"div",3),y.\u0275\u0275elementStart(4,"h1",4),y.\u0275\u0275elementStart(5,"span",5),y.\u0275\u0275element(6,"i",6),y.\u0275\u0275text(7," Client Panel "),y.\u0275\u0275elementEnd(),y.\u0275\u0275text(8," Register "),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(9,"form",7),y.\u0275\u0275listener("submit",function(){return u.onSubmit()}),y.\u0275\u0275elementStart(10,"div",8),y.\u0275\u0275elementStart(11,"label",9),y.\u0275\u0275text(12,"Email"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(13,"input",10),y.\u0275\u0275listener("ngModelChange",function(f){return u.email=f}),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(14,"div",8),y.\u0275\u0275elementStart(15,"label",11),y.\u0275\u0275text(16,"Password"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(17,"input",12),y.\u0275\u0275listener("ngModelChange",function(f){return u.password=f}),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(18,"input",13),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd()),2&i&&(y.\u0275\u0275advance(13),y.\u0275\u0275property("ngModel",u.email),y.\u0275\u0275advance(4),y.\u0275\u0275property("ngModel",u.password))},directives:[Qc,Fh,hu,pa,Jc,qc,Io],styles:[""]}),s})(),iA=(()=>{class s{constructor(i,u,d){this.flashMessage=i,this.router=u,this.settingsService=d}ngOnInit(){this.settings=this.settingsService.getSettings()}onSubmit(){this.settingsService.changeSettings(this.settings),this.flashMessage.show("Settings saved",{cssClass:"alert-success",timeout:4e3})}}return s.\u0275fac=function(i){return new(i||s)(y.\u0275\u0275directiveInject(fu.GQ),y.\u0275\u0275directiveInject(nr),y.\u0275\u0275directiveInject(sd))},s.\u0275cmp=y.\u0275\u0275defineComponent({type:s,selectors:[["app-settings"]],decls:24,vars:3,consts:[[1,"row"],[1,"col-md-6"],["routerLink","/",1,"btn","btn-link"],[1,"fa","fa-arrow-circle-o-left"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"submit"],[1,"form-group"],["type","checkbox","name","allowRegistration",1,"ml-2",3,"checked","change"],["type","checkbox","name","disableBalanceOnAdd",1,"ml-2",3,"checked","change"],["type","checkbox","name","disableBalanceOnEdit",1,"ml-2",3,"checked","change"],["type","submit","value","Submit",1,"btn","btn-primary","btn-block"]],template:function(i,u){1&i&&(y.\u0275\u0275elementStart(0,"div",0),y.\u0275\u0275elementStart(1,"div",1),y.\u0275\u0275elementStart(2,"a",2),y.\u0275\u0275elementStart(3,"i",3),y.\u0275\u0275text(4," Back to Dashboard"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(5,"div",1),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(6,"div",4),y.\u0275\u0275elementStart(7,"div",5),y.\u0275\u0275text(8," Edit Settings "),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(9,"div",6),y.\u0275\u0275elementStart(10,"form",7),y.\u0275\u0275listener("submit",function(){return u.onSubmit()}),y.\u0275\u0275elementStart(11,"div",8),y.\u0275\u0275elementStart(12,"label"),y.\u0275\u0275text(13,"Allow Registration"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(14,"input",9),y.\u0275\u0275listener("change",function(){return u.settings.allowRegistration=!u.settings.allowRegistration}),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(15,"div",8),y.\u0275\u0275elementStart(16,"label"),y.\u0275\u0275text(17,"Disable Balance On Add"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(18,"input",10),y.\u0275\u0275listener("change",function(){return u.settings.disableBalanceOnAdd=!u.settings.disableBalanceOnAdd}),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(19,"div",8),y.\u0275\u0275elementStart(20,"label"),y.\u0275\u0275text(21,"Disable Balance On Edit"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(22,"input",11),y.\u0275\u0275listener("change",function(){return u.settings.disableBalanceOnEdit=!u.settings.disableBalanceOnEdit}),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(23,"input",12),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd()),2&i&&(y.\u0275\u0275advance(14),y.\u0275\u0275property("checked",u.settings.allowRegistration),y.\u0275\u0275advance(4),y.\u0275\u0275property("checked",u.settings.disableBalanceOnAdd),y.\u0275\u0275advance(4),y.\u0275\u0275property("checked",u.settings.disableBalanceOnEdit))},directives:[$s,Qc,Fh,hu],styles:[""]}),s})();const sA=["clientForm"],og=function(s){return{"is-invalid":s}};let od=(()=>{class s{constructor(i,u,d,f){this.flashMessage=i,this.clientService=u,this.router=d,this.settingsService=f,this.client={firstName:"",lastName:"",email:"",phone:"",balance:0}}ngOnInit(){this.disableBalanceOnAdd=this.settingsService.getSettings().disableBalanceOnAdd}onSubmit({value:i,valid:u}){this.disableBalanceOnAdd&&(i.balance=0),u?(this.clientService.newClient(i),this.flashMessage.show("New Client Added",{cssClass:"alert-success",timeout:4e3}),this.router.navigate(["/"])):this.flashMessage.show("Please fill out the form correctly",{cssClass:"alert-danger",timeout:4e3})}}return s.\u0275fac=function(i){return new(i||s)(y.\u0275\u0275directiveInject(fu.GQ),y.\u0275\u0275directiveInject(rg),y.\u0275\u0275directiveInject(nr),y.\u0275\u0275directiveInject(sd))},s.\u0275cmp=y.\u0275\u0275defineComponent({type:s,selectors:[["app-add-client"]],viewQuery:function(i,u){if(1&i&&y.\u0275\u0275viewQuery(sA,5),2&i){let d;y.\u0275\u0275queryRefresh(d=y.\u0275\u0275loadQuery())&&(u.form=d.first)}},decls:54,vars:26,consts:[[1,"row"],[1,"col-md-6"],["routerLink","/",1,"btn","btn-link"],[1,"fa","fa-arrow-circle-o-left"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"ngSubmit"],["clientForm","ngForm"],[1,"form-group"],["for","firstName"],["type","text","name","firstName","minlength","2","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["clientFirstName","ngModel"],[1,"invalid-feedback",3,"hidden"],["type","text","name","lastName","minlength","2","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["clientLastName","ngModel"],["type","email","name","email","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["clientEmail","ngModel"],["for","phone"],["type","number","name","phone","minlength","10","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["clientPhone","ngModel"],["for","balance"],["type","number","name","balance",1,"form-control",3,"ngModel","disabled","ngModelChange"],["clientBalance","ngModel"],["type","submit","value","Submit",1,"btn","btn-primary","btn-block"]],template:function(i,u){if(1&i){const d=y.\u0275\u0275getCurrentView();y.\u0275\u0275elementStart(0,"div",0),y.\u0275\u0275elementStart(1,"div",1),y.\u0275\u0275elementStart(2,"a",2),y.\u0275\u0275element(3,"i",3),y.\u0275\u0275text(4,"Back To Dashboard"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(5,"div",1),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(6,"div",4),y.\u0275\u0275elementStart(7,"div",5),y.\u0275\u0275text(8," Add Client "),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(9,"div",6),y.\u0275\u0275elementStart(10,"form",7,8),y.\u0275\u0275listener("ngSubmit",function(){y.\u0275\u0275restoreView(d);const E=y.\u0275\u0275reference(11);return u.onSubmit(E)}),y.\u0275\u0275elementStart(12,"div",9),y.\u0275\u0275elementStart(13,"label",10),y.\u0275\u0275text(14,"First Name"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(15,"input",11,12),y.\u0275\u0275listener("ngModelChange",function(E){return u.client.firstName=E}),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(17,"div",13),y.\u0275\u0275text(18," First name required "),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(19,"div",13),y.\u0275\u0275text(20," Must be at least 2 character "),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(21,"div",9),y.\u0275\u0275elementStart(22,"label",10),y.\u0275\u0275text(23,"Last Name"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(24,"input",14,15),y.\u0275\u0275listener("ngModelChange",function(E){return u.client.lastName=E}),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(26,"div",13),y.\u0275\u0275text(27," Last name required "),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(28,"div",13),y.\u0275\u0275text(29," Must be at least 2 character "),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(30,"div",9),y.\u0275\u0275elementStart(31,"label",10),y.\u0275\u0275text(32,"Email"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(33,"input",16,17),y.\u0275\u0275listener("ngModelChange",function(E){return u.client.email=E}),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(35,"div",13),y.\u0275\u0275text(36," Email required "),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(37,"div",13),y.\u0275\u0275text(38," Email is invalid "),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(39,"div",9),y.\u0275\u0275elementStart(40,"label",18),y.\u0275\u0275text(41,"Phone"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(42,"input",19,20),y.\u0275\u0275listener("ngModelChange",function(E){return u.client.phone=E}),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(44,"div",13),y.\u0275\u0275text(45," Phone is required "),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(46,"div",13),y.\u0275\u0275text(47," Must be at least 10 characters "),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(48,"div",9),y.\u0275\u0275elementStart(49,"label",21),y.\u0275\u0275text(50,"Balance"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(51,"input",22,23),y.\u0275\u0275listener("ngModelChange",function(E){return u.client.balance=E}),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(53,"input",24),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd()}if(2&i){const d=y.\u0275\u0275reference(16),f=y.\u0275\u0275reference(25),E=y.\u0275\u0275reference(34),w=y.\u0275\u0275reference(43);y.\u0275\u0275advance(15),y.\u0275\u0275property("ngModel",u.client.firstName)("ngClass",y.\u0275\u0275pureFunction1(18,og,d.errors&&d.touched)),y.\u0275\u0275advance(2),y.\u0275\u0275property("hidden",!(null!=d.errors&&d.errors.required)),y.\u0275\u0275advance(2),y.\u0275\u0275property("hidden",!(null!=d.errors&&d.errors.minlength)),y.\u0275\u0275advance(5),y.\u0275\u0275property("ngClass",y.\u0275\u0275pureFunction1(20,og,f.errors&&f.touched))("ngModel",u.client.lastName),y.\u0275\u0275advance(2),y.\u0275\u0275property("hidden",!(null!=f.errors&&f.errors.required)),y.\u0275\u0275advance(2),y.\u0275\u0275property("hidden",!(null!=f.errors&&f.errors.minlength)),y.\u0275\u0275advance(5),y.\u0275\u0275property("ngClass",y.\u0275\u0275pureFunction1(22,og,E.errors&&d.touched))("ngModel",u.client.email),y.\u0275\u0275advance(2),y.\u0275\u0275property("hidden",!(null!=E.errors&&E.errors.required)),y.\u0275\u0275advance(2),y.\u0275\u0275property("hidden",!(null!=E.errors&&E.errors.pattern)),y.\u0275\u0275advance(5),y.\u0275\u0275property("ngClass",y.\u0275\u0275pureFunction1(24,og,E.errors&&w.touched))("ngModel",u.client.phone),y.\u0275\u0275advance(2),y.\u0275\u0275property("hidden",!(null!=w.errors&&w.errors.required)),y.\u0275\u0275advance(2),y.\u0275\u0275property("hidden",!(null!=w.errors&&w.errors.minlength)),y.\u0275\u0275advance(5),y.\u0275\u0275property("ngModel",u.client.balance)("disabled",u.disableBalanceOnAdd)}},directives:[$s,Qc,Fh,hu,pa,Gp,Jc,qc,Io,T.NgClass,py,fy],styles:[""]}),s})();function oD(s,r){if(1&s){const i=y.\u0275\u0275getCurrentView();y.\u0275\u0275elementStart(0,"form",19),y.\u0275\u0275listener("submit",function(){return y.\u0275\u0275restoreView(i),y.\u0275\u0275nextContext(2).updateClient()}),y.\u0275\u0275elementStart(1,"div",20),y.\u0275\u0275elementStart(2,"input",21),y.\u0275\u0275listener("ngModelChange",function(d){return y.\u0275\u0275restoreView(i),y.\u0275\u0275nextContext(2).client.balance=d}),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(3,"span",22),y.\u0275\u0275elementStart(4,"button",23),y.\u0275\u0275text(5,"Update"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd()}if(2&s){const i=y.\u0275\u0275nextContext(2);y.\u0275\u0275advance(2),y.\u0275\u0275property("ngModel",i.client.balance)}}function UC(s,r){if(1&s){const i=y.\u0275\u0275getCurrentView();y.\u0275\u0275elementStart(0,"div",8),y.\u0275\u0275elementStart(1,"h3",9),y.\u0275\u0275text(2),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(3,"div",10),y.\u0275\u0275elementStart(4,"div",0),y.\u0275\u0275elementStart(5,"div",11),y.\u0275\u0275elementStart(6,"h4"),y.\u0275\u0275text(7),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(8,"div",11),y.\u0275\u0275elementStart(9,"h3",12),y.\u0275\u0275text(10," Balance "),y.\u0275\u0275elementStart(11,"span"),y.\u0275\u0275text(12),y.\u0275\u0275pipe(13,"currency"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(14,"small"),y.\u0275\u0275elementStart(15,"a",13),y.\u0275\u0275listener("click",function(){y.\u0275\u0275restoreView(i);const d=y.\u0275\u0275nextContext();return d.showBalanceUpdateInput=!d.showBalanceUpdateInput}),y.\u0275\u0275element(16,"i",14),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(17,"div",15),y.\u0275\u0275template(18,oD,6,1,"form",16),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(19,"ul",17),y.\u0275\u0275elementStart(20,"li",18),y.\u0275\u0275text(21),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(22,"li",18),y.\u0275\u0275text(23),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd()}if(2&s){const i=y.\u0275\u0275nextContext();y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate2(" ",i.client.firstName," ",i.client.lastName," "),y.\u0275\u0275advance(5),y.\u0275\u0275textInterpolate1("Client ID: ",i.client.id,""),y.\u0275\u0275advance(4),y.\u0275\u0275classProp("text-danger",i.hasBalance)("text-success",!i.hasBalance),y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate1(" ",y.\u0275\u0275pipeBind3(13,11,i.client.balance,"USD","symbol")," "),y.\u0275\u0275advance(6),y.\u0275\u0275property("ngIf",i.showBalanceUpdateInput),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate1(" Contact Email: ",i.client.email," "),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate1(" Contact Phone: ",i.client.phone," ")}}let jC=(()=>{class s{constructor(i,u,d,f){this.clientService=i,this.flashMessage=u,this.router=d,this.route=f,this.hasBalance=!1,this.showBalanceUpdateInput=!1}ngOnInit(){this.id=this.route.snapshot.params.id,this.clientService.getClient(this.id).subscribe(i=>{null!=i&&i.balance>0&&(this.hasBalance=!0),this.client=i})}onDeleteClick(){confirm("Are you sure?")&&(this.clientService.deleteClient(this.client),this.flashMessage.show("Client Removed",{cssClass:"alert-success",timeout:4e3}),this.router.navigate(["/"]))}updateClient(){this.clientService.updateClient(this.client),this.flashMessage.show("Balance updated",{cssClass:"alert-success",timeout:4e3})}}return s.\u0275fac=function(i){return new(i||s)(y.\u0275\u0275directiveInject(rg),y.\u0275\u0275directiveInject(fu.GQ),y.\u0275\u0275directiveInject(nr),y.\u0275\u0275directiveInject(Bs))},s.\u0275cmp=y.\u0275\u0275defineComponent({type:s,selectors:[["app-client-detail"]],decls:13,vars:2,consts:[[1,"row"],[1,"col-md-6"],["routerLink","/",1,"btn","btn-link"],[1,"fa","fa-arrow-circle-o-left"],[1,"btn-group","pull-right"],[1,"btn","btn-dark",3,"routerLink"],[1,"btn","btn-danger",3,"click"],["class","card",4,"ngIf"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"col-6"],[1,"pull-right"],[3,"click"],[1,"fa","fa-pencil"],[1,"clearfix"],[3,"submit",4,"ngIf"],[1,"list-group"],[1,"list-group-item"],[3,"submit"],[1,"input-group","mb-3"],["type","text","name","balance",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-btn"],["type","submit",1,"btn","btn-primary"]],template:function(i,u){1&i&&(y.\u0275\u0275elementStart(0,"div",0),y.\u0275\u0275elementStart(1,"div",1),y.\u0275\u0275elementStart(2,"a",2),y.\u0275\u0275element(3,"i",3),y.\u0275\u0275text(4,"Back to Dashboard"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(5,"div",1),y.\u0275\u0275elementStart(6,"div",4),y.\u0275\u0275elementStart(7,"a",5),y.\u0275\u0275text(8," Edit"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(9,"button",6),y.\u0275\u0275listener("click",function(){return u.onDeleteClick()}),y.\u0275\u0275text(10,"Delete"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(11,"hr"),y.\u0275\u0275template(12,UC,24,15,"div",7)),2&i&&(y.\u0275\u0275advance(7),y.\u0275\u0275propertyInterpolate1("routerLink","/client/edit/",u.id,""),y.\u0275\u0275advance(5),y.\u0275\u0275property("ngIf",u.client))},directives:[$s,T.NgIf,Qc,Fh,hu,pa,qc,Io],pipes:[T.CurrencyPipe],styles:[""]}),s})();const Gy=function(s){return{"is-invalid":s}};let qy=(()=>{class s{constructor(i,u,d,f,E){this.clientService=i,this.settingsService=u,this.flashMessage=d,this.router=f,this.route=E,this.client={firstName:"",lastName:"",email:"",phone:"",balance:0},this.disabledBalanceOnEdit=!0}ngOnInit(){this.disabledBalanceOnEdit=this.settingsService.getSettings().disableBalanceOnEdit,this.id=this.route.snapshot.params.id,this.clientService.getClient(this.id).subscribe(i=>this.client=i)}onSubmit({value:i,valid:u}){u?(i.id=this.id,this.clientService.updateClient(i),this.flashMessage.show("Client Updated",{cssClass:"alert-success",timeout:4e3}),this.router.navigate(["/client/"+this.id])):this.flashMessage.show("Please fill out the form correctly",{cssClass:"alert-danger",timeout:4e3})}}return s.\u0275fac=function(i){return new(i||s)(y.\u0275\u0275directiveInject(rg),y.\u0275\u0275directiveInject(sd),y.\u0275\u0275directiveInject(fu.GQ),y.\u0275\u0275directiveInject(nr),y.\u0275\u0275directiveInject(Bs))},s.\u0275cmp=y.\u0275\u0275defineComponent({type:s,selectors:[["app-edit-client"]],decls:54,vars:27,consts:[[1,"row"],[1,"col-md-6"],[1,"btn","btn-link",3,"routerLink"],[1,"fa","fa-arrow-circle-o-left"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"ngSubmit"],["clientForm","ngForm"],[1,"form-group"],["for","firstName"],["type","text","name","firstName","minlength","2","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["clientFirstName","ngModel"],[1,"invalid-feedback",3,"hidden"],["type","text","name","lastName","minlength","2","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["clientLastName","ngModel"],["type","email","name","email","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["clientEmail","ngModel"],["for","phone"],["type","number","name","phone","minlength","10","required","",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["clientPhone","ngModel"],["for","balance"],["type","number","name","balance",1,"form-control",3,"ngModel","disabled","ngModelChange"],["clientBalance","ngModel"],["type","submit","value","Submit",1,"btn","btn-primary","btn-block"]],template:function(i,u){if(1&i){const d=y.\u0275\u0275getCurrentView();y.\u0275\u0275elementStart(0,"div",0),y.\u0275\u0275elementStart(1,"div",1),y.\u0275\u0275elementStart(2,"a",2),y.\u0275\u0275element(3,"i",3),y.\u0275\u0275text(4,"Back To Client"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(5,"div",1),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(6,"div",4),y.\u0275\u0275elementStart(7,"div",5),y.\u0275\u0275text(8," Edit Client "),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(9,"div",6),y.\u0275\u0275elementStart(10,"form",7,8),y.\u0275\u0275listener("ngSubmit",function(){y.\u0275\u0275restoreView(d);const E=y.\u0275\u0275reference(11);return u.onSubmit(E)}),y.\u0275\u0275elementStart(12,"div",9),y.\u0275\u0275elementStart(13,"label",10),y.\u0275\u0275text(14,"First Name"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(15,"input",11,12),y.\u0275\u0275listener("ngModelChange",function(E){return u.client.firstName=E}),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(17,"div",13),y.\u0275\u0275text(18," First name required "),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(19,"div",13),y.\u0275\u0275text(20," Must be at least 2 character "),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(21,"div",9),y.\u0275\u0275elementStart(22,"label",10),y.\u0275\u0275text(23,"Last Name"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(24,"input",14,15),y.\u0275\u0275listener("ngModelChange",function(E){return u.client.lastName=E}),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(26,"div",13),y.\u0275\u0275text(27," Last name required "),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(28,"div",13),y.\u0275\u0275text(29," Must be at least 2 character "),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(30,"div",9),y.\u0275\u0275elementStart(31,"label",10),y.\u0275\u0275text(32,"Email"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(33,"input",16,17),y.\u0275\u0275listener("ngModelChange",function(E){return u.client.email=E}),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(35,"div",13),y.\u0275\u0275text(36," Email required "),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(37,"div",13),y.\u0275\u0275text(38," Email is invalid "),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(39,"div",9),y.\u0275\u0275elementStart(40,"label",18),y.\u0275\u0275text(41,"Phone"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(42,"input",19,20),y.\u0275\u0275listener("ngModelChange",function(E){return u.client.phone=E}),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(44,"div",13),y.\u0275\u0275text(45," Phone is required "),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(46,"div",13),y.\u0275\u0275text(47," Must be at least 10 characters "),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(48,"div",9),y.\u0275\u0275elementStart(49,"label",21),y.\u0275\u0275text(50,"Balance"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(51,"input",22,23),y.\u0275\u0275listener("ngModelChange",function(E){return u.client.balance=E}),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(53,"input",24),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementEnd()}if(2&i){const d=y.\u0275\u0275reference(16),f=y.\u0275\u0275reference(25),E=y.\u0275\u0275reference(34),w=y.\u0275\u0275reference(43);y.\u0275\u0275advance(2),y.\u0275\u0275propertyInterpolate1("routerLink","/client/",u.id,""),y.\u0275\u0275advance(13),y.\u0275\u0275property("ngModel",u.client.firstName)("ngClass",y.\u0275\u0275pureFunction1(19,Gy,d.errors&&d.touched)),y.\u0275\u0275advance(2),y.\u0275\u0275property("hidden",!(null!=d.errors&&d.errors.required)),y.\u0275\u0275advance(2),y.\u0275\u0275property("hidden",!(null!=d.errors&&d.errors.minlength)),y.\u0275\u0275advance(5),y.\u0275\u0275property("ngClass",y.\u0275\u0275pureFunction1(21,Gy,f.errors&&f.touched))("ngModel",u.client.lastName),y.\u0275\u0275advance(2),y.\u0275\u0275property("hidden",!(null!=f.errors&&f.errors.required)),y.\u0275\u0275advance(2),y.\u0275\u0275property("hidden",!(null!=f.errors&&f.errors.minlength)),y.\u0275\u0275advance(5),y.\u0275\u0275property("ngClass",y.\u0275\u0275pureFunction1(23,Gy,E.errors&&d.touched))("ngModel",u.client.email),y.\u0275\u0275advance(2),y.\u0275\u0275property("hidden",!(null!=E.errors&&E.errors.required)),y.\u0275\u0275advance(2),y.\u0275\u0275property("hidden",!(null!=E.errors&&E.errors.pattern)),y.\u0275\u0275advance(5),y.\u0275\u0275property("ngClass",y.\u0275\u0275pureFunction1(25,Gy,E.errors&&w.touched))("ngModel",u.client.phone),y.\u0275\u0275advance(2),y.\u0275\u0275property("hidden",!(null!=w.errors&&w.errors.required)),y.\u0275\u0275advance(2),y.\u0275\u0275property("hidden",!(null!=w.errors&&w.errors.minlength)),y.\u0275\u0275advance(5),y.\u0275\u0275property("ngModel",u.client.balance)("disabled",u.disabledBalanceOnEdit)}},directives:[$s,Qc,Fh,hu,pa,Gp,Jc,qc,Io,T.NgClass,py,fy],styles:[""]}),s})(),oA=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=y.\u0275\u0275defineComponent({type:s,selectors:[["app-not-found"]],decls:2,vars:0,template:function(i,u){1&i&&(y.\u0275\u0275elementStart(0,"p"),y.\u0275\u0275text(1,"not-found works!"),y.\u0275\u0275elementEnd())},styles:[""]}),s})(),Tl=(()=>{class s{constructor(i,u){this.router=i,this.afAuth=u}canActivate(){return this.afAuth.authState.pipe((0,ft.U)(i=>!!i||(this.router.navigate(["/login"]),!1)))}}return s.\u0275fac=function(i){return new(i||s)(y.\u0275\u0275inject(nr),y.\u0275\u0275inject(kh))},s.\u0275prov=y.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s})(),ag=(()=>{class s{constructor(i,u){this.router=i,this.settingsService=u}canActivate(){return!!this.settingsService.getSettings().allowRegistration||(this.router.navigate(["/login"]),!1)}}return s.\u0275fac=function(i){return new(i||s)(y.\u0275\u0275inject(nr),y.\u0275\u0275inject(sd))},s.\u0275prov=y.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac}),s})();const Vr=[{path:"",component:sD,canActivate:[Tl]},{path:"login",component:VC},{path:"register",component:sg,canActivate:[ag]},{path:"client/add",component:od,canActivate:[Tl]},{path:"client/edit/:id",component:qy,canActivate:[Tl]},{path:"client/:id",component:jC,canActivate:[Tl]},{path:"settings",component:iA,canActivate:[Tl]},{path:"**",component:oA}];let aA=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=y.\u0275\u0275defineInjector({providers:[Tl,ag],imports:[[Kb.forRoot(Vr)],Kb]}),s})(),uA=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=y.\u0275\u0275defineNgModule({type:s,bootstrap:[nD]}),s.\u0275inj=y.\u0275\u0275defineInjector({providers:[rg,yy,sd],imports:[[Ao,aA,Gt.hO.initializeApp(Ur_firebase),OT,RT,Sw,fu.qz.forRoot()]]}),s})();(0,y.enableProdMode)(),qn().bootstrapModule(uA).catch(s=>console.error(s))},4762:(Je,Te,j)=>{"use strict";j.d(Te,{ZT:()=>y,pi:()=>K,_T:()=>le,mG:()=>Ee,Jh:()=>J,XA:()=>Z,CR:()=>G,ev:()=>ne});var T=function(ve,fe){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ye,we){ye.__proto__=we}||function(ye,we){for(var ge in we)Object.prototype.hasOwnProperty.call(we,ge)&&(ye[ge]=we[ge])})(ve,fe)};function y(ve,fe){if("function"!=typeof fe&&null!==fe)throw new TypeError("Class extends value "+String(fe)+" is not a constructor or null");function ye(){this.constructor=ve}T(ve,fe),ve.prototype=null===fe?Object.create(fe):(ye.prototype=fe.prototype,new ye)}var K=function(){return(K=Object.assign||function(fe){for(var ye,we=1,ge=arguments.length;we<ge;we++)for(var se in ye=arguments[we])Object.prototype.hasOwnProperty.call(ye,se)&&(fe[se]=ye[se]);return fe}).apply(this,arguments)};function le(ve,fe){var ye={};for(var we in ve)Object.prototype.hasOwnProperty.call(ve,we)&&fe.indexOf(we)<0&&(ye[we]=ve[we]);if(null!=ve&&"function"==typeof Object.getOwnPropertySymbols){var ge=0;for(we=Object.getOwnPropertySymbols(ve);ge<we.length;ge++)fe.indexOf(we[ge])<0&&Object.prototype.propertyIsEnumerable.call(ve,we[ge])&&(ye[we[ge]]=ve[we[ge]])}return ye}function Ee(ve,fe,ye,we){return new(ye||(ye=Promise))(function(se,xe){function it(wt){try{tt(we.next(wt))}catch(nn){xe(nn)}}function Dt(wt){try{tt(we.throw(wt))}catch(nn){xe(nn)}}function tt(wt){wt.done?se(wt.value):function(se){return se instanceof ye?se:new ye(function(xe){xe(se)})}(wt.value).then(it,Dt)}tt((we=we.apply(ve,fe||[])).next())})}function J(ve,fe){var we,ge,se,xe,ye={label:0,sent:function(){if(1&se[0])throw se[1];return se[1]},trys:[],ops:[]};return xe={next:it(0),throw:it(1),return:it(2)},"function"==typeof Symbol&&(xe[Symbol.iterator]=function(){return this}),xe;function it(tt){return function(wt){return function(tt){if(we)throw new TypeError("Generator is already executing.");for(;ye;)try{if(we=1,ge&&(se=2&tt[0]?ge.return:tt[0]?ge.throw||((se=ge.return)&&se.call(ge),0):ge.next)&&!(se=se.call(ge,tt[1])).done)return se;switch(ge=0,se&&(tt=[2&tt[0],se.value]),tt[0]){case 0:case 1:se=tt;break;case 4:return ye.label++,{value:tt[1],done:!1};case 5:ye.label++,ge=tt[1],tt=[0];continue;case 7:tt=ye.ops.pop(),ye.trys.pop();continue;default:if(!(se=(se=ye.trys).length>0&&se[se.length-1])&&(6===tt[0]||2===tt[0])){ye=0;continue}if(3===tt[0]&&(!se||tt[1]>se[0]&&tt[1]<se[3])){ye.label=tt[1];break}if(6===tt[0]&&ye.label<se[1]){ye.label=se[1],se=tt;break}if(se&&ye.label<se[2]){ye.label=se[2],ye.ops.push(tt);break}se[2]&&ye.ops.pop(),ye.trys.pop();continue}tt=fe.call(ve,ye)}catch(wt){tt=[6,wt],ge=0}finally{we=se=0}if(5&tt[0])throw tt[1];return{value:tt[0]?tt[1]:void 0,done:!0}}([tt,wt])}}}function Z(ve){var fe="function"==typeof Symbol&&Symbol.iterator,ye=fe&&ve[fe],we=0;if(ye)return ye.call(ve);if(ve&&"number"==typeof ve.length)return{next:function(){return ve&&we>=ve.length&&(ve=void 0),{value:ve&&ve[we++],done:!ve}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}function G(ve,fe){var ye="function"==typeof Symbol&&ve[Symbol.iterator];if(!ye)return ve;var ge,xe,we=ye.call(ve),se=[];try{for(;(void 0===fe||fe-- >0)&&!(ge=we.next()).done;)se.push(ge.value)}catch(it){xe={error:it}}finally{try{ge&&!ge.done&&(ye=we.return)&&ye.call(we)}finally{if(xe)throw xe.error}}return se}function ne(ve,fe,ye){if(ye||2===arguments.length)for(var se,we=0,ge=fe.length;we<ge;we++)(se||!(we in fe))&&(se||(se=Array.prototype.slice.call(fe,0,we)),se[we]=fe[we]);return ve.concat(se||Array.prototype.slice.call(fe))}},8239:(Je,Te,j)=>{"use strict";function T(K,le,he,ce,Se,Ee,J){try{var B=K[Ee](J),$=B.value}catch(Z){return void he(Z)}B.done?le($):Promise.resolve($).then(ce,Se)}function y(K){return function(){var le=this,he=arguments;return new Promise(function(ce,Se){var Ee=K.apply(le,he);function J($){T(Ee,ce,Se,J,B,"next",$)}function B($){T(Ee,ce,Se,J,B,"throw",$)}J(void 0)})}}j.d(Te,{Z:()=>y})}},Je=>{Je(Je.s=5514)}]);